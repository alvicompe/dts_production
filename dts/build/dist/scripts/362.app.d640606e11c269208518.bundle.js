(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[362],{69711:(e,t,i)=>{e.exports=i.p+"fcc811ae2297d46be106267335e25c28.svg"},34250:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var s=i(85893),a=i(67294),n=i(41120),o=i(35117),r=i(8920),l=i(76211),d=i(33758);const c=(0,n.Z)((e=>(0,o.Z)({fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:2}})));function h({actionClick:e,Icon:t,visible:i,disabled:n,right:o,color:h,keyAction:g}){const x=c(),v=(0,r.Z)();(0,a.useEffect)((()=>{const t=t=>{console.log(t.key),t.key!==(null==g?void 0:g.toUpperCase())&&t.key!==(null==g?void 0:g.toLocaleLowerCase())&&t.key!==g||e()};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}}),[]);const m={enter:v.transitions.duration.enteringScreen,exit:v.transitions.duration.leavingScreen};return(0,s.jsx)(l.Z,Object.assign({in:i,timeout:m,unmountOnExit:!0},{children:(0,s.jsx)(d.Z,Object.assign({disabled:n,onClick:e,className:x.fab,style:{right:o},size:"small",color:h||"primary"},{children:(0,s.jsx)(t,{},void 0)}),void 0)}),void 0)}},10646:(e,t,i)=>{"use strict";i.d(t,{l:()=>s});const s=e=>[`${e.getFullYear()}-${`0${e.getMonth()+1}`.substr(-2)}-${`0${e.getDate()}`.substr(-2)}`]},88093:(e,t,i)=>{"use strict";i.d(t,{R:()=>s});const s=()=>{var e=new Date;return e.getHours(),{dateShift:e.getHours()>=0&&e.getHours()<7?new Date(e.getTime()-864e5):e}}},81089:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Q});var s=i(85893),a=i(41749),n=i(10046),o=i(67294),r=i(18463),l=i(94697),d=i(22318),c=i(79912),h=i(33901);const g=({title:e,icon:t,subheader:i,children:a,customStyle:n})=>(0,s.jsx)(r.Z,{children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{style:{color:"#0069AA"},title:(0,s.jsx)(d.Z,Object.assign({variant:"subtitle1",style:{textAlign:"center",fontSize:"0.875rem"}},{children:e}),void 0),subheader:i},void 0),(0,s.jsx)(c.Z,{children:a},void 0)]},void 0):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.Z,{style:{color:"#0069AA"},avatar:(0,s.jsx)(h.Z,{variant:"square",src:t},void 0),title:e,subheader:i},void 0),(0,s.jsx)(c.Z,{children:a},void 0)]},void 0)},void 0);var x=i(47229),v=i(73855),m=i(4650);const u=()=>{const{reportPerformancePerHour:e,isSelectDay:t,isSelectNight:i}=(0,v.C)(m.Ig),[a,n]=(0,o.useState)([]),[r,l]=(0,o.useState)([]),[d,c]=(0,o.useState)([]),[h,g]=(0,o.useState)([]),[u,p]=(0,o.useState)([]);(0,o.useEffect)((()=>{(new Date).getHours(),t&&(n(e.day.hourList),l(e.day.padList),c(e.day.stockList),g(e.day.dmeList),p(e.day.lenTruckList)),i&&(n(e.night.hourList),l(e.night.padList),c(e.night.stockList),g(e.night.dmeList),p(e.night.lenTruckList))}),[e,t,i]);const j=(e=>{const{categorie:t,pad:i,stock:s,dme:a,trucks:n,op:o}=e,{id:r,padName:l,stockName:d,dmeName:c,trucksName:h}=o;return{stateChart:{series:[{name:l,type:"column",data:i},{name:d,type:"column",data:s},{name:c,type:"column",data:a},{name:h,type:"line",data:n}],options:{colors:["#FF0808","#F1C012","#069B15","#191970"],dataLabels:{enabled:!0},chart:{id:"bar-"+r,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},labels:t,xaxis:{title:{text:"Horas"}},yaxis:[{title:{text:"Toneladas"}}],legend:{position:"top",offsetY:10}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}})({categorie:a,pad:r,stock:d,dme:h,trucks:u,op:{id:"Toneladas",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE",trucksName:"CAMIONES"}});return(0,s.jsx)("div",{children:(0,s.jsx)(x.Z,{options:j.stateChart.options,series:j.stateChart.series,type:"line",height:"413"},void 0)},void 0)};var p=i(90179),j=i(43856);const b=()=>{const{reportPerformancePerHour:e,isSelectDay:t,isSelectNight:i}=(0,v.C)(m.Ig),[a,n]=(0,o.useState)([]),[r,l]=(0,o.useState)([]);(0,o.useEffect)((()=>{t&&(n(e.day.hourList),l(e.day.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList}))))),i&&(n(e.night.hourList),l(e.night.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList})))))}),[e,t,i]);const d=(e=>{const{categorie:t,op:i,seriesEx:s}=e,{id:a}=i;return{stateChart:{series:s,options:{colors:["#DB0A5B","#FF6322","#FFBB04","#2ECC71","#00B0FF","#BC50FA","#68E1FF","#754B10","#003F63","#FFA700","#64732F","#D94625"],chart:{id:"bar-"+a,height:350},plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:t,title:{text:"Horas"}},yaxis:[{title:{text:"Toneladas"}}],tooltip:{shared:!1,y:{formatter:function(e){return e+" Toneladas"}}},fill:{opacity:1},legend:{position:"top",offsetY:10}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}})({categorie:a,seriesEx:r,op:{id:"excavator"}});return(0,s.jsx)("div",{children:(0,s.jsx)(x.Z,{options:d.stateChart.options,series:d.stateChart.series,type:"bar",height:"413"},void 0)},void 0)},y=()=>{const{reportPerformancePerHour:e}=(0,v.C)(m.Ig),{tonnePerTruck:t}=e.day,i=(e=>{const{pad:t,stock:i,dme:s,goalPad:a,goalStock:n,goalDme:o,op:r}=e,{id:l,padName:d,stockName:c,dmeName:h}=r;return{stateChart:{series:[{name:"Actual",data:[{x:d,y:t,goals:[{name:c,value:a,strokeWidth:5,strokeColor:"#008000"}]},{x:c,y:i,goals:[{name:"META",value:n,strokeWidth:5,strokeColor:"#008000"}]},{x:h,y:s,goals:[{name:"META",value:o,strokeWidth:5,strokeColor:"#008000"}]}]}],options:{chart:{id:"bar-"+l,height:350},plotOptions:{bar:{columnWidth:"60%",horizontal:!0}},colors:["#000"],dataLabels:{enabled:!0,formatter:function(e,t){const i=t.w.config.series[t.seriesIndex].data[t.dataPointIndex].goals;return i&&i.length?`${e} / ${i[0].value}`:e}},legend:{show:!0,showForSingleSeries:!0,customLegendItems:["PRODUCCION","META"],markers:{fillColors:["#000","#008000"]}}}}}})({pad:e.day.lenCyclePad*t+e.night.lenCyclePad*t,stock:e.day.lenCycleStock*t+e.night.lenCycleStock*t,dme:e.day.lenCycleDme*t+e.night.lenCycleDme*t,goalPad:0,goalStock:0,goalDme:0,op:{id:"producction",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE"}});return(0,s.jsx)("div",{children:(0,s.jsx)(x.Z,{options:i.stateChart.options,series:i.stateChart.series,type:"bar",height:"282"},void 0)},void 0)};var f=i(2357);const Z=({shift:e,lenCycleDme:t,lenCyclePad:i,lenCycleStock:n,label:l,onClick:c,isSelect:h})=>{const[g,x]=(0,o.useState)(""),[v,m]=(0,o.useState)(0),u=(new Date).getHours();return(0,o.useEffect)((()=>{e!=f.Shift.DAY&&u>=7&&u<19&&x("rgb(75 75 75 / 20%)"),e!=f.Shift.NIGHT&&u>=18&&x("rgb(75 75 75 / 20%)"),m(1==h?5:0)}),[c]),(0,s.jsx)(r.Z,Object.assign({onClick:c,style:{flex:"auto"},elevation:v},{children:(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"column",alignItems:"center"},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsxs)(d.Z,Object.assign({style:{color:"#0069AA"},gutterBottom:!0,variant:"h6",component:"h2"},{children:[l," "]}),void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({container:!0,item:!0,spacing:2,justifyContent:"space-around"},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0},{children:[(0,s.jsx)(d.Z,Object.assign({style:{color:"#069B15"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Desmonte"}),void 0),(0,s.jsx)(d.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:t}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0},{children:[(0,s.jsx)(d.Z,Object.assign({style:{color:"#F1C012"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Stock"}),void 0),(0,s.jsx)(d.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:n}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0},{children:[(0,s.jsx)(d.Z,Object.assign({style:{color:"#FF0808"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Mineral"}),void 0),(0,s.jsx)(d.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:i}),void 0)]}),void 0)]}),void 0)]}),void 0)}),void 0)};var O=i(77349),C=i(42799),k=i(36233),S=i(43703),I=i(11640),A=i(66598),D=i(8230),L=i(41120),N=i(35117);const w=(0,L.Z)((()=>(0,N.Z)({container:{display:"flex",width:"100%",background:"inherit",justifyContent:"center"},buttonWrapper:{display:"flex",alignItems:"flexEnd",background:"inherit"},button:{border:"none",textDecoration:"none",cursor:"pointer",borderRadius:"50%",width:"40px",height:"40px",color:"white",fontSize:"20px",fontWeight:"bold",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",padding:0,marginBottom:"13px"},dateListScrollable:{display:"flex",overflowX:"hidden",scrollbarWidth:"none",WebkitOverflowScrolling:"touch"},monthContainer:{display:"flex",flexDirection:"column",cursor:"pointer",padding:" 2px",margin:"2px"},monthYearLabel:{alignSelf:"flex-start",zIndex:3,fontSize:"15px",fontWeight:"bold",position:"sticky",top:" 10px",left:"0",margin:"0 10px"},dateDayItem:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",margin:"0 0 0 5px",width:"32px",flexShrink:0},dateDayItemMarked:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",margin:" 0 0 0 10px",width:" 32px",height:"100%",flexShrink:0},daysContainer:{display:"flex",zIndex:3,marginTop:"10px"},dayLabel:{fontSize:"12px",margin:"4px 0 0 0"},dateLabel:{fontSize:"18px"},markedLabel:{marginTop:"10px"}}))),T=({startDate:e,lastDate:t,selectDate:i,getSelectedDay:a,primaryColor:n,labelFormat:r,marked:l})=>{const[d,c]=(0,o.useState)(null);var h={fontWeight:"bold",width:"45px",height:"45px",borderRadius:"50%",border:`2px solid ${n}`,color:n};const g={color:n},x={color:"#8c3737",padding:"2px",fontSize:12},v=e=>(0,C.Z)(e,d)?h:null,m=e=>{var t;const i=w();let a=l.find((t=>(0,C.Z)(t.date,e)));if(a){if(!(null==a?void 0:a.marked))return;return(0,s.jsx)("div",Object.assign({style:Object.assign({},null!==(t=null==a?void 0:a.style)&&void 0!==t?t:x),className:i.markedLabel},{children:a.text}),void 0)}return""},u=e=>{c(e),a&&a(e)};return(0,o.useEffect)((()=>{a&&a(i||e)}),[]),(0,o.useEffect)((()=>{i&&((0,C.Z)(d,i)||(c(i),setTimeout((()=>{let e=document.getElementById("selected");e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}),20)))}),[i]),(0,s.jsx)(o.Fragment,{children:(()=>{const i=w(),a=[];let n=[];for(let c=0;c<=(0,k.Z)(t,e);c++){let h,x;const p=(0,S.Z)((0,I.Z)(e,c));h=0===c?Number((0,A.Z)(e,"d"))-1:0,x=c===(0,k.Z)(t,e)?Number((0,A.Z)(t,"d")):Number((0,A.Z)((0,D.Z)(p),"d"));for(let e=h;e<x;e++){let t=(0,O.Z)(p,e);console.log(),n.push((0,s.jsxs)("div",Object.assign({id:(o=t,(0,C.Z)(o,d)?"selected":""),className:l?i.dateDayItemMarked:i.dateDayItem,style:v(t),onClick:()=>u(t)},{children:[(0,s.jsx)("div",Object.assign({className:i.dayLabel},{children:(0,A.Z)(t,"E")}),void 0),(0,s.jsx)("div",Object.assign({className:i.dateLabel},{children:(0,A.Z)(t,"d")}),void 0),m(t)]}),t.getTime()))}a.push((0,s.jsxs)("div",Object.assign({className:i.monthContainer},{children:[(0,s.jsx)("span",Object.assign({className:i.monthYearLabel,style:g},{children:(0,A.Z)(p,r||"MMMM yyyy")}),void 0),(0,s.jsx)("div",Object.assign({className:i.daysContainer},{children:n}),void 0)]}),p.getTime())),n=[]}var o;return(0,s.jsx)("div",Object.assign({id:"container",className:i.dateListScrollable},{children:a}),void 0)})()},void 0)},F=({startDate:e,lastDate:t,selectDate:i,getSelectedDay:a,primaryColor:n,labelFormat:r})=>{const[l,d]=(0,o.useState)(null),c=n.replace(/[^\d,]/g,"").split(","),h={borderRadius:"0.7rem",background:`${n}`,color:Math.round((299*parseInt(c[0])+587*parseInt(c[1])+114*parseInt(c[2]))/1e3)>125?"black":"white"},g=e=>(0,C.Z)(e,l)?h:null,x=w(),v=e=>{d(e),a&&a(e)};return(0,o.useEffect)((()=>{a&&a(i||e)}),[]),(0,o.useEffect)((()=>{i&&((0,C.Z)(l,i)||(d(i),setTimeout((()=>{let e=document.getElementById("selected");e&&e.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}),20)))}),[i]),(0,s.jsx)(o.Fragment,{children:(()=>{const i=[];for(let n=0;n<=(0,k.Z)(t,e);n++){const t=(0,S.Z)((0,I.Z)(e,n));i.push((0,s.jsx)("div",Object.assign({id:(a=t,(0,C.Z)(a,l)?"selected":""),className:x.monthContainer,style:g(t),onClick:()=>v(t)},{children:(0,s.jsx)("span",Object.assign({className:x.monthYearLabel},{children:(0,A.Z)(t,r||"MMMM yyyy")}),void 0)}),t.getTime()))}var a;return(0,s.jsx)("div",Object.assign({id:"container",className:x.dateListScrollable},{children:i}),void 0)})()},void 0)},E=e=>{const t=e.color?e.color.indexOf("rgb")>0?e.color:(i=e.color,(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i))?"rgb("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+")":null):"rgb(54, 105, 238)";var i,a;const n=e.startDate||new Date,o=(0,O.Z)(n,e.days||90);let r={zIndex:2},l={background:t},d=T;"month"===e.type&&({zIndex:5},d=F,l={background:t});const c=w();return(0,s.jsx)("div",Object.assign({className:c.container},{children:(0,s.jsx)(d,Object.assign({},e,{primaryColor:t,startDate:n,lastDate:o}),void 0)}),void 0)};var P=i(34250),B=i(10646),z=i(88093),M=i(71768);const R=e=>{const{categorie:t,series:i,op:s,label:a}=e,{id:n}=s;return{stateChart:{series:[{name:a,data:i}],options:{colors:["#FF0808","#F1C012","#069B15","#191970"],dataLabels:{enabled:!0},grid:{show:!1},chart:{id:"bar-"+n,stacked:!0,toolbar:{show:!1},zoom:{enabled:!1}},labels:t,xaxis:{categories:t,title:{text:""},labels:{show:!0}},yaxis:{title:{text:a},labels:{show:!1},min:0,max:100}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}},H=e=>{const{value:t,op:i}=e,{id:s}=i;return{stateChart:{series:[t],options:{colors:["#191970","#F1C012","#069B15","#191970"],dataLabels:{enabled:!0},chart:{id:"bar-"+s,stacked:!0,toolbar:{show:!1},offsetY:-20,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",margin:5,dropShadow:{enabled:!0,top:2,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!1},value:{offsetY:-2,fontSize:"22px"}}}},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,53,91]}}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}},U=e=>{const{value:t,op:i}=e,{id:s}=i;return{stateChart:{series:[t],options:{colors:["#191970","#F1C012","#069B15","#191970"],dataLabels:{enabled:!1},chart:{id:"bar-"+s,stacked:!1,toolbar:{show:!1},offsetY:-20,sparkline:{enabled:!0}},plotOptions:{radialBar:{startAngle:-90,endAngle:90,track:{background:"#e7e7e7",strokeWidth:"97%",margin:5,dropShadow:{enabled:!0,top:2,left:0,color:"#999",opacity:1,blur:2}},dataLabels:{name:{show:!1},value:{offsetY:-2,fontSize:"22px",formatter:function(e){return e+" Tn/h"}}}}},fill:{type:"gradient",gradient:{shade:"light",shadeIntensity:.3,inverseColors:!1,opacityFrom:1,opacityTo:1,stops:[0,50,53,91]}}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}},$=()=>{const{status:e,dataReport:t}=(0,v.C)(M.vs),{isSelectDay:i,isSelectNight:n}=(0,v.C)(m.Ig),{load:o}=t,r=o.labelDaysReportList,l=o.mechanicalAvailabilityList.map((function(e){return Number(e.toFixed(2))})),c=o.utilizationList.map((function(e){return Number(e.toFixed(2))})),h=o.productivityList.map((function(e){return Number(e.toFixed(2))})),g=Number(o.todayMechanicalAvailability.toFixed(1)),u=Number(o.todayUtilization.toFixed(1)),p=Number(o.todayProductivity.toFixed(1)),j=R({categorie:r,series:l,op:{id:"loadMechAvailability"},label:"Disp. Mecánica"}),b=R({categorie:r,series:c,op:{id:"loadUtilization"},label:"Utilización"}),y=R({categorie:r,series:h,op:{id:"loadDisponibility"},label:"Productividad"}),f=H({value:g,op:{id:"AvailabilityToday"}}),Z=H({value:u,op:{id:"UtilizationToday"}}),O=U({value:p,op:{id:"ProductivityToday"}});return(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"column"},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12,spacing:0},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:j.stateChart.options,series:j.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:f.stateChart.options,series:f.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:b.stateChart.options,series:b.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:Z.stateChart.options,series:Z.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:y.stateChart.options,series:y.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:O.stateChart.options,series:O.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0)]}),void 0)},W=()=>{const e=i(53292),t=i(69711),{isSelectDay:n,isSelectNight:r}=(0,v.C)(m.Ig),{dataReport:l}=(0,v.C)(M.vs),{load:c,haulage:g}=l,[u,p]=(0,o.useState)(),[j,b]=(0,o.useState)(),[y,f]=(0,o.useState)();(0,o.useEffect)((()=>{n&&(p(c.mechanicalAvailabilityList),b(c.utilizationList),f(c.productivityList)),r&&(p(c.mechanicalAvailabilityList),b(c.utilizationList),f(c.productivityList))}),[r,n]);const Z=Number(c.todayMechanicalAvailability.toFixed(1)),O=Number(c.todayUtilization.toFixed(1)),C=Number(c.todayProductivity.toFixed(1)),k=Number(g.todayMechanicalAvailability.toFixed(1)),S=Number(g.todayUtilization.toFixed(1)),I=Number(g.todayProductivity.toFixed(1)),A=H({value:Z,op:{id:"LoadMechanicalAvailability"}}),D=H({value:O,op:{id:"LoadUtilization"}}),L=U({value:C,op:{id:"LoadProductivity"}}),N=H({value:k,op:{id:"HaulageMechanicalAvailability"}}),w=H({value:S,op:{id:"HaulageUtilization"}}),T=U({value:I,op:{id:"HaulageProductivity"}});return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"column"},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsx)(a.Z,{item:!0,md:3,xs:3},void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(d.Z,Object.assign({variant:"subtitle1",style:{textAlign:"center"}},{children:"DISPONIBILIDAD MECÁNICA"}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(d.Z,Object.assign({variant:"subtitle1",style:{textAlign:"center"}},{children:"UTILIZACIÓN"}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(d.Z,Object.assign({variant:"subtitle1",style:{textAlign:"center"}},{children:"PRODUCTIVIDAD"}),void 0)}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,md:3,xs:3,style:{display:"flex",paddingLeft:"8px"}},{children:[(0,s.jsx)(h.Z,{variant:"square",src:t},void 0),(0,s.jsx)(d.Z,Object.assign({style:{textAlign:"left",alignSelf:"center",marginLeft:"8px"}},{children:"ACARREO"}),void 0)]}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:N.stateChart.options,series:N.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:w.stateChart.options,series:w.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:T.stateChart.options,series:T.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,md:3,xs:3,style:{display:"flex",paddingLeft:"8px"}},{children:[(0,s.jsx)(h.Z,{variant:"square",src:e},void 0),(0,s.jsx)(d.Z,Object.assign({style:{textAlign:"left",alignSelf:"center",marginLeft:"8px"}},{children:"CARGUIO"}),void 0)]}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:A.stateChart.options,series:A.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:D.stateChart.options,series:D.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,xs:3},{children:(0,s.jsx)(x.Z,{options:L.stateChart.options,series:L.stateChart.series,type:"radialBar",height:"200"},void 0)}),void 0)]}),void 0)]}),void 0)},void 0)},Y=()=>{const{dataReport:e}=(0,v.C)(M.vs),{isSelectDay:t,isSelectNight:i}=(0,v.C)(m.Ig),{haulage:n}=e,o=n.labelDaysReportList,r=n.mechanicalAvailabilityList.map((function(e){return Number(e.toFixed(2))})),l=n.utilizationList.map((function(e){return Number(e.toFixed(2))})),c=n.productivityList.map((function(e){return Number(e.toFixed(2))})),h=Number(n.todayMechanicalAvailability.toFixed(1)),g=Number(n.todayUtilization.toFixed(1)),u=Number(n.todayProductivity.toFixed(1)),p=R({categorie:o,series:r,op:{id:"HaulageMechAvailability"},label:"Disp. Mecánica"}),j=R({categorie:o,series:l,op:{id:"HaulageUtilization"},label:"Utilización"}),b=R({categorie:o,series:c,op:{id:"HaulageProductivity"},label:"Productividad"}),y=H({value:h,op:{id:"HaulageMechAvailabilityToday"}}),f=H({value:g,op:{id:"HaulageUtilizationToday"}}),Z=U({value:u,op:{id:"HaulageProductivityToday"}});return(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"column"},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12,spacing:0},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:p.stateChart.options,series:p.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:y.stateChart.options,series:y.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:j.stateChart.options,series:j.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:f.stateChart.options,series:f.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,direction:"row",alignItems:"center",xl:12,md:12,xs:12},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,md:8,xs:8},{children:(0,s.jsx)(x.Z,{options:b.stateChart.options,series:b.stateChart.series,type:"line",height:"150"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({item:!0,md:4,xs:4},{children:[(0,s.jsx)(x.Z,{options:Z.stateChart.options,series:Z.stateChart.series,type:"radialBar",height:"195"},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"subtitle2",style:{textAlign:"center"}},{children:"Today"}),void 0)]}),void 0)]}),void 0)]}),void 0)},G=i(53292),V=i(69711),K=()=>{const e=(0,v.T)(),{statusReportPerformancePerHour:t,reportPerformancePerHour:i}=(0,v.C)(m.Ig),{isSelectDay:r,isSelectNight:l}=(0,v.C)(m.Ig),{lenCycleDme:d,lenCyclePad:c,lenCycleStock:h,tonnePerTruck:x}=i.day;var O=new Date,C=new Date(O.getTime()-26784e5);const{dateShift:k}=(0,z.R)(),[S,I]=(0,o.useState)(k),[A]=(0,B.l)(S);function D(){const t={dateStart:`${A}T00:00`,dateEnd:`${A}T00:00`};e((0,m.D2)(t)),e((0,M.X4)(t))}(0,o.useEffect)((()=>{D()}),[S]),(0,o.useEffect)((()=>{k.getHours()>=7&&k.getHours()<19?e((0,m.Sv)(!0)):e((0,m.kQ)(!0))}),[]);const L=e=>{I(e)};return(0,o.useEffect)((()=>(setInterval((()=>{const e=new Date;0===e.getMinutes()&&(D(),L(e),console.log("set time"))}),3e4),()=>{})),[]),(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a.Z,Object.assign({container:!0},{children:(0,s.jsx)(E,{startDate:C,days:31,marked:[{}],selectDate:S,getSelectedDay:L,color:"#024e8c"},void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"row"},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsx)(g,Object.assign({title:"TONELAJE POR HORA (Tn/Hr)",icon:V},{children:(0,s.jsx)(u,{},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsxs)(a.Z,Object.assign({container:!0,spacing:2},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0,container:!0,spacing:2,justifyContent:"space-between"},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(Z,{onClick:function(){e((0,m.Sv)(!0)),e((0,m.kQ)(!1))},isSelect:r,shift:f.Shift.DAY,label:"DIA",lenCycleDme:d*x,lenCyclePad:c*x,lenCycleStock:h*x},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(Z,{isSelect:l,onClick:function(){e((0,m.Sv)(!1)),e((0,m.kQ)(!0))},shift:f.Shift.NIGHT,label:"NOCHE",lenCycleDme:i.night.lenCycleDme*x,lenCyclePad:i.night.lenCyclePad*x,lenCycleStock:i.night.lenCycleStock*x},void 0)}),void 0)]}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:12},{children:(0,s.jsx)(g,Object.assign({title:"PRODUCCIÓN TOTAL POR DIA",icon:""},{children:(0,s.jsx)(y,{},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:12},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsx)(g,Object.assign({title:"RENDIMIENTO POR EXCAVADORA (Tn/Hr)",icon:G},{children:(0,s.jsx)(b,{},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,xl:6,md:6,xs:12},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsx)(g,Object.assign({title:"INDICADORES KPI",customStyle:!0},{children:(0,s.jsx)(W,{},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,{item:!0,xl:6,md:6,xs:12},void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsx)(g,Object.assign({title:"ACARREO",icon:V},{children:(0,s.jsx)(Y,{},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,lg:6},{children:(0,s.jsx)(n.Z,Object.assign({p:3},{children:(0,s.jsx)(g,Object.assign({title:"CARGUIO",icon:G},{children:(0,s.jsx)($,{},void 0)}),void 0)}),void 0)}),void 0)]}),void 0),(0,s.jsx)(P.Z,{visible:"done"===t,actionClick:D,Icon:p.Z,disabled:"done"!=t,color:"secondary",right:8,keyAction:"R"},void 0),(0,s.jsx)(P.Z,{visible:"done"===t,actionClick:function(){const t={dateStart:`${A}T00:00`,dateEnd:`${A}T00:00`};e((0,m.BF)(t))},Icon:j.Z,disabled:"done"!=t,color:"secondary",right:70},void 0)]},void 0)};var q=i(16281);function Q(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(q.h,{title:"Dashboard",notificationPannel:!0},void 0),(0,s.jsx)(K,{},void 0)]},void 0)}},16281:(e,t,i)=>{"use strict";i.d(t,{h:()=>Z});var s=i(85893),a=i(45258),n=i(28358),o=i(282),r=i(22318),l=i(43471),d=i(5977),c=i(55517),h=i(17812),g=i(96617),x=i(73637),v=i(79895),m=i(16575),u=i(51972),p=i(67294),j=i(73855),b=i(45855);const y=({title:e,content:t})=>(0,s.jsxs)("div",Object.assign({style:{paddingBottom:"8px",paddingTop:"8px"}},{children:[(0,s.jsxs)(r.Z,Object.assign({variant:"subtitle1"},{children:[(0,s.jsx)(m.Z,{style:{fontSize:"14px",marginRight:"4px"}},void 0),e]}),void 0),(0,s.jsx)(r.Z,Object.assign({variant:"body1"},{children:t}),void 0),(0,s.jsx)(c.Z,{},void 0)]}),void 0),f=({})=>{var e,t,i;const[a,n]=(0,p.useState)(null),[o,l]=(0,p.useState)(!1),{notificationsHeader:d}=(0,j.C)(b.Af),c=(0,j.T)();(0,p.useEffect)((()=>{c((0,b.pK)())}),[]);const m=o&&Boolean(a)?"transition-popper":void 0;return(0,s.jsxs)("div",Object.assign({style:{display:"flex",flexDirection:"row",alignItems:"center",width:"8%",marginRight:"4px"}},{children:["Notifications",(0,s.jsx)(h.Z,Object.assign({color:(null===(e=d.notificationsList)||void 0===e?void 0:e.length)>0?"primary":"inherit",onClick:e=>{n(e.currentTarget),l((e=>!e))}},{children:(0,s.jsxs)("div",Object.assign({style:{margin:"4px"}},{children:[(0,s.jsx)(r.Z,Object.assign({variant:"subtitle2",style:{color:"white",zIndex:1,position:"absolute",justifyContent:"right",marginLeft:"18px"}},{children:(null===(t=d.notificationsList)||void 0===t?void 0:t.length)>0?null===(i=d.notificationsList)||void 0===i?void 0:i.length:""}),void 0),(0,s.jsx)(u.Z,{},void 0)]}),void 0)}),void 0),(0,s.jsx)("div",Object.assign({style:{zIndex:1}},{children:(0,s.jsx)(g.Z,Object.assign({id:m,open:o,anchorEl:a,transition:!0,style:{zIndex:3}},{children:({TransitionProps:e})=>{var t,i,a;return(0,s.jsx)(x.Z,Object.assign({},e,{timeout:350},{children:(0,s.jsxs)(v.Z,Object.assign({elevation:3,style:{width:"300px",height:(null===(t=d.notificationsList)||void 0===t?void 0:t.length)>10?"87vh":"100%",padding:"8px",overflow:"scroll"}},{children:[0===(null===(i=d.notificationsList)||void 0===i?void 0:i.length)&&(0,s.jsx)(s.Fragment,{children:"Not Have a new Notification"},void 0),null===(a=d.notificationsList)||void 0===a?void 0:a.map(((e,t)=>(0,s.jsx)(y,{title:e.title,content:e.message},t)))]}),void 0)}),void 0)}}),void 0)}),void 0)]}),void 0)},Z=({title:e,positionContainer:t,notificationPannel:i})=>{const c=t||"sticky",h=(0,d.k6)();return(0,s.jsx)(a.Z,Object.assign({position:c,color:"secondary",style:{display:"flex"},elevation:0},{children:(0,s.jsxs)("div",Object.assign({style:{display:"flex"}},{children:[(0,s.jsxs)(n.Z,Object.assign({style:{width:"90%"}},{children:[(0,s.jsx)(o.Z,{size:"small",startIcon:(0,s.jsx)(l.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{h.goBack()}},void 0),(0,s.jsx)(r.Z,Object.assign({variant:"h6"},{children:e}),void 0)]}),void 0),i&&(0,s.jsx)(f,{},void 0)]}),void 0)}),void 0)}}}]);