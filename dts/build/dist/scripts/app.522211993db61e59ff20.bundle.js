(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[267],{1242:(e,t,i)=>{"use strict";i.d(t,{a:()=>c});var o=i(5893),n=i(2663),r=i(6083),s=i(9525),a=i(6856),l=i(282),d=i(8715);const c=({open:e,handleClose:t,handleConfirm:i,title:c,message:p})=>(0,o.jsxs)(n.Z,Object.assign({open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,o.jsx)(r.Z,{children:c},void 0),(0,o.jsx)(s.Z,{children:(0,o.jsx)(d.Z,Object.assign({severity:"warning"},{children:p}),void 0)},void 0),(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(l.Z,Object.assign({color:"primary",onClick:t},{children:"Cancelar"}),void 0),(0,o.jsx)(l.Z,Object.assign({color:"secondary",onClick:i,autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)]}),void 0)},8101:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var o=i(5893),n=i(7294),r=i(4880);const s=i(6158);s.accessToken=r.c3;const a=({dragRotate:e,map:t,pitch:i,bearing:r,mapContainer:a,lng:l,lat:d,zoom:c,setLoad:p,style:u,height:h})=>((0,n.useEffect)((()=>{console.log("map.current",t.current,r),t.current||(a&&(t.current=new s.Map({container:a.current,style:u,center:[l,d],pitch:i,bearing:r,zoom:c,maxBounds:[[-78.2747922,-7.6626779],[-78.1305246,-7.5534415]],antialias:!0,dragRotate:e})),console.log("inianco"))}),[t,a]),(0,n.useEffect)((()=>{t.current&&(t.current.addControl(new s.FullscreenControl,"bottom-left"),t.current.addControl(new s.NavigationControl,"bottom-left"),t.current.on("move",(()=>{})),t.current.on("load",(()=>{t.current&&p(!0)})))}),[t]),(0,n.useEffect)((()=>{t.current&&t.current.setBearing(r)}),[r]),(0,o.jsx)("div",{ref:a,style:{flex:1,height:h||"100vh",width:"100%"},className:"map-container"},void 0))},3570:(e,t,i)=>{"use strict";i.d(t,{v:()=>d});var o=i(5893),n=i(7812),r=i(6837),s=i(9544),a=i(7215);const l=(0,i(3914).Z)((()=>({subHeader:{lineHeight:0,background:"#fff",paddingLeft:0,display:"flex",marginTop:8,borderRadius:4,borderBottomStyle:"groove"}}))),d=({useOpen:e,title:t})=>{const i=l(),[d,c]=e,p=(0,o.jsx)(n.Z,Object.assign({size:"small"},{children:d?(0,o.jsx)(s.Z,{fontSize:"small"},void 0):(0,o.jsx)(a.Z,{fontSize:"small"},void 0)}),void 0);return(0,o.jsx)(r.Z,Object.assign({disableGutters:!0,onClick:()=>{c((e=>!e))},component:"span",className:i.subHeader},{children:(0,o.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center"}},{children:[(0,o.jsx)("span",Object.assign({style:{marginLeft:4}},{children:t}),void 0),(0,o.jsx)("div",Object.assign({style:{marginLeft:8}},{children:p}),void 0)]}),void 0)}),void 0)}},2573:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});var o=i(5573);class n{constructor(e,t,i,o,n,r,s,a){this.polygonList=e,this.map=t,this.idSource=i,this.idLayer=o,this.idSourceCentroid=n,this.idLayerCentroid=r,this.fontSize=9,this.onClickElement=s,this.haveCentroid=a}getInMap(){return this.map.getSource(this.idSource)}getCenterInMap(){return this.map.getSource(this.idSourceCentroid)}generateCentroids(){return this.polygonList.map((e=>{var t,i,o;if(!e.centroid)return{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{}};const{latitude:n,longitude:r}=e.centroid;return{type:"Feature",geometry:{type:"Point",coordinates:[r,n]},properties:{name:`${e.name}${e.material?`-${e.material.type}`:""}`,points_polygonTajo:e.pointList.map((e=>[e.longitude,e.latitude])),name_polygon:e.name,name_material:null===(t=e.material)||void 0===t?void 0:t.type,id_polygonTajo:e.id,agTajo:e.ag,agcnTajo:e.agcn,alteTajo:e.alte,asTajo:e.as,auTajo:e.au,auchTajo:e.auch,altitudeTajo:e.altitude,descripcionTajo:"",heightTajo:e.height,litoTajo:e.litio,materialTajo:null===(i=e.material)||void 0===i?void 0:i.type,namePolTajo:e.name,nameProjectTajo:e.nameProject,onzasTajo:e.onzas,orezonetTajo:e.orezonet,ptaucnTajo:e.ptaucn,sTajo:e.s,tonnesTajo:e.tonnes,volumeTajo:e.volume,nameDme:`${e.name}`,points_polygonDme:e.pointList.map((e=>[e.longitude,e.latitude])),id_polygonDme:e.id,tonnesDme:e.tonnes,volumeDme:e.volume,namePad:`${e.name}`,id_Pad:`${e.id}_pad`,points_Pad:e.pointList.map((e=>[e.longitude,e.latitude])),tonnesPad:e.tonnes,volumePad:e.volume,nameStock:`${e.name}`,id_polygonStock:e.id,points_polygonStock:e.pointList.map((e=>[e.longitude,e.latitude])),materialStock:null===(o=e.material)||void 0===o?void 0:o.type,altitudeStock:e.altitude,volumeStock:e.volume}}}))}generateFeatures(){return this.polygonList.map((e=>({type:"Feature",properties:{color:o.O[e.color]?o.O[e.color].hex:e.color,out_color:"blue",opacity:this.haveCentroid?1:.2,opacity_border:1},geometry:{type:"Polygon",coordinates:[e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))]}})))}addToMap(){!this.getInMap()&&this.polygonList.length>0?(console.log("this.generateFeatures()",this.generateFeatures()),this.map.getSource(this.idSource)||this.map.addSource(this.idSource,{type:"geojson",data:{type:"FeatureCollection",features:this.generateFeatures()}}),this.map.getLayer(this.idLayer)||this.map.addLayer({id:this.idLayer,type:"fill",source:this.idSource,paint:{"fill-color":["get","color"],"fill-outline-color":["get","out_color"],"fill-opacity":["get","opacity"]}}),this.map.getLayer(`BORDER_${this.idLayer}`)||this.map.addLayer({id:`BORDER_${this.idLayer}`,type:"line",source:this.idSource,paint:{"line-color":["get","out_color"],"line-width":2,"line-opacity":["get","opacity_border"]},filter:["==","$type","Polygon"]}),this.haveCentroid&&(this.map.getSource(this.idSourceCentroid)||this.map.addSource(this.idSourceCentroid,{type:"geojson",data:{type:"FeatureCollection",features:this.generateCentroids()}}),this.map.getLayer(this.idLayerCentroid)||this.map.addLayer({id:this.idLayerCentroid,type:"symbol",source:this.idSourceCentroid,layout:{"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":this.fontSize},paint:{"text-color":"#00296b","text-halo-color":"#f8f7ff","text-halo-width":2}})),this.map.on("click",this.idLayerCentroid,(e=>{this.onClickElement&&this.onClickElement(e)})),this.map.on("mouseenter",this.idLayerCentroid,(()=>{this.map.getCanvas().style.cursor="pointer"})),this.map.on("mouseleave",this.idLayerCentroid,(()=>{this.map.getCanvas().style.cursor=""}))):this.getInMap()&&this.updateInMap()}updateInMap(){const e=this.getInMap();e?e.setData({type:"FeatureCollection",features:this.generateFeatures()}):this.addToMap()}removeOfMap(){this.getInMap()&&(this.map.removeLayer(this.idLayer),this.map.removeLayer(`BORDER_${this.idLayer}`),this.map.removeSource(this.idSource),this.getCenterInMap()&&(this.map.removeLayer(this.idLayerCentroid),this.map.removeSource(this.idSourceCentroid)))}}},9443:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>Ne});var o=i(5893),n=i(1749),r=i(7294),s=i(1120),a=i(5258),l=i(4096),d=i(1423),c=i(46),p=i(7623),u=i(5875),h=i(1201),g=i(743),b=i(2318),y=i(4566),m=i(2285),v=i(8463),j=i(282),f=i(2663),C=i(6083),x=i(9525),S=i(7212),O=i(6856),R=i(3681),L=i(4880),P=i(3040),T=i(5376);const I=new class{constructor(e,t,i){this.methodInfoCreateGrid=new P.AbstractClientBase.MethodInfo(T.GridResponse,(e=>e.serializeBinary()),T.GridResponse.deserializeBinary),i||(i={}),t||(t={}),i.format="text",this.client_=new P.GrpcWebClientBase(i),this.hostname_=e,this.credentials_=t,this.options_=i}createGrid(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.GridService/CreateGrid",e,t||{},this.methodInfoCreateGrid,i):this.client_.unaryCall(this.hostname_+"/pb.GridService/CreateGrid",e,t||{},this.methodInfoCreateGrid)}}(`${L.$s}:${L.Vs}`,null,null);var F=i(8715);const Z=(0,s.Z)((e=>(0,p.Z)({root:{width:"90vh%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}))),M=r.forwardRef((function(e,t){return(0,o.jsx)(m.Z,Object.assign({direction:"up",ref:t},e),void 0)}));function _(){const e=Z(),[t,i]=r.useState(!1),[s,a]=(0,r.useState)(!1),[l,d]=(0,r.useState)(""),[p,m]=r.useState(!1),L=()=>{m(!1)};return(0,o.jsx)(v.Z,Object.assign({className:e.root},{children:(0,o.jsxs)(u.Z,Object.assign({expanded:"panel1"===t,onChange:("panel1",(e,t)=>{i(!!t&&"panel1")})},{children:[(0,o.jsx)(g.Z,Object.assign({expandIcon:(0,o.jsx)(y.Z,{},void 0),"aria-controls":"panel1bh-content",id:"panel1bh-header"},{children:(0,o.jsx)(b.Z,Object.assign({className:e.secondaryHeading},{children:"Actualización de Grid DTS hytera"}),void 0)}),void 0),(0,o.jsx)(h.Z,{children:(0,o.jsxs)(n.Z,Object.assign({container:!0,justifyContent:"center"},{children:[(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",disabled:s,style:{margin:"40px",textAlign:"center"},onClick:()=>{m(!0)}},{children:"Actualizar Data"}),void 0),(0,o.jsxs)(f.Z,Object.assign({open:p,TransitionComponent:M,keepMounted:!0,onClose:L},{children:[(0,o.jsx)(C.Z,{children:(0,o.jsx)(b.Z,Object.assign({align:"center",style:{fontSize:16}},{children:"¿Está seguro?"}),void 0)},void 0),(0,o.jsx)(x.Z,{children:(0,o.jsxs)(S.Z,{children:[(0,o.jsx)("strong",{children:"Tenga en consideración lo siguiente:"},void 0),"- Las unidades(volquetes y excavadoras)"," ",(0,o.jsx)("strong",{children:" no deben estar en operación."},void 0)," ",(0,o.jsx)("br",{},void 0),"- La generación de Grillas solo se debe realizar cuando hay actualización de archivos como: polígonos en TAJO, celdas en DME, PAD, Stocks, o en rutas. ",(0,o.jsx)("br",{},void 0),"- Esta operación puede durar varios minutos. Se recomienda consultar con soporte de DTS si es conveniente realizar esta operación."]},void 0)},void 0),(0,o.jsxs)(O.Z,{children:[(0,o.jsx)(j.Z,Object.assign({variant:"contained",onClick:L},{children:"Cancelar"}),void 0),(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{((e,t)=>{const i={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},o=new T.GridRequest;o.setRead(!0),e(!0),new Promise(((n,r)=>{I.createGrid(o,i,((i,o)=>{e(!1),null!==i?(console.log("err",i),t(i.message)):(console.log("createGrid",o),console.log(o.getDone()),o.getDone()?t(""):t("Error al Generar Grids"))}))}))})(a,d),m(!1)}},{children:"Actualizar"}),void 0)]},void 0)]}),void 0),(0,o.jsxs)(n.Z,Object.assign({item:!0,xl:12},{children:[l&&(0,o.jsx)(F.Z,Object.assign({severity:"error"},{children:l}),void 0),s&&(0,o.jsx)(c.Z,{children:(0,o.jsx)(R.Z,{},void 0)},void 0)]}),void 0)]}),void 0)},void 0)]}),void 0)}),void 0)}var k=i(3855),w=i(3054),z=i(2573),E=i(8101);(0,r.createContext)(null);const G=({polygonList:e,idSource:t,idLayer:i,idSourceCentroid:o,idLayerCentroid:n,map:s,haveCentroid:a,onClickFeature:l})=>((0,r.useEffect)((()=>{const r=new z.z(e,s,t,i,o,n,l,a);return r.addToMap(),()=>{r.removeOfMap()}}),[e]),null),B=({mapRef:e})=>{const t=(0,r.useRef)(null),[i,n]=(0,r.useState)(!1),{polygonList:s,padCellList:a,dmeCellList:l,stockCellList:d,geofenceList:c}=(0,k.C)(w.WD);return(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(G,Object.assign({},{polygonList:s.filter((e=>3!==e.state)),map:e.current,idSource:"TAJOSETTING_SOURCE",idLayer:"TAJOSETTING_LAYER",idSourceCentroid:"CENTROID_TAJOSETTING_SOURCE",idLayerCentroid:"CENTROID_TAJOSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(G,Object.assign({},{polygonList:l.filter((e=>3!=e.state)),map:e.current,idSource:"DMESETTING_SOURCE",idLayer:"DMESETTING_LAYER",idSourceCentroid:"CENTROID_DMESETTING_SOURCE",idLayerCentroid:"CENTROID_DMESETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(G,Object.assign({},{polygonList:a.filter((e=>3!=e.state)),map:e.current,idSource:"PADSETTING_SOURCE",idLayer:"PADSETTING_LAYER",idSourceCentroid:"CENTROID_PADSETTING_SOURCE",idLayerCentroid:"CENTROID_PADSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(G,Object.assign({},{polygonList:d.filter((e=>3!=e.state)),map:e.current,idSource:"STOCKSETTING_SOURCE",idLayer:"STOCKSETTING_LAYER",idSourceCentroid:"CENTROID_STOCKSETTING_SOURCE",idLayerCentroid:"CENTROID_STOCKSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0)]},void 0),(0,o.jsx)(E.Z,Object.assign({map:e,dragRotate:!1,style:"mapbox://styles/dispatchgat/ckqqsfc2y46bo17sf1y29zwnj",mapContainer:t,bearing:0,pitch:15},{lat:-7.6163,lng:-78.196,zoom:14.81,setLoad:n}),"map3")]},void 0)};var D=i(9895),q=i(3258),N=i(5090),A=i(8479),W=i(8),$=i(2822),U=i(1211),Y=i(3068);const J={authorization:{}.REACT_APP_API_TOKEN},H=new class{constructor(e,t,i){this.methodInfoCreateCell=new P.AbstractClientBase.MethodInfo(Y.CellResponse,(e=>e.serializeBinary()),Y.CellResponse.deserializeBinary),this.methodInfoRetrieveCell=new P.AbstractClientBase.MethodInfo(Y.CellResponse,(e=>e.serializeBinary()),Y.CellResponse.deserializeBinary),this.methodInfoRetrieveCells=new P.AbstractClientBase.MethodInfo(Y.CellsResponse,(e=>e.serializeBinary()),Y.CellsResponse.deserializeBinary),this.methodInfoUpdateCell=new P.AbstractClientBase.MethodInfo(Y.CellResponse,(e=>e.serializeBinary()),Y.CellResponse.deserializeBinary),this.methodInfoDeleteCell=new P.AbstractClientBase.MethodInfo(Y.CellResponse,(e=>e.serializeBinary()),Y.CellResponse.deserializeBinary),this.methodInfoFinalizeCellList=new P.AbstractClientBase.MethodInfo(Y.CellListResponse,(e=>e.serializeBinary()),Y.CellListResponse.deserializeBinary),i||(i={}),t||(t={}),i.format="text",this.client_=new P.GrpcWebClientBase(i),this.hostname_=e,this.credentials_=t,this.options_=i}createCell(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/CreateCell",e,t||{},this.methodInfoCreateCell,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/CreateCell",e,t||{},this.methodInfoCreateCell)}retrieveCell(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/RetrieveCell",e,t||{},this.methodInfoRetrieveCell,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/RetrieveCell",e,t||{},this.methodInfoRetrieveCell)}retrieveCells(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/RetrieveCells",e,t||{},this.methodInfoRetrieveCells,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/RetrieveCells",e,t||{},this.methodInfoRetrieveCells)}updateCell(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/UpdateCell",e,t||{},this.methodInfoUpdateCell,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/UpdateCell",e,t||{},this.methodInfoUpdateCell)}deleteCell(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/DeleteCell",e,t||{},this.methodInfoDeleteCell,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/DeleteCell",e,t||{},this.methodInfoDeleteCell)}finalizeCellList(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.CellService/FinalizeCellList",e,t||{},this.methodInfoFinalizeCellList,i):this.client_.unaryCall(this.hostname_+"/pb.CellService/FinalizeCellList",e,t||{},this.methodInfoFinalizeCellList)}}(`${L.$s}:${L.Vs}`,null,null),V=(e,t)=>{const i=new Y.CellListRequest;return e.forEach((e=>{const o=new Y.Cell;o.setId(e.id),i.addCell(o),i.setType(t)})),console.log(i.getCellList()),new Promise(((e,t)=>{H.finalizeCellList(i,J,((i,o)=>{console.log("Error ",i),console.log("res ",o),i?t(i):e(o.toObject())}))}))};var K=i(9299),Q=i(1242),X=i(3570),ee=i(998),te=i(5757),ie=i(7812),oe=i(387),ne=i(9704);const re=(0,s.Z)((e=>({paper:{padding:"5px",margin:"3px"}}))),se=({open:e,setOpen:t,cell:i,typeDownload:s})=>{const a=re(),l=(0,ne.I0)(),[d,c]=(0,r.useState)(i),{name:p,area:u,volume:h,altitude:g}=i,y=()=>{t(!1)};return(0,o.jsxs)(f.Z,Object.assign({open:e,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,o.jsx)(C.Z,{children:"Cell Edit"},void 0),(0,o.jsx)(x.Z,{children:(0,o.jsx)(v.Z,Object.assign({style:{padding:"7px"}},{children:(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column",spacing:1,justifyContent:"center"},{children:(0,o.jsx)(n.Z,Object.assign({item:!0,md:12,xl:12},{children:(0,o.jsxs)(D.Z,Object.assign({className:a.paper,elevation:2},{children:[(0,o.jsx)(b.Z,Object.assign({variant:"body1"},{children:"Habilitar"}),void 0),(0,o.jsx)(q.Z,{checked:d.state!==N.YO.FINISHED,onChange:e=>{const t=Object.assign({},d);t.state=e.target.checked?N.YO.ACTIVE:N.YO.FINISHED,c(t)},inputProps:{"aria-label":"secondary checkbox"}},void 0)]}),void 0)}),void 0)}),void 0)}),void 0)},void 0),(0,o.jsxs)(O.Z,{children:[(0,o.jsx)(j.Z,Object.assign({color:"primary",onClick:y},{children:"Cancelar"}),void 0),(0,o.jsx)(j.Z,Object.assign({color:"secondary",onClick:()=>{((e,t)=>{return i=void 0,o=void 0,r=function*(){const i=new Y.CellUpdateRequest,o=new Y.Cell;return o.setId(e.id),o.setState(e.state),o.setName(e.name),o.setHeight(e.height),o.setAltitude(e.altitude),o.setArea(e.area),o.setVolume(e.volume),console.log("celda",o,t),i.setCell(o),i.setType(t),new Promise(((e,t)=>{H.updateCell(i,J,((i,o)=>{console.log("Error ",i),console.log("res ",o),i?t(i):e(o.toObject())}))}))},new((n=void 0)||(n=Promise))((function(e,t){function s(e){try{l(r.next(e))}catch(e){t(e)}}function a(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof n?i:new n((function(e){e(i)}))).then(s,a)}l((r=r.apply(i,o||[])).next())}));var i,o,n,r})(d,s).then((e=>{l((0,K.aR)())})),t(!1)},autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)]}),void 0)},ae=({cellDme:e,map:t,isChecked:i})=>{const n=(0,k.T)(),[s,a]=(0,r.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee.Z,Object.assign({onClick:()=>{"3"===e.state.toString()||(e=>{if(n((0,W.Mf)(e)),i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}})(e)},selected:!0,dense:!0,button:!0},{children:(0,o.jsxs)(v.Z,Object.assign({elevation:"3"===e.state.toString()?0:2,style:{display:"flex",padding:"5px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(q.Z,{disabled:"3"===e.state.toString(),checked:"3"!==e.state.toString()&&i,inputProps:{"aria-label":"secondary checkbox"}},void 0),(0,o.jsx)(te.Z,{primary:`Nombre: ${e.name}`},void 0),(0,o.jsx)(ie.Z,Object.assign({onClick:()=>{a(!0)}},{children:(0,o.jsx)(oe.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),e.id),s&&(0,o.jsx)(se,{typeDownload:Y.TypeDownload.DME,open:s,setOpen:a,cell:e},void 0)]},void 0)},le=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),de=({cellsDme:e,map:t,isChecked:i,setIsChecked:s,type:a})=>{const{selectDme:l}=(0,k.C)(W.C2),[d,c]=r.useState(!1),p=(0,k.T)(),u=le(),h=(0,r.useState)(!1);(0,r.useEffect)((()=>{p(i?(0,W.E6)(e):(0,W.E6)([]))}),[i]),(0,r.useEffect)((()=>{setTimeout((()=>{l.map((e=>{const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o),U.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),U.T.addLayerToMap(t,i,o,"line","#EAF772")}))}),10)}),[l]);const g=e=>{const i=l.find((t=>e.id===t.id));if(i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}return!!i};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,Object.assign({style:{overflow:"auto"}},{children:(0,o.jsx)($.Z,Object.assign({className:u.listItem,dense:!0,subheader:(0,o.jsx)(X.v,{title:"polygono",useOpen:h},void 0)},{children:(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column",justifyContent:"flex-end",style:{flex:1}},{children:(0,o.jsx)(n.Z,Object.assign({item:!0,style:{height:"65vh"}},{children:e.map((e=>(0,o.jsx)(ae,{cellDme:e,map:t,isChecked:g(e)},e.id)))}),void 0)}),void 0)}),void 0)}),void 0),l.length>0&&(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{c(!0)},style:{width:"100%",margin:"10px"}},{children:"Finalizar Seleccionados"}),void 0),(0,o.jsx)(Q.a,{open:d,handleClose:()=>{c(!1),p((0,W.E6)([])),p((0,W.fn)())},handleConfirm:()=>{console.log("Type:",a),c(!1),V(l,a).then((e=>{e.done&&p((0,K.aR)())})).catch((e=>{console.log(e)})),p((0,W.fn)())},title:"¿Esta seguro?",message:"Confirma para Finalizar los poligonos seleccionados"},void 0)]},void 0)},ce=({cellPad:e,map:t,isChecked:i})=>{const n=(0,k.T)(),[s,a]=(0,r.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{"3"===e.state.toString()||(e=>{if(n((0,W.SP)(e)),i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}})(e)}},{children:(0,o.jsxs)(v.Z,Object.assign({elevation:"3"===e.state.toString()?0:2,style:{display:"flex",padding:"5px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(q.Z,{disabled:"3"===e.state.toString(),checked:"3"!==e.state.toString()&&i,inputProps:{"aria-label":"secondary checkbox"}},void 0),(0,o.jsx)(te.Z,{primary:`Nombre: ${e.name}`},void 0),(0,o.jsx)(ie.Z,Object.assign({onClick:()=>{a(!0)}},{children:(0,o.jsx)(oe.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),e.id),s&&(0,o.jsx)(se,{typeDownload:Y.TypeDownload.PAD,open:s,setOpen:a,cell:e},void 0)]},void 0)},pe=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),ue=({cellsPad:e,map:t,isChecked:i,setIsChecked:s,type:a})=>{const{selectPad:l}=(0,k.C)(W.C2),[d,c]=r.useState(!1),p=(0,k.T)(),u=pe(),h=(0,r.useState)(!1);(0,r.useEffect)((()=>{p(i?(0,W.Ri)(e):(0,W.Ri)([]))}),[i]),(0,r.useEffect)((()=>{l.map((e=>{const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o),U.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),U.T.addLayerToMap(t,i,o,"line","#EAF772")}))}),[l]);const g=e=>{const i=l.find((t=>e.id===t.id));if(i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}return!!i};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,Object.assign({style:{overflow:"auto"}},{children:(0,o.jsx)($.Z,Object.assign({className:u.listItem,dense:!0,subheader:(0,o.jsx)(X.v,{title:"polygono",useOpen:h},void 0)},{children:(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column",justifyContent:"flex-end",style:{flex:1}},{children:(0,o.jsx)(n.Z,Object.assign({item:!0,style:{height:"65vh"}},{children:e.map((e=>(0,o.jsx)(ce,{cellPad:e,map:t,isChecked:g(e)},e.id)))}),void 0)}),void 0)}),void 0)}),void 0),l.length>0&&(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{c(!0)},style:{width:"100%",margin:"10px"}},{children:"Finalizar Seleccionados"}),void 0),(0,o.jsx)(Q.a,{open:d,handleClose:()=>{c(!1),p((0,W.Ri)([])),p((0,W.fn)())},handleConfirm:()=>{c(!1),V(l,a).then((e=>{e.done&&p((0,K.aR)())})).catch((e=>{console.log(e)})),p((0,W.fn)())},title:"¿Esta seguro ?",message:"Confirma para finalizar los poligonos seleccionados"},void 0)]},void 0)};var he=i(4188),ge=i(7461),be=i(5328),ye=function(e,t,i,o){return new(i||(i=Promise))((function(n,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};const me=new class{constructor(e,t,i){this.methodInfoCreatePolygon=new P.AbstractClientBase.MethodInfo(ge.PolygonResponse,(e=>e.serializeBinary()),ge.PolygonResponse.deserializeBinary),this.methodInfoRetrievePolygon=new P.AbstractClientBase.MethodInfo(ge.PolygonResponse,(e=>e.serializeBinary()),ge.PolygonResponse.deserializeBinary),this.methodInfoRetrievePolygons=new P.AbstractClientBase.MethodInfo(ge.PolygonsResponse,(e=>e.serializeBinary()),ge.PolygonsResponse.deserializeBinary),this.methodInfoUpdatePolygon=new P.AbstractClientBase.MethodInfo(ge.PolygonResponse,(e=>e.serializeBinary()),ge.PolygonResponse.deserializeBinary),this.methodInfoDeletePolygon=new P.AbstractClientBase.MethodInfo(ge.PolygonResponse,(e=>e.serializeBinary()),ge.PolygonResponse.deserializeBinary),this.methodInfoFinalizePolygonList=new P.AbstractClientBase.MethodInfo(ge.PolygonListResponse,(e=>e.serializeBinary()),ge.PolygonListResponse.deserializeBinary),i||(i={}),t||(t={}),i.format="text",this.client_=new P.GrpcWebClientBase(i),this.hostname_=e,this.credentials_=t,this.options_=i}createPolygon(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/CreatePolygon",e,t||{},this.methodInfoCreatePolygon,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/CreatePolygon",e,t||{},this.methodInfoCreatePolygon)}retrievePolygon(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/RetrievePolygon",e,t||{},this.methodInfoRetrievePolygon,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/RetrievePolygon",e,t||{},this.methodInfoRetrievePolygon)}retrievePolygons(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/RetrievePolygons",e,t||{},this.methodInfoRetrievePolygons,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/RetrievePolygons",e,t||{},this.methodInfoRetrievePolygons)}updatePolygon(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/UpdatePolygon",e,t||{},this.methodInfoUpdatePolygon,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/UpdatePolygon",e,t||{},this.methodInfoUpdatePolygon)}deletePolygon(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/DeletePolygon",e,t||{},this.methodInfoDeletePolygon,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/DeletePolygon",e,t||{},this.methodInfoDeletePolygon)}finalizePolygonList(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.PolygonService/FinalizePolygonList",e,t||{},this.methodInfoFinalizePolygonList,i):this.client_.unaryCall(this.hostname_+"/pb.PolygonService/FinalizePolygonList",e,t||{},this.methodInfoFinalizePolygonList)}}(`${L.$s}:${L.Vs}`,null,null);var ve=i(465),je=i(5477);const fe=(0,s.Z)((e=>({paper:{padding:"5px",margin:"3px"}}))),Ce=({open:e,handleClose:t,handleConfirm:i,polygon:s})=>{const a=fe(),l=(0,ne.I0)(),[d,c]=(0,r.useState)(s),[p,u]=(0,r.useState)(!1),{name:h,ag:g,agcn:y,alte:m,altitude:S,as:R,au:L,auch:P,description:T,idProject:I,lito:F,material:Z,nameProject:M,onzas:_,orezonet:k,tonnes:w,volume:z,state:E}=s;return(0,o.jsxs)(f.Z,Object.assign({open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,o.jsx)(C.Z,{children:"Polygon Edit"},void 0),(0,o.jsx)(x.Z,{children:(0,o.jsx)(v.Z,Object.assign({style:{padding:"7px"}},{children:(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column",spacing:1,justifyContent:"center"},{children:(0,o.jsx)(n.Z,Object.assign({item:!0,md:12,xl:12},{children:(0,o.jsxs)(D.Z,Object.assign({className:a.paper,elevation:2},{children:[(0,o.jsx)(b.Z,Object.assign({variant:"body1"},{children:"Habilitar"}),void 0),(0,o.jsx)(q.Z,{checked:d.state!==N.p$.FINISHED,onChange:e=>{const t=Object.assign({},d);t.state=e.target.checked?N.p$.ACTIVE:N.p$.FINISHED,c(t)},inputProps:{"aria-label":"secondary checkbox"}},void 0)]}),void 0)}),void 0)}),void 0)}),void 0)},void 0),(0,o.jsxs)(O.Z,{children:[(0,o.jsx)(j.Z,Object.assign({color:"primary",onClick:t},{children:"Cancelar"}),void 0),p?(0,o.jsx)(je.Z,{variant:"indeterminate"},void 0):(0,o.jsx)(j.Z,Object.assign({color:"secondary",onClick:()=>{u(!0),(e=>ye(void 0,void 0,void 0,(function*(){const t=new ge.PolygonRequest;console.log("polygon",e);const i=new ge.Polygon;if(e.material){const t=new he.Material;t.setId(e.material.id),t.setType(e.material.type),t.setLaw(e.material.law),i.setMaterial(t)}return i.setId(e.id),i.setState(e.state),i.setName(e.name),i.setDescription(e.description),i.setHeight(e.height),i.setAltitude(e.altitude),i.setLito(e.litio),i.setAlte(e.alte),i.setOrezonet(e.orezonet),i.setAu(e.au),i.setAg(e.ag),i.setAs(e.as),i.setVolume(e.volume),i.setTonnes(e.tonnes),i.setOnzas(e.onzas),i.setAuch(e.auch),i.setAgcn(e.agcn),i.setPtaucn(e.ptaucn),i.setS(e.s),t.setPolygon(i),new Promise(((e,i)=>{me.updatePolygon(t,be.P,((t,o)=>{console.log("Error ",t),console.log("res ",o),t?i(t):e(o.toObject())}))}))})))(d).then((e=>{l((0,K.aR)()),u(!1),t()})).catch((e=>{alert("Error"),console.log(e),u(!1)}))},autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)]}),void 0)},xe=({pl:e,map:t,isChecked:i})=>{const{selectPolygon:n}=(0,k.C)(W.C2),s=(0,k.T)(),[a,l]=(0,r.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee.Z,Object.assign({onClick:()=>{3===e.state||(e=>{if(s((0,W.jY)(e)),i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}})(e)},selected:!0,dense:!0,button:!0},{children:(0,o.jsxs)(v.Z,Object.assign({elevation:"3"===e.state.toString()?0:2,style:{display:"flex",padding:"5px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(q.Z,{disabled:3===e.state,checked:"3"!==e.state.toString()&&i,inputProps:{"aria-label":"secondary checkbox"}},void 0),(0,o.jsx)(te.Z,{primary:e.nameProject?`Project: ${e.nameProject}`:`Nombre: ${e.name}`,secondary:e.nameProject?`Name: ${e.name}`:""},void 0),(0,o.jsx)(ie.Z,Object.assign({onClick:()=>{l(!0)}},{children:(0,o.jsx)(oe.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),e.id),a&&(0,o.jsx)(Ce,{open:a,handleClose:()=>{l(!1)},handleConfirm:()=>{l(!1)},polygon:e},void 0)]},void 0)},Se=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),Oe=({polygons:e,map:t,isChecked:i,setIsChecked:s})=>{const{selectPolygon:a}=(0,k.C)(W.C2),[l,d]=(0,r.useState)([]),[c,p]=r.useState(!1),u=(0,k.T)(),h=Se();(0,r.useEffect)((()=>{u(i?(0,W.DY)(l):(0,W.DY)([]))}),[i]),(0,r.useEffect)((()=>{setTimeout((()=>{a.map((e=>{const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o),U.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),U.T.addLayerToMap(t,i,o,"line","#EAF772")}))}),10)}),[a]);const g=e=>{const i=a.find((t=>e.id===t.id));if(i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}return!!i};(0,r.useEffect)((()=>{e.length>0&&d(e)}),[e]);const b=(0,r.useCallback)((t=>{if(t){const i=t.target?t.target.value.toUpperCase():"";console.log("filter",i),d(e.filter((e=>e.name.toUpperCase().includes(i)||e.nameProject&&e.nameProject.toUpperCase().includes(i))))}}),[e]),y=(0,r.useCallback)((()=>{d(e)}),[e]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ve.V,{placeholder:"Buscar por proyecto, polígon o mineral ",functionFilter:b,functionCancel:y},void 0),(0,o.jsx)(D.Z,Object.assign({style:{overflow:"auto"}},{children:(0,o.jsx)($.Z,Object.assign({className:h.listItem,dense:!0},{children:(0,o.jsxs)(n.Z,Object.assign({container:!0,direction:"column",justifyContent:"flex-end",style:{flex:1}},{children:[(0,o.jsx)(n.Z,Object.assign({item:!0,style:{height:"65vh"}},{children:l.map((e=>(0,o.jsx)(xe,{pl:e,map:t,isChecked:g(e)},e.id)))}),void 0),(0,o.jsx)(n.Z,{item:!0},void 0)]}),void 0)}),void 0)}),void 0),a.length>0&&(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{p(!0)},style:{width:"100%",margin:"10px"}},{children:"Finalizar Seleccionados"}),void 0),(0,o.jsx)(Q.a,{open:c,handleClose:()=>{p(!1),u((0,W.DY)([])),u((0,W.fn)())},handleConfirm:()=>{p(!1),(e=>ye(void 0,void 0,void 0,(function*(){const t=new ge.PolygonListRequest;return e.forEach((e=>{const i=new ge.Polygon;i.setId(e.id),t.addPolygon(i)})),new Promise(((e,i)=>{me.finalizePolygonList(t,be.P,((t,o)=>{console.log("Error ",t),console.log("res ",o),t?i(t):e(o.toObject())}))}))})))(a).then((e=>{e.done&&u((0,K.aR)())})).catch((e=>{console.log(e)})),u((0,W.fn)())},title:"¿Esta seguro ?",message:"Confirma para finalizar los poligonos seleccionados"},void 0)]},void 0)},Re=({cellStock:e,map:t,isChecked:i})=>{const n=(0,k.T)(),[s,a]=(0,r.useState)(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ee.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{"3"===e.state.toString()||(e=>{if(n((0,W.xk)(e)),i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}})(e)}},{children:(0,o.jsxs)(v.Z,Object.assign({elevation:"3"===e.state.toString()?0:2,style:{display:"flex",padding:"5px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(q.Z,{disabled:"3"===e.state.toString(),checked:"3"!==e.state.toString()&&i,inputProps:{"aria-label":"secondary checkbox"}},void 0),(0,o.jsx)(te.Z,{primary:`Nombre: ${e.name}`},void 0),(0,o.jsx)(ie.Z,Object.assign({onClick:()=>{a(!0)}},{children:(0,o.jsx)(oe.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),e.id),s&&(0,o.jsx)(se,{typeDownload:Y.TypeDownload.STOCK,open:s,setOpen:a,cell:e},void 0)]},void 0)};const Le=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),Pe=({cellsStock:e,map:t,isChecked:i,setIsChecked:s,type:a})=>{const{selectStock:l}=(0,k.C)(W.C2),[d,c]=r.useState(!1),p=(0,k.T)(),u=Le(),h=(0,r.useState)(!1);(0,r.useEffect)((()=>{p(i?(0,W.I5)(e):(0,W.I5)([]))}),[i]),(0,r.useEffect)((()=>{setTimeout((()=>{l.map((e=>{const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o),U.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),U.T.addLayerToMap(t,i,o,"line","#EAF772")}))}),10)}),[l]);const g=e=>{const i=l.find((t=>e.id===t.id));if(i){const i=`layer_${e.id}`,o=`source_${e.id}`;U.T.getLayer(t,i)&&U.T.removeFeature(t,i,o)}return!!i};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(D.Z,Object.assign({style:{overflow:"auto"}},{children:(0,o.jsx)($.Z,Object.assign({className:u.listItem,dense:!0,subheader:(0,o.jsx)(X.v,{title:"polygono",useOpen:h},void 0)},{children:(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column",justifyContent:"flex-end",style:{flex:1}},{children:(0,o.jsx)(n.Z,Object.assign({item:!0,style:{height:"65vh"}},{children:e.map((e=>(0,o.jsx)(Re,{cellStock:e,map:t,isChecked:g(e)},e.id)))}),void 0)}),void 0)}),void 0)}),void 0),l.length>0&&(0,o.jsx)(j.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{c(!0)},style:{width:"100%",margin:"10px"}},{children:"Finalizar Seleccionados"}),void 0),(0,o.jsx)(Q.a,{open:d,handleClose:()=>{c(!1)},handleConfirm:()=>{return e=void 0,t=void 0,o=function*(){c(!1),V(l,a).then((e=>{e.done&&p((0,K.aR)())})).catch((e=>{console.log(e)})),p((0,W.fn)())},new((i=void 0)||(i=Promise))((function(n,r){function s(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}));var e,t,i,o},title:"¿Esta seguro?",message:"Confirma para finalizar los poligonos seleccionados"},void 0)]},void 0)};const Te=(0,s.Z)((e=>({root:{flex:1,backgroundColor:"#FDF8EF",display:"flex",height:"800px",width:"100%",minWidth:"1300px"},paper:{height:"100vh",width:"100%",textAlign:"center",justifyContent:"center",minWidth:"250px"},tittle:{textAlign:"center"},paperMap:{backgroundColor:"#FDF8EF",width:"100%",height:"800px",padding:"10px",textAlign:"center",minWidth:"900px"},tabs:{borderRight:`1px solid ${e.palette.divider}`,width:"100%"},tab:{minWidth:10,padding:1,paddingTop:8,paddingBottom:8,width:"100%"},buttonTab:{writingMode:"vertical-rl"},listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}})));function Ie(e){const{children:t,value:i,index:n}=e,r=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==n,id:`vertical-tabpanel-${n}`,"aria-labelledby":`vertical-tab-${n}`,style:{flex:1}},r,{children:i===n&&t}),void 0)}function Fe(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const Ze=({map:e})=>{const{selectPolygon:t,selectDme:i,selectPad:s,selectStock:a}=(0,k.C)(W.C2),c=(0,k.T)(),{polygonList:p,dmeCellList:u,padCellList:h,stockCellList:g}=(0,k.C)(w.WD),[y,m]=(0,r.useState)(!1),v=Te(),[j,f]=(0,A._)("index_tab_settind_polygon",0);return(0,o.jsx)("div",{children:(0,o.jsxs)(D.Z,Object.assign({elevation:1,className:v.paper},{children:[(0,o.jsxs)(n.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,o.jsx)(q.Z,{indeterminate:t.length>0&&p.length!=t.length||i.length>0&&u.length!=i.length||s.length>0&&h.length!=s.length||a.length>0&&g.length==a.length||void 0,checked:y,onChange:e=>{m(e.target.checked),p.length===t.length&&m(e.target.checked),g.length!==a.length&&m(e.target.checked)}},void 0),(0,o.jsx)(b.Z,Object.assign({className:v.tittle},{children:"Selected Polygon"}),void 0)]}),void 0),(0,o.jsxs)(n.Z,Object.assign({container:!0,justifyContent:"space-between",alignItems:"flex-start",wrap:"nowrap"},{children:[(0,o.jsx)(n.Z,Object.assign({item:!0},{children:(0,o.jsxs)(l.Z,Object.assign({orientation:"vertical",variant:"scrollable",value:j,indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{f(t),c((0,W.fn)()),m(!1)},"aria-label":"horizontal tabs",className:v.tabs},{children:[(0,o.jsx)(d.Z,Object.assign({className:v.tab,label:(0,o.jsx)(b.Z,Object.assign({variant:"caption",className:v.buttonTab},{children:"TAJO"}),void 0)},Fe(0)),void 0),(0,o.jsx)(d.Z,Object.assign({className:v.tab,label:(0,o.jsx)(b.Z,Object.assign({variant:"caption",className:v.buttonTab},{children:"DME"}),void 0)},Fe(1)),void 0),(0,o.jsx)(d.Z,Object.assign({className:v.tab,label:(0,o.jsx)(b.Z,Object.assign({variant:"caption",className:v.buttonTab},{children:"PAD"}),void 0)},Fe(2)),void 0),(0,o.jsx)(d.Z,Object.assign({className:v.tab,label:(0,o.jsx)(b.Z,Object.assign({variant:"caption",className:v.buttonTab},{children:"STOCKs"}),void 0)},Fe(3)),void 0)]}),void 0)}),void 0),(0,o.jsxs)(n.Z,Object.assign({item:!0,container:!0,style:{padding:8}},{children:[(0,o.jsx)(Ie,Object.assign({value:j,index:0},{children:(0,o.jsx)(Oe,{polygons:p,map:e.current,isChecked:y,setIsChecked:m},void 0)}),void 0),(0,o.jsx)(Ie,Object.assign({value:j,index:1},{children:(0,o.jsx)(de,{cellsDme:u,map:e.current,isChecked:y,setIsChecked:m,type:N.NZ.DME},void 0)}),void 0),(0,o.jsx)(Ie,Object.assign({value:j,index:2},{children:(0,o.jsx)(ue,{cellsPad:h,map:e.current,isChecked:y,setIsChecked:m,type:N.NZ.PAD},void 0)}),void 0),(0,o.jsx)(Ie,Object.assign({value:j,index:3},{children:(0,o.jsx)(Pe,{cellsStock:g,map:e.current,isChecked:y,setIsChecked:m,type:N.NZ.STOCK},void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)},void 0)},Me=()=>{const{polygonList:e}=(0,k.C)(w.WD),t=(0,r.useRef)(null);return(0,o.jsxs)(n.Z,Object.assign({container:!0,spacing:1},{children:[(0,o.jsx)(n.Z,Object.assign({item:!0,md:4,xl:3},{children:(0,o.jsx)(Ze,Object.assign({},{map:t}),void 0)}),void 0),(0,o.jsx)(n.Z,Object.assign({item:!0,xs:6,md:8,xl:9},{children:(0,o.jsx)(v.Z,Object.assign({elevation:3,style:{height:"100%"}},{children:(0,o.jsx)(B,{mapRef:t},void 0)}),void 0)}),void 0)]}),void 0)};function _e(e){const{children:t,value:i,index:n}=e,r=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==n,id:`vertical-tabpanel-${n}`,"aria-labelledby":`vertical-tab-${n}`},r,{children:i===n&&(0,o.jsx)(c.Z,Object.assign({p:3},{children:(0,o.jsx)(o.Fragment,{children:t},void 0)}),void 0)}),void 0)}function ke(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}(0,r.createContext)(null);const we=(0,s.Z)((e=>({root:{backgroundColor:e.palette.background.paper,display:"flex",height:"90vh"},tabs:{borderRight:`1px solid ${e.palette.divider}`,"& .MuiTab-wrapper":{flexDirection:"row",justifyContent:"flex-start"}},detail:{width:"100%",padding:1}})));function ze(){const e=we(),[t,i]=r.useState(0);return(0,o.jsxs)("div",Object.assign({className:e.root},{children:[(0,o.jsxs)(l.Z,Object.assign({orientation:"vertical",value:t,onChange:(e,t)=>{i(t)},className:e.tabs},{children:[(0,o.jsx)(d.Z,Object.assign({label:"Generar Grid"},ke(0)),void 0),(0,o.jsx)(d.Z,Object.assign({label:"Poligonos"},ke(1)),void 0)]}),void 0),(0,o.jsxs)(v.Z,Object.assign({className:e.detail},{children:[(0,o.jsx)(_e,Object.assign({value:t,index:0},{children:(0,o.jsx)(_,{},void 0)}),void 0),(0,o.jsx)(_e,Object.assign({value:t,index:1},{children:(0,o.jsx)(Me,{},void 0)}),void 0)]}),void 0)]}),void 0)}function Ee(e){const{children:t,value:i,index:n}=e,r=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(e,o[n])&&(i[o[n]]=e[o[n]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==n,id:`scrollable-auto-tabpanel-${n}`,"aria-labelledby":`scrollable-auto-tab-${n}`},r,{children:i===n&&(0,o.jsx)(c.Z,Object.assign({p:1},{children:(0,o.jsx)(o.Fragment,{children:t},void 0)}),void 0)}),void 0)}const Ge=(0,s.Z)((e=>({roottab:{flexGrow:1,width:"100%",height:"90vh",backgroundColor:e.palette.background.paper}})));function Be(){Ge();const[e,t]=r.useState(0);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Z,Object.assign({position:"static",color:"default"},{children:(0,o.jsx)(l.Z,Object.assign({value:e,onChange:(e,i)=>{t(i)},indicatorColor:"primary",textColor:"primary",variant:"standard",scrollButtons:"off"},{children:(0,o.jsx)(d.Z,Object.assign({label:"Generales"},(0,{id:"scrollable-auto-tab-0","aria-controls":"scrollable-auto-tabpanel-0"})),void 0)}),void 0)}),void 0),(0,o.jsx)(Ee,Object.assign({value:e,index:0},{children:(0,o.jsx)(ze,{},void 0)}),void 0)]},void 0)}const De=()=>(0,o.jsx)(n.Z,Object.assign({container:!0,direction:"column"},{children:(0,o.jsx)(Be,{},void 0)}),void 0);var qe=i(8850);const Ne=()=>(0,o.jsxs)("div",{children:[(0,o.jsx)(qe.h,{title:"Configuraciones DTS"},void 0),(0,o.jsx)(De,{},void 0)]},void 0)},8850:(e,t,i)=>{"use strict";i.d(t,{h:()=>c});var o=i(5893),n=i(5258),r=i(8358),s=i(282),a=i(2318),l=i(3471),d=i(5977);const c=({title:e})=>{const t=(0,d.k6)();return(0,o.jsx)(n.Z,Object.assign({position:"sticky",color:"secondary"},{children:(0,o.jsxs)(r.Z,{children:[(0,o.jsx)(s.Z,{size:"small",startIcon:(0,o.jsx)(l.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{t.goBack()}},void 0),(0,o.jsx)(a.Z,Object.assign({variant:"h6"},{children:e}),void 0)]},void 0)}),void 0)}},5376:(e,t,i)=>{var o=i(3019),n=o,r=Function("return this")(),s=i(3362);n.object.extend(proto,s);var a=i(4016);n.object.extend(proto,a);var l=i(3112);n.object.extend(proto,l);var d=i(6617);n.object.extend(proto,d);var c=i(8060);n.object.extend(proto,c);var p=i(6928);n.object.extend(proto,p);var u=i(5631);n.object.extend(proto,u),n.exportSymbol("proto.pb.Grid",null,r),n.exportSymbol("proto.pb.GridRequest",null,r),n.exportSymbol("proto.pb.GridResponse",null,r),n.exportSymbol("proto.pb.Square",null,r),proto.pb.Square=function(e){o.Message.initialize(this,e,0,-1,proto.pb.Square.repeatedFields_,null)},n.inherits(proto.pb.Square,o.Message),n.DEBUG&&!COMPILED&&(proto.pb.Square.displayName="proto.pb.Square"),proto.pb.Grid=function(e){o.Message.initialize(this,e,0,-1,proto.pb.Grid.repeatedFields_,null)},n.inherits(proto.pb.Grid,o.Message),n.DEBUG&&!COMPILED&&(proto.pb.Grid.displayName="proto.pb.Grid"),proto.pb.GridRequest=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.pb.GridRequest,o.Message),n.DEBUG&&!COMPILED&&(proto.pb.GridRequest.displayName="proto.pb.GridRequest"),proto.pb.GridResponse=function(e){o.Message.initialize(this,e,0,-1,null,null)},n.inherits(proto.pb.GridResponse,o.Message),n.DEBUG&&!COMPILED&&(proto.pb.GridResponse.displayName="proto.pb.GridResponse"),proto.pb.Square.repeatedFields_=[4,5,6,7,8,9,10,11],o.Message.GENERATE_TO_OBJECT&&(proto.pb.Square.prototype.toObject=function(e){return proto.pb.Square.toObject(e,this)},proto.pb.Square.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,""),name:o.Message.getFieldWithDefault(t,2,""),altitude:o.Message.getFloatingPointFieldWithDefault(t,3,0),segmentList:o.Message.toObjectList(t.getSegmentList(),s.Point.toObject,e),pointList:o.Message.toObjectList(t.getPointList(),s.Point.toObject,e),geofenceList:o.Message.toObjectList(t.getGeofenceList(),a.Geofence.toObject,e),roadList:o.Message.toObjectList(t.getRoadList(),l.Road.toObject,e),pitList:o.Message.toObjectList(t.getPitList(),d.Pit.toObject,e),padList:o.Message.toObjectList(t.getPadList(),c.Pad.toObject,e),stockList:o.Message.toObjectList(t.getStockList(),p.Stock.toObject,e),dmeList:o.Message.toObjectList(t.getDmeList(),u.Dme.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.Square.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.Square;return proto.pb.Square.deserializeBinaryFromReader(i,t)},proto.pb.Square.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readString();e.setId(i);break;case 2:i=t.readString(),e.setName(i);break;case 3:i=t.readDouble(),e.setAltitude(i);break;case 4:i=new s.Point,t.readMessage(i,s.Point.deserializeBinaryFromReader),e.addSegment(i);break;case 5:i=new s.Point,t.readMessage(i,s.Point.deserializeBinaryFromReader),e.addPoint(i);break;case 6:i=new a.Geofence,t.readMessage(i,a.Geofence.deserializeBinaryFromReader),e.addGeofence(i);break;case 7:i=new l.Road,t.readMessage(i,l.Road.deserializeBinaryFromReader),e.addRoad(i);break;case 8:i=new d.Pit,t.readMessage(i,d.Pit.deserializeBinaryFromReader),e.addPit(i);break;case 9:i=new c.Pad,t.readMessage(i,c.Pad.deserializeBinaryFromReader),e.addPad(i);break;case 10:i=new p.Stock,t.readMessage(i,p.Stock.deserializeBinaryFromReader),e.addStock(i);break;case 11:i=new u.Dme,t.readMessage(i,u.Dme.deserializeBinaryFromReader),e.addDme(i);break;default:t.skipField()}return e},proto.pb.Square.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.Square.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Square.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getId()).length>0&&t.writeString(1,i),(i=e.getName()).length>0&&t.writeString(2,i),0!==(i=e.getAltitude())&&t.writeDouble(3,i),(i=e.getSegmentList()).length>0&&t.writeRepeatedMessage(4,i,s.Point.serializeBinaryToWriter),(i=e.getPointList()).length>0&&t.writeRepeatedMessage(5,i,s.Point.serializeBinaryToWriter),(i=e.getGeofenceList()).length>0&&t.writeRepeatedMessage(6,i,a.Geofence.serializeBinaryToWriter),(i=e.getRoadList()).length>0&&t.writeRepeatedMessage(7,i,l.Road.serializeBinaryToWriter),(i=e.getPitList()).length>0&&t.writeRepeatedMessage(8,i,d.Pit.serializeBinaryToWriter),(i=e.getPadList()).length>0&&t.writeRepeatedMessage(9,i,c.Pad.serializeBinaryToWriter),(i=e.getStockList()).length>0&&t.writeRepeatedMessage(10,i,p.Stock.serializeBinaryToWriter),(i=e.getDmeList()).length>0&&t.writeRepeatedMessage(11,i,u.Dme.serializeBinaryToWriter)},proto.pb.Square.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.pb.Square.prototype.setId=function(e){return o.Message.setProto3StringField(this,1,e)},proto.pb.Square.prototype.getName=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.pb.Square.prototype.setName=function(e){return o.Message.setProto3StringField(this,2,e)},proto.pb.Square.prototype.getAltitude=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.pb.Square.prototype.setAltitude=function(e){return o.Message.setProto3FloatField(this,3,e)},proto.pb.Square.prototype.getSegmentList=function(){return o.Message.getRepeatedWrapperField(this,s.Point,4)},proto.pb.Square.prototype.setSegmentList=function(e){return o.Message.setRepeatedWrapperField(this,4,e)},proto.pb.Square.prototype.addSegment=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,proto.pb.Point,t)},proto.pb.Square.prototype.clearSegmentList=function(){return this.setSegmentList([])},proto.pb.Square.prototype.getPointList=function(){return o.Message.getRepeatedWrapperField(this,s.Point,5)},proto.pb.Square.prototype.setPointList=function(e){return o.Message.setRepeatedWrapperField(this,5,e)},proto.pb.Square.prototype.addPoint=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,proto.pb.Point,t)},proto.pb.Square.prototype.clearPointList=function(){return this.setPointList([])},proto.pb.Square.prototype.getGeofenceList=function(){return o.Message.getRepeatedWrapperField(this,a.Geofence,6)},proto.pb.Square.prototype.setGeofenceList=function(e){return o.Message.setRepeatedWrapperField(this,6,e)},proto.pb.Square.prototype.addGeofence=function(e,t){return o.Message.addToRepeatedWrapperField(this,6,e,proto.pb.Geofence,t)},proto.pb.Square.prototype.clearGeofenceList=function(){return this.setGeofenceList([])},proto.pb.Square.prototype.getRoadList=function(){return o.Message.getRepeatedWrapperField(this,l.Road,7)},proto.pb.Square.prototype.setRoadList=function(e){return o.Message.setRepeatedWrapperField(this,7,e)},proto.pb.Square.prototype.addRoad=function(e,t){return o.Message.addToRepeatedWrapperField(this,7,e,proto.pb.Road,t)},proto.pb.Square.prototype.clearRoadList=function(){return this.setRoadList([])},proto.pb.Square.prototype.getPitList=function(){return o.Message.getRepeatedWrapperField(this,d.Pit,8)},proto.pb.Square.prototype.setPitList=function(e){return o.Message.setRepeatedWrapperField(this,8,e)},proto.pb.Square.prototype.addPit=function(e,t){return o.Message.addToRepeatedWrapperField(this,8,e,proto.pb.Pit,t)},proto.pb.Square.prototype.clearPitList=function(){return this.setPitList([])},proto.pb.Square.prototype.getPadList=function(){return o.Message.getRepeatedWrapperField(this,c.Pad,9)},proto.pb.Square.prototype.setPadList=function(e){return o.Message.setRepeatedWrapperField(this,9,e)},proto.pb.Square.prototype.addPad=function(e,t){return o.Message.addToRepeatedWrapperField(this,9,e,proto.pb.Pad,t)},proto.pb.Square.prototype.clearPadList=function(){return this.setPadList([])},proto.pb.Square.prototype.getStockList=function(){return o.Message.getRepeatedWrapperField(this,p.Stock,10)},proto.pb.Square.prototype.setStockList=function(e){return o.Message.setRepeatedWrapperField(this,10,e)},proto.pb.Square.prototype.addStock=function(e,t){return o.Message.addToRepeatedWrapperField(this,10,e,proto.pb.Stock,t)},proto.pb.Square.prototype.clearStockList=function(){return this.setStockList([])},proto.pb.Square.prototype.getDmeList=function(){return o.Message.getRepeatedWrapperField(this,u.Dme,11)},proto.pb.Square.prototype.setDmeList=function(e){return o.Message.setRepeatedWrapperField(this,11,e)},proto.pb.Square.prototype.addDme=function(e,t){return o.Message.addToRepeatedWrapperField(this,11,e,proto.pb.Dme,t)},proto.pb.Square.prototype.clearDmeList=function(){return this.setDmeList([])},proto.pb.Grid.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(proto.pb.Grid.prototype.toObject=function(e){return proto.pb.Grid.toObject(e,this)},proto.pb.Grid.toObject=function(e,t){var i={squareList:o.Message.toObjectList(t.getSquareList(),proto.pb.Square.toObject,e),color:o.Message.getFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.Grid.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.Grid;return proto.pb.Grid.deserializeBinaryFromReader(i,t)},proto.pb.Grid.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=new proto.pb.Square;t.readMessage(i,proto.pb.Square.deserializeBinaryFromReader),e.addSquare(i);break;case 2:i=t.readInt32(),e.setColor(i);break;default:t.skipField()}return e},proto.pb.Grid.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.Grid.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Grid.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getSquareList()).length>0&&t.writeRepeatedMessage(1,i,proto.pb.Square.serializeBinaryToWriter),0!==(i=e.getColor())&&t.writeInt32(2,i)},proto.pb.Grid.prototype.getSquareList=function(){return o.Message.getRepeatedWrapperField(this,proto.pb.Square,1)},proto.pb.Grid.prototype.setSquareList=function(e){return o.Message.setRepeatedWrapperField(this,1,e)},proto.pb.Grid.prototype.addSquare=function(e,t){return o.Message.addToRepeatedWrapperField(this,1,e,proto.pb.Square,t)},proto.pb.Grid.prototype.clearSquareList=function(){return this.setSquareList([])},proto.pb.Grid.prototype.getColor=function(){return o.Message.getFieldWithDefault(this,2,0)},proto.pb.Grid.prototype.setColor=function(e){return o.Message.setProto3IntField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(proto.pb.GridRequest.prototype.toObject=function(e){return proto.pb.GridRequest.toObject(e,this)},proto.pb.GridRequest.toObject=function(e,t){var i={read:o.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.GridRequest.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.GridRequest;return proto.pb.GridRequest.deserializeBinaryFromReader(i,t)},proto.pb.GridRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var i=t.readBool();e.setRead(i)}else t.skipField();return e},proto.pb.GridRequest.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.GridRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.GridRequest.serializeBinaryToWriter=function(e,t){var i;(i=e.getRead())&&t.writeBool(1,i)},proto.pb.GridRequest.prototype.getRead=function(){return o.Message.getBooleanFieldWithDefault(this,1,!1)},proto.pb.GridRequest.prototype.setRead=function(e){return o.Message.setProto3BooleanField(this,1,e)},o.Message.GENERATE_TO_OBJECT&&(proto.pb.GridResponse.prototype.toObject=function(e){return proto.pb.GridResponse.toObject(e,this)},proto.pb.GridResponse.toObject=function(e,t){var i={done:o.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.GridResponse.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.GridResponse;return proto.pb.GridResponse.deserializeBinaryFromReader(i,t)},proto.pb.GridResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var i=t.readBool();e.setDone(i)}else t.skipField();return e},proto.pb.GridResponse.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.GridResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.GridResponse.serializeBinaryToWriter=function(e,t){var i;(i=e.getDone())&&t.writeBool(1,i)},proto.pb.GridResponse.prototype.getDone=function(){return o.Message.getBooleanFieldWithDefault(this,1,!1)},proto.pb.GridResponse.prototype.setDone=function(e){return o.Message.setProto3BooleanField(this,1,e)},n.object.extend(t,proto.pb)}}]);