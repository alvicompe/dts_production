"use strict";(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[219],{33470:(e,t,i)=>{i.d(t,{F2:()=>a,xu:()=>g,zx:()=>d,iz:()=>x,T5:()=>p,P4:()=>m,hU:()=>u,Mi:()=>O,IB:()=>r.C});var s=i(85893),o=i(8286),n=i(96588);const a=e=>(0,s.jsx)(n.ZP,Object.assign({},Object.assign({},e.propsAutocomplete),{renderInput:e=>(0,s.jsx)(o.Z,Object.assign({},e,{label:"Select an option",variant:"outlined"}),void 0)}),void 0);var r=i(45287),l=i(282);const d=e=>(0,s.jsx)(l.Z,Object.assign({},Object.assign({},e.propsButton),{children:e.label}),void 0);var c=i(17812);const u=e=>(0,s.jsx)(c.Z,Object.assign({},Object.assign({},e),{children:e.children}),void 0);var v=i(10046);const g=({children:e,height:t,width:i})=>(0,s.jsx)(v.Z,Object.assign({height:t,width:i},{children:e}),void 0);var h=i(41749);const p=e=>(0,s.jsx)(h.Z,Object.assign({},Object.assign({},e),{children:e.children}),void 0),m=e=>(0,s.jsx)(h.Z,Object.assign({},Object.assign({},e),{children:e.children}),void 0);var j=i(55517);const x=e=>(0,s.jsx)(j.Z,Object.assign({},Object.assign({},e)),void 0);var b=i(82285);const O=e=>(0,s.jsx)(b.Z,Object.assign({},Object.assign({},e),{children:(0,s.jsx)(h.Z,{children:e.children},void 0)}),void 0)},45287:(e,t,i)=>{i.d(t,{C:()=>a});var s=i(85893),o=i(64436),n=i(8286);const a=e=>{const{propsTextField:t,propsForm:i}=e;return(0,s.jsx)(o.Z,Object.assign({},Object.assign({},i),{children:(0,s.jsx)(n.Z,Object.assign({},Object.assign({},t)),void 0)}),void 0)}},61242:(e,t,i)=>{i.d(t,{a:()=>v});var s=i(85893),o=i(41120),n=i(52663),a=i(66083),r=i(29525),l=i(66856),d=i(95477),c=i(282);const u=(0,o.Z)({disabledPadding:{padding:0,textAlign:"center"}}),v=({open:e,handleClose:t,handleConfirm:i,title:o,children:v,maxWidth:g="lg",disabled:h=!1,loading:p})=>{const m=u();return(0,s.jsxs)(n.Z,Object.assign({open:e,onClose:t,maxWidth:g},{children:[(0,s.jsx)(a.Z,Object.assign({className:m.disabledPadding},{children:o}),void 0),(0,s.jsx)(r.Z,{children:v},void 0),(0,s.jsx)(l.Z,{children:p?(0,s.jsx)(d.Z,{style:{width:"30px",height:"30px"}},void 0):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,Object.assign({size:"small",color:"primary",onClick:t},{children:"Cancelar"}),void 0),i&&(0,s.jsx)(c.Z,Object.assign({disabled:h,variant:"outlined",size:"small",color:"secondary",onClick:i,autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)},void 0)]}),void 0)}},48101:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(85893),o=i(67294),n=i(34880);const a=i(6158);a.accessToken=n.c3;const r=({dragRotate:e,map:t,pitch:i,bearing:n,mapContainer:r,lng:l,lat:d,zoom:c,setLoad:u,style:v,height:g,dragControls:h=!0})=>((0,o.useEffect)((()=>{t.current||r&&(t.current=new a.Map({container:r.current,style:v,center:[l,d],pitch:i,bearing:n,zoom:c,antialias:!0,dragRotate:e}))}),[t,r]),(0,o.useEffect)((()=>{t.current&&(h&&(t.current.addControl(new a.FullscreenControl,"bottom-left"),t.current.addControl(new a.NavigationControl,"bottom-left")),t.current.on("move",(()=>{})),t.current.on("click",(e=>{console.log(e.lngLat)})),t.current.on("load",(()=>{t.current&&u(!0)})))}),[t]),(0,o.useEffect)((()=>{t.current&&t.current.setBearing(n)}),[n]),(0,s.jsx)("div",{ref:r,style:{flex:1,height:g||"100vh",width:"100%"},className:"map-container"},void 0))},2780:(e,t,i)=>{i.d(t,{We:()=>n,wg:()=>a});var s=i(76533),o=function(e,t,i,s){return new(i||(i=Promise))((function(o,n){function a(e){try{l(s.next(e))}catch(e){n(e)}}function r(e){try{l(s.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,r)}l((s=s.apply(e,t||[])).next())}))};const n=(e,t)=>o(void 0,void 0,void 0,(function*(){return yield(0,s.g$)(t,e)})),a=e=>o(void 0,void 0,void 0,(function*(){const t=yield(0,s.zY)(e);let i="";return t.truckErrorList.length>0&&t.truckErrorList.forEach((e=>{const t=1===e.state?"CARGANDO":"A DESCARGA";i+=` ${e.truckError.deviceAlias} => ${t},`})),i}))},32815:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Et});var s=i(85893),o=i(41749),n=i(868),a=i(17812),r=i(73914),l=i(59240),d=i(95757),c=i(50998),u=i(71267),v=i(282),g=i(62822),h=i(79895),p=i(55517),m=i(10046),j=i(33681);const x=({loading:e})=>e?(0,s.jsx)(j.Z,{},void 0):(0,s.jsx)(s.Fragment,{},void 0),b="truck";var O=i(5200),f=i(93584),L=i(73855),y=i(73250),C=i(75647),k=i(44824),S=i(28231),E=i(715),N=i(95692),Z=i(41042),T=i(67294),A=i(78721);const I=(0,r.Z)({rootFilter:{flex:"0 0",margin:2,border:"1px dashed #7b81836e",cursor:"move",float:"left",width:"98%",background:f.sb},rootItem:{margin:2,border:"1px dashed #7b81836e",cursor:"move",float:"left",width:"98%",flex:"0 0"},rootItemTemporal:{flex:"0 0",margin:2,border:"1px dashed green",cursor:"move",float:"left",width:"98%",background:"#34d0ff6e"},rootItemTemporalRemove:{flex:"0 0",margin:2,border:"1px dashed red",background:"#ff60604a",cursor:"move",float:"left",width:"98%"},titleTruck:{fontSize:"1em",cursor:"move"},contentTruck:{margin:2,padding:0,width:"100%",position:"relative",height:"100%"},contentCycle:{height:16,minWidth:16,display:"flex",borderRadius:"50%",background:"#efecec",justifyContent:"center",alignItems:"center",justifyItems:"center"},stateTruck:{position:"absolute",fontSize:"0.5rem",top:0,left:0},actions:{minWidth:36},labelCycleNumber:{fontSize:11,color:"#5a5757"}}),w=({truck:e})=>{let t="",i=null;switch(e.state){case A.EnumEventState.UNKNOWN_STATE:i=(0,s.jsx)(C.Z,{style:{fontSize:"1rem"},fontSize:"small"},void 0),t=e.operationList&&e.operationList.length>0?"En camino":"Sin operación";break;case A.EnumEventState.DOWNLOAD:i=(0,s.jsx)(k.Z,{style:{fontSize:"1rem"},fontSize:"small"},void 0),t="Descargando";break;case A.EnumEventState.UPLOAD:i=(0,s.jsx)(S.Z,{style:{fontSize:"1rem"},fontSize:"small"},void 0),t="Cargando";break;case A.EnumEventState.TO_UPLOAD:i=(0,s.jsx)(E.Z,{style:{fontSize:"1rem",transform:"rotate(180deg)"},fontSize:"small"},void 0),t="A carga";break;case A.EnumEventState.TO_DOWNLOAD:i=(0,s.jsx)(E.Z,{style:{fontSize:"1rem"},fontSize:"small"},void 0),t="A descarga";break;default:i=(0,s.jsx)(N.Z,{style:{fontSize:"1rem"},fontSize:"small"},void 0),t=`Advertencia!!! en otro estado... Estado = ${A.EnumEventState[e.state]}`}return i&&(0,s.jsx)(n.ZP,Object.assign({title:t},{children:(0,s.jsx)(a.Z,Object.assign({style:{margin:0,padding:0},size:"small"},{children:i}),void 0)}),void 0)},D=({truck:e,temporal:t,operation:i,temporalRemove:a,disabledDrag:r,isFilter:l=!1,distanceToExcavator:d,excavator:u})=>{var v;const g=I(),p=(0,L.T)(),[{isDragging:m},j]=(0,O.c)((()=>({type:b,item:{truck:e},end:(t,s)=>{const o=s.getDropResult();r?confirm("No disponible aún, por ahora puede cambiarlo desde la sección Horómetros")&&window.open("/#/hourmeter"):t&&o&&!a&&p((0,y.UN)({operationId:o.operation.id,truck:e,operationOldId:i?i.id:""}))},collect:e=>({isDragging:e.isDragging(),handlerId:e.getHandlerId()})})),[a,i]),x=void 0!==e.sensor,C=(0,T.useCallback)((()=>{var t;const i=null===(t=e.deviceAlias)||void 0===t?void 0:t.split("-");return i&&i.length>1?i[1]:""}),[e.deviceAlias]);return(0,s.jsx)(h.Z,Object.assign({className:l&&!a?g.rootFilter:t?g.rootItemTemporal:a?g.rootItemTemporalRemove:g.rootItem,ref:j,elevation:4},{children:(0,s.jsxs)(c.Z,Object.assign({disableGutters:!0,className:g.contentTruck},{children:[(0,s.jsx)(Z.Z,{className:g.stateTruck,style:{color:x?"#49df94":"#ff9090"},fontSize:"small"},void 0),(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(o.Z,Object.assign({item:!0,style:{marginTop:4}},{children:(0,s.jsx)("label",Object.assign({className:g.titleTruck},{children:C()}),void 0)}),void 0),(0,s.jsxs)(o.Z,Object.assign({item:!0},{children:[(0,s.jsxs)(o.Z,Object.assign({container:!0,className:g.actions,alignItems:"center"},{children:[(0,s.jsx)(w,{truck:e},void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Number cycle/Número de ciclos"},{children:(0,s.jsx)("div",Object.assign({className:g.contentCycle},{children:(0,s.jsx)("label",Object.assign({className:g.labelCycleNumber},{children:void 0===e.cycleNumber?"0":e.cycleNumber}),void 0)}),void 0)}),void 0)]}),void 0),void 0!==d&&(0,s.jsx)(o.Z,Object.assign({item:!0,style:{marginTop:4,background:`${f.J$}20`}},{children:(0,s.jsxs)("label",Object.assign({className:g.titleTruck},{children:[d.toFixed(2),"m"]}),void 0)}),void 0),void 0!==u&&(0,s.jsx)(o.Z,Object.assign({item:!0,style:{marginTop:4,background:"#424141",color:"#fff"}},{children:(0,s.jsx)("label",Object.assign({className:g.titleTruck},{children:e.operationList&&e.operationList.length>0?null===(v=e.operationList[0].excavator)||void 0===v?void 0:v.deviceAlias:""}),void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)}),void 0)};var R=i(33470),z=i(48101),P=i(10980),W=i(6777),$=i(95090),_=i(89613),M=i(34344),G=i(54150);class H{constructor(e,t,i,s,o,n,a,r){this.circleList=e,this.map=t,this.idSource=i,this.radius=o,this.idLayer=s,this.fontSize=9,this.color=n,this.transparent=a,this.onClickElement=r}getInMap(){return this.map.getSource(this.idSource)}generateFeatures(){return this.circleList.map((e=>({type:"Feature",properties:{label:e.label},geometry:{type:"Point",coordinates:2===e.point.length?e.point:[0,0]}})))}addToMap(){var e,t;!this.getInMap()&&this.circleList.length>0&&(this.map.getSource(this.idSource)||this.map.addSource(this.idSource,{type:"geojson",data:{type:"FeatureCollection",features:this.generateFeatures()}}),this.map.getLayer(this.idLayer)||(this.map.addLayer({id:this.idLayer,type:"circle",source:this.idSource,paint:{"circle-radius":{stops:[[0,0],[20,(e=this.radius,t=this.circleList[0].point[1],e/.075/Math.cos(t*Math.PI/180))]],base:2},"circle-stroke-color":this.color,"circle-stroke-width":this.transparent?2:0,"circle-color":this.color,"circle-opacity":this.transparent?0:1}}),this.map.addLayer({id:this.idLayer+"LABEL",type:"symbol",source:this.idSource,layout:{"text-field":["get","label"],"text-variable-anchor":["top"],"text-radial-offset":.5,"text-justify":"auto","text-allow-overlap":!0}})),this.map.on("click",this.idLayer,(e=>{this.onClickElement&&this.onClickElement(e)})),this.map.on("mouseenter",this.idLayer,(()=>{this.map.getCanvas().style.cursor="pointer"})),this.map.on("mouseleave",this.idLayer,(()=>{this.map.getCanvas().style.cursor=""})))}updateInMap(){const e=this.getInMap();e?e.setData({type:"FeatureCollection",features:this.generateFeatures()}):this.addToMap()}removeOfMap(){this.getInMap()&&(this.map.removeLayer(this.idLayer),this.map.removeLayer(this.idLayer+"LABEL")),this.map.removeSource(this.idSource)}}var U=i(78479),F=i(45287),J=i(34880);const K=(0,r.Z)({rootList:{flex:1,padding:2,margin:2,overflow:"auto"},rootMap:{borderRadius:16,position:"relative",right:0,left:0},mapBackground:{position:"absolute",right:0,left:0,top:0,bottom:0,zIndex:1}}),V=({operation:e})=>{const t=(0,T.useRef)(null),[i,o]=(0,U._)(`RADIOSEX${e.truckList&&e.truckList.length>0?e.truckList[0].deviceAlias:""}`,35),n=K(),a=(0,T.useRef)(null),{excavator:r,truckInRange:l,truckListInOperation:d}=(({operation:e,radio:t})=>{const[i,s]=(0,T.useState)(P.kM),[o,n]=(0,T.useState)([]),[a,r]=(0,T.useState)([]),{initial:l,truckStream:d}=(0,L.C)(M.dc),{initial:c,excavatorStream:u}=(0,L.C)(_.oT);return(0,T.useEffect)((()=>{if(l===W.Vj.INITIAL&&d.sensor&&d.sensor.latitude&&i.sensor&&i.sensor.latitude&&!o.some((e=>e.deviceId===d.deviceId))){const e=(0,G.xmu)([d.sensor.longitude,d.sensor.latitude]),s=(0,G.xmu)([i.sensor.longitude,i.sensor.latitude]),o=(0,G.TE$)(e,s),n=a.findIndex((e=>e.truck.deviceId===d.deviceId)),l=[...a];if(1e3*o<=t){const e={truck:d,distance:1e3*o};-1===n?l.push(e):l[n]=e,console.log("TRUCK_RANGE",`ope${i.deviceAlias}`,l),r(l)}else-1!==n&&(l.splice(n,1),r(l))}}),[d,o,t]),(0,T.useEffect)((()=>{i.deviceId&&c===$.JD.DONE&&u.deviceId===i.deviceId&&(!i.sensor&&u.sensor||u.sensor&&u.sensor.latitude!==i.sensor.latitude)&&s(u)}),[u]),(0,T.useEffect)((()=>{e.excavatorList&&i.deviceId!=e.excavatorList[0].deviceId&&s(e.excavatorList[0]);let t=!1;const o=[...a];e.truckList.forEach((e=>{const i=a.findIndex((t=>t.truck.deviceId===e.deviceId));i>-1&&(o.splice(i,1),console.log("truckInRangeremommmmm",i),t=!0)})),t&&r(o),n(e.truckList)}),[e.truckList]),{truckListInOperation:o,truckInRange:a,excavator:i}})({operation:e,radio:i}),[c,u]=(0,T.useState)(!1);(0,T.useEffect)((()=>()=>{a.current=null,t.current=null}),[]),(0,T.useEffect)((()=>{let e,i;if(c&&r.deviceId&&r.sensor&&r.sensor.latitude){const s={point:[r.sensor.longitude,r.sensor.latitude],label:r.deviceAlias};e=new H([s],t.current,`ID_SOUCE_CIRCLE_${r.deviceAlias}`,`ID_LAYER_CIRCLE_${r.deviceAlias}`,J.Xb,f.J$,!0),e.addToMap(),i=new H([s],t.current,`ID_SOUCE_EXCAVATOR_${r.deviceAlias}`,`ID_SOUCE_EXCAVATOR_${r.deviceAlias}`,1,f.sb,!1),e.addToMap(),i.addToMap(),setTimeout((()=>{t.current.setCenter(s.point)}),100)}return()=>{e&&(e.removeOfMap(),i.removeOfMap())}}),[c,r]),(0,T.useEffect)((()=>{let e;if(c&&r.deviceId&&d.length>0){const i=d.map((e=>e.sensor?{point:[e.sensor.longitude,e.sensor.latitude],label:`C${e.deviceAlias.substr(-2)} /${e.sensor.speed.toFixed(0)}kh`}:{point:[0,0],label:""}));e=new H(i,t.current,`ID_SOUCE_TRUCKOPE_${r.deviceAlias}`,`ID_SOUCE_TRUCKOPE_${r.deviceAlias}`,1,"green",!1),e.addToMap()}return()=>{e&&e.removeOfMap()}}),[c,d]),(0,T.useEffect)((()=>{let e;if(c&&r.deviceId&&l.length>0){const i=l.map((e=>({point:[e.truck.sensor.longitude,e.truck.sensor.latitude],label:`C${e.truck.deviceAlias.substr(-2)} /${e.truck.sensor.speed.toFixed(0)}kh`})));e=new H(i,t.current,`ID_SOUCE_TRUCKRANGE_${r.deviceAlias}`,`ID_LAYER_TRUCKRANGE_${r.deviceAlias}`,1,f.J$,!1),e.addToMap()}return()=>{e&&e.removeOfMap()}}),[c,l]);const v=(0,T.useMemo)((()=>(0,s.jsx)(R.T5,Object.assign({style:{position:"absolute",top:0,zIndex:2}},{children:(0,s.jsx)(R.T5,Object.assign({container:!0,direction:"row"},{children:l.map((e=>(0,s.jsx)(D,{truck:e.truck,distanceToExcavator:e.distance,excavator:r},e.truck.deviceId)))}),void 0)}),void 0)),[l,r.deviceAlias]),g=(0,T.useMemo)((()=>(0,s.jsx)(R.P4,Object.assign({item:!0},{children:(0,s.jsx)(F.C,{propsForm:{},propsTextField:{variant:"outlined",size:"small",label:"Radio de proximidad",style:{marginTop:8},onChange:e=>{const t=parseInt(e.target.value);t&&o(t)},value:i}},void 0)}),void 0)),[i]);return(0,s.jsxs)(R.T5,Object.assign({className:n.rootList},{children:[g,(0,s.jsxs)(R.P4,Object.assign({item:!0,className:n.rootMap},{children:[v,(0,s.jsxs)(R.T5,{children:[(0,s.jsx)(R.P4,{className:n.mapBackground},void 0),(0,s.jsx)(z.Z,Object.assign({map:t,dragRotate:!1,style:"mapbox://styles/dispatchgat/ckqqsfc2y46bo17sf1y29zwnj",mapContainer:a,bearing:0,pitch:15},{lat:-7.6163,lng:-78.196,zoom:18,setLoad:u},{height:"420px",dragControls:!1}),"map2")]},void 0)]}),void 0)]}),void 0)};var X=i(43829),B=i(82200),Y=i(59544),q=i(7654),Q=i(78965),ee=i(22318),te=i(64436),ie=i(67162),se=i(30553),oe=i(40074),ne=i(95477),ae=i(52663),re=i(66856),le=i(29525);function de({open:e,setOpen:t,handleClickConfirm:i,children:o,loading:n,handleClose:a}){return(0,s.jsxs)(ae.Z,Object.assign({fullWidth:!0,maxWidth:"lg",open:e,onClose:a||(()=>{t(!1)}),"aria-labelledby":"max-width-dialog-title"},{children:[(0,s.jsx)(le.Z,{children:o},void 0),(0,s.jsx)(re.Z,{children:n?(0,s.jsx)(ne.Z,{},void 0):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v.Z,Object.assign({onClick:a,size:"small",color:"primary"},{children:"Cancel"}),void 0),(0,s.jsx)(v.Z,Object.assign({onClick:i,variant:"outlined",size:"small",color:"secondary"},{children:"Confirm"}),void 0)]},void 0)},void 0)]}),void 0)}var ce=i(61242),ue=i(76533),ve=i(99302),ge=i(52672),he=i(14125),pe=i(41120),me=i(10465),je=i(13258);const xe=(0,pe.Z)((e=>({disabledSpacing:{margin:0,padding:0,width:"auto"},checkbox:{"& .MuiCheckbox-root":{margin:0,padding:0,paddingLeft:8}}}))),be=T.memo((({truck:e,checked:t,trucksSelect:i,setTrucksSelect:o,disableWithOperation:n,handleonchangeTruck:a})=>{const r=xe(),l=e.state>=0?e.state===$.SS["Sin Operación"]&&e.operationList&&e.operationList.length>0?"En camino":$.SS[e.state]:"Conexión perdida",u=e.operationList&&e.operationList.length>0?e.operationList[0].excavator.deviceAlias:"";return(0,s.jsx)(c.Z,Object.assign({button:!0,dense:!0,className:r.disabledSpacing,disabled:!!n&&!!u},{children:(0,s.jsx)(se.Z,{className:r.checkbox,onChange:()=>{const t=i.findIndex((t=>e.deviceId===t.deviceId));-1===t?i.push(e):i.splice(t,1),o(JSON.parse(JSON.stringify(i)))},control:(0,s.jsx)(je.Z,{onClick:()=>a(e),size:"small",checked:t,inputProps:{style:{padding:0}}},void 0),label:(0,s.jsx)(d.Z,{primary:`${e.deviceAlias} ${u?` ➜ ${u}`:""} (${l})`},void 0)},void 0)}),void 0)})),Oe=(0,pe.Z)({root:{paddingLeft:4,maxHeight:"60vh",overflowY:"scroll",boxShadow:"inset 0px -2px 10px 0px rgb(17 16 10 / 56%)",borderRadius:4},searchContainer:{marginRight:8}}),fe=T.memo((({trucksSelect:e,setTrucksSelect:t,handleonchangeTruck:i,disableWithOperation:n})=>{const{truckInfoList:a}=(0,L.C)(ve.ej),r=Oe(),[l,d]=(0,T.useState)([]),[c,u]=(0,T.useState)("");(0,T.useEffect)((()=>{d(a.filter((e=>e.deviceAlias.toLowerCase().includes(c.toLowerCase()))))}),[a]);const v=(0,T.useCallback)((e=>{if(e){const t=e.target?e.target.value.toUpperCase():"";d(a.filter((e=>e.deviceAlias.toUpperCase().includes(t)))),u(t)}}),[a]),h=(0,T.useCallback)((()=>{d(a),u("")}),[a]);return(0,s.jsxs)(g.Z,Object.assign({dense:!0,disablePadding:!0,style:{margin:4,paddingTop:4}},{children:[(0,s.jsx)(me.V,{functionFilter:v,functionCancel:h},void 0),(0,s.jsx)(o.Z,Object.assign({container:!0,className:r.root},{children:l.map((o=>{return(0,s.jsx)(T.Fragment,{children:(0,s.jsx)(be,{handleonchangeTruck:i,disableWithOperation:n,checked:(a=o,!!e.find((e=>a.deviceId===e.deviceId))),trucksSelect:e,setTrucksSelect:t,truck:o},void 0)},o.deviceId);var a}))}),void 0)]}),void 0)}));var Le=i(44562),ye=i(61920);const Ce=(e,t,i,s)=>{return o=void 0,n=void 0,r=function*(){i(!0);const o=yield(0,ue.e1)(e,t);i(!1),s((e=>!e));let n="";o.truckErrorList.length>0&&o.truckErrorList.forEach((e=>{const t=1===e.state?"CARGANDO":"A DESCARGA";n+=` ${e.truckError.deviceAlias}=> ${t},`})),""!==n&&alert(`Las siguientes unidades no han podido ser reasignadas: ${n}`)},new((a=void 0)||(a=Promise))((function(e,t){function i(e){try{l(r.next(e))}catch(e){t(e)}}function s(e){try{l(r.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(i,s)}l((r=r.apply(o,n||[])).next())}));var o,n,a,r},ke=({open:e,setOpen:t,setRefresh:i,operations:a})=>{const r=(0,L.T)(),[l,u]=(0,T.useState)([]),[v,p]=(0,T.useState)(""),[m,j]=(0,T.useState)([]),[x,b]=(0,T.useState)(!1),[O,f]=T.useState(!1);(0,T.useEffect)((()=>{r(ve.RK),r(he.CE)}),[]);const y=e=>{p(e.target.value)};return(0,s.jsxs)(de,Object.assign({},{loading:O},{open:e,handleClickConfirm:()=>{m.length<=0||v.length<=0?r((0,ge.L8)({open:!0,msg:"Debe seleccionar almenos una excavadora y un camión",severity:"warning"})):b(!0)},handleClose:()=>{t(!1),j([]),p("")}},{children:[(0,s.jsx)(o.Z,Object.assign({container:!0},{children:(0,s.jsx)(o.Z,Object.assign({item:!0,xs:12},{children:(0,s.jsx)(ee.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Reasignación de camiones"}),void 0)}),void 0)}),void 0),(0,s.jsxs)(o.Z,Object.assign({container:!0,style:{paddingLeft:4}},{children:[(0,s.jsx)(o.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(h.Z,Object.assign({elevation:4},{children:(0,s.jsx)(fe,{handleonchangeTruck:()=>{},setTrucksSelect:j,trucksSelect:m},void 0)}),void 0)}),void 0),(0,s.jsx)(o.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(h.Z,Object.assign({style:{margin:10}},{children:(0,s.jsxs)(g.Z,{children:[(0,s.jsx)(c.Z,{children:(0,s.jsx)(d.Z,{secondary:"Excavadora de destino"},void 0)},void 0),(0,s.jsx)(c.Z,{children:(0,s.jsx)(d.Z,{children:(0,s.jsx)(te.Z,Object.assign({component:"fieldset"},{children:(0,s.jsx)(ie.Z,Object.assign({row:!0,"aria-label":"gender",name:"radio-buttons-group"},{children:a.map((e=>{var t;return(0,s.jsx)(n.ZP,Object.assign({title:e.state!==ye.J8.Operando?"Excavadora sin operación":"Excavadora de destino"},{children:(0,s.jsx)(se.Z,{value:e.id,disabled:e.state!==ye.J8.Operando,control:(0,s.jsx)(oe.Z,{disabled:e.state!==ye.J8.Operando},void 0),onChange:y,label:`  ${null===(t=e.excavatorList[0])||void 0===t?void 0:t.deviceAlias}`},void 0)}),e.id)}))}),void 0)}),void 0)},void 0)},void 0)]},void 0)}),void 0)}),void 0)]}),void 0),(0,s.jsx)(ce.a,Object.assign({open:x,handleClose:()=>{b(!1)},handleConfirm:()=>{b(!1),t(!1),j([]),p(""),Ce(v,m,f,i)},title:"Area you sure?"},{children:(0,s.jsx)(Le.Z,Object.assign({severity:"warning"},{children:"Intentaremos mover estos camiones, si ocurre algun error se le informará"}),void 0)}),void 0)]}),void 0)};var Se=i(12575),Ee=i(99945),Ne=i(44326);const Ze=({value:e,operation:t,lineThrough:i=!1})=>{const o=e=>{var i,s,o,n,a,r,l,d,c,u,v,g;switch(e){case ye.u6.DME:const e=(null===(s=null===(i=t.download)||void 0===i?void 0:i.dme)||void 0===s?void 0:s.cellList.length)>0?null===(n=null===(o=t.download)||void 0===o?void 0:o.dme)||void 0===n?void 0:n.cellList[0].name:"";return e.toUpperCase().includes("DME")?e:`DME-${e}`;case ye.u6.PAD:const h=(null===(r=null===(a=t.download)||void 0===a?void 0:a.pad)||void 0===r?void 0:r.cellList.length)>0?null===(d=null===(l=t.download)||void 0===l?void 0:l.pad)||void 0===d?void 0:d.cellList[0].name:"";return h.toUpperCase().includes("PAD")?h:`PAD-${h}`;case ye.u6.STOCK:const p=(null===(u=null===(c=t.download)||void 0===c?void 0:c.stock)||void 0===u?void 0:u.cellList.length)>0?null===(g=null===(v=t.download)||void 0===v?void 0:v.stock)||void 0===g?void 0:g.cellList[0].name:"";return p.toUpperCase().includes("STOCK")?p:`STK-${p}`;default:return""}};return(0,s.jsx)(s.Fragment,{children:e===ye.u6.DME_PAD?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{color:i?"default":"secondary",icon:(0,s.jsx)(Ee.Z,{color:"secondary",fontSize:"small"},void 0),size:"small",style:{backgroundColor:f.p1},label:(0,s.jsx)("p",Object.assign({style:{margin:0,padding:0,fontSize:"0.6rem",textDecoration:i?"line-through":"solid"}},{children:o("pad")}),void 0)},void 0),(0,s.jsx)(u.Z,{color:i?"default":"secondary",icon:(0,s.jsx)(Ee.Z,{color:"secondary",fontSize:"small"},void 0),style:{backgroundColor:f.AS},size:"small",label:(0,s.jsx)("p",Object.assign({style:{margin:0,padding:0,fontSize:"0.6rem",textDecoration:i?"line-through":"solid"}},{children:o("dme")}),void 0)},void 0)]},void 0):(0,s.jsx)(u.Z,{icon:(0,s.jsx)(Ee.Z,{color:"secondary",fontSize:"small"},void 0),size:"small",color:i?"default":"secondary",style:{backgroundColor:(e=>{switch(e){case ye.u6.DME:return f.AS;case ye.u6.PAD:return f.p1;case ye.u6.STOCK:return f.o2;default:return f.sb}})(e)},label:(0,s.jsx)("p",Object.assign({style:{margin:0,padding:0,fontSize:"0.6rem",textDecoration:i?"line-through":"solid"}},{children:o(e)}),void 0)},void 0)},void 0)},Te=({value:e,operation:t,lineThrough:i=!1})=>(0,s.jsx)(u.Z,{icon:(0,s.jsx)(Ne.Z,{color:"secondary",fontSize:"small"},void 0),size:"small",style:{background:(e=>{switch(e){case ye.u6.PIT:return f.sb;case ye.u6.STOCK:return f.gH;default:return f.sb}})(e)},color:i?"default":"secondary",label:(0,s.jsx)("p",Object.assign({style:{margin:0,padding:0,fontSize:"0.6rem",textDecoration:i?"line-through":"solid"}},{children:(()=>{var i,s,o,n,a,r,l,d,c,u,v,g;switch(e){case ye.u6.STOCK:const e=(null===(s=null===(i=t.upload)||void 0===i?void 0:i.stock)||void 0===s?void 0:s.cellList)&&(null===(n=null===(o=t.upload)||void 0===o?void 0:o.stock)||void 0===n?void 0:n.cellList.length)>0?null===(r=null===(a=t.upload)||void 0===a?void 0:a.stock)||void 0===r?void 0:r.cellList[0].name:"";return`${ye.WW[t.upload.type]}  ${e}`;case ye.u6.PIT:const h=null===(d=null===(l=t.upload)||void 0===l?void 0:l.pit)||void 0===d?void 0:d.name,p=(null===(c=t.upload.pit)||void 0===c?void 0:c.projectList.length)>0?`${null===(u=t.upload.pit)||void 0===u?void 0:u.projectList[0].name}`.substring(5):"",m=p&&(null===(v=t.upload.pit)||void 0===v?void 0:v.projectList[0].polygonList.length)>0?null===(g=t.upload.pit)||void 0===g?void 0:g.projectList[0].polygonList[0].name:"";return`${ye.WW[t.upload.type]} ${h} ${p} ${m}`;default:return""}})()}),void 0)},void 0),Ae=({operation:e,lineThrough:t})=>{var i,o;let n="";return e?((null===(i=e.upload)||void 0===i?void 0:i.pit)&&(n="pit"),(null===(o=e.upload)||void 0===o?void 0:o.stock)&&(n="stock"),(0,s.jsx)(Te,{value:n,operation:e,lineThrough:t},void 0)):(0,s.jsx)(s.Fragment,{},void 0)},Ie=({operation:e,lineThrough:t})=>{var i,o,n,a,r;let l="";return e?((null===(i=e.download)||void 0===i?void 0:i.dme)&&(l="dme"),(null===(o=e.download)||void 0===o?void 0:o.pad)&&(l="pad"),(null===(n=e.download)||void 0===n?void 0:n.stock)&&(l="stock"),(null===(a=e.download)||void 0===a?void 0:a.dme)&&(null===(r=e.download)||void 0===r?void 0:r.pad)&&(l="dme_pad"),(0,s.jsx)(Ze,{value:l,operation:e,lineThrough:t},void 0)):(0,s.jsx)(s.Fragment,{},void 0)},we=({operation:e,lineThrough:t})=>{const i=e&&e.excavatorList&&e.excavatorList.length>0?e.excavatorList[0].deviceAlias:"";return(0,s.jsx)(u.Z,{color:t?"default":"secondary",icon:(0,s.jsx)(Se.Z,{fontSize:"small"},void 0),size:"small",style:{textDecoration:t?"line-through":"solid"},label:i},void 0)};var De=i(73727),Re=i(2780),ze=i(66083),Pe=i(8286),We=i(86072),$e=i(89601);const _e=({newOperation:e})=>{const t=(0,L.T)(),i=()=>{t((0,$e.mg)())},r=(0,T.useMemo)((()=>e.uploadList.map(((e,t)=>{const o=e.type===ye.WW.TAJO?`\n      ${e.nameProject}-${e.name}-${e.material?e.material.type:""}\n      `:e.name;return(0,s.jsx)(u.Z,{color:"secondary",label:o,onDelete:i},t)}))),[e.uploadList]);return 0===e.uploadList.length?(0,s.jsx)(s.Fragment,{},void 0):(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(n.ZP,Object.assign({title:"Change Upload"},{children:(0,s.jsx)(a.Z,Object.assign({color:"primary",size:"small"},{children:(0,s.jsx)(We.Z,{},void 0)}),void 0)}),void 0),r]}),void 0)}),void 0)},Me=({newOperation:e})=>{const t=(0,L.T)(),i=(0,T.useMemo)((()=>e.downloadList.map(((e,i)=>(0,s.jsx)(u.Z,{color:"secondary",label:e.name,onDelete:()=>{return i=e.id,void t((0,$e.$g)({id:i}));var i}},i)))),[e.downloadList]);return 0===e.downloadList.length?(0,s.jsx)(s.Fragment,{},void 0):(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(n.ZP,Object.assign({title:"Change Download"},{children:(0,s.jsx)(a.Z,Object.assign({color:"primary",size:"small"},{children:(0,s.jsx)(We.Z,{},void 0)}),void 0)}),void 0),i]}),void 0)}),void 0)},Ge=({newOperation:e})=>{const t=(0,L.T)(),i=()=>{t((0,$e.QW)())},r=(0,T.useMemo)((()=>e.excavatorList.map(((e,t)=>{const o=e.deviceAlias;return(0,s.jsx)(u.Z,{color:"secondary",label:o,onDelete:i},t)}))),[e.excavatorList]);return 0===e.excavatorList.length?(0,s.jsx)(s.Fragment,{},void 0):(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(n.ZP,Object.assign({title:"Change Excavator"},{children:(0,s.jsx)(a.Z,Object.assign({color:"primary",size:"small"},{children:(0,s.jsx)(We.Z,{},void 0)}),void 0)}),void 0),r]}),void 0)}),void 0)};var He,Ue=i(96588),Fe=i(97700),Je=i(50648);!function(e){e.CHANGE_NOTHING="0",e.CHANGE_UPLOAD="1",e.CHANGE_DOWNLOAD="2",e.CHANGE_EXCAVATOR="3",e.CHANGE_TRUCKS="changetruck"}(He||(He={}));const Ke=[{label:"Change Upload",value:He.CHANGE_UPLOAD,id:He.CHANGE_UPLOAD},{label:"Change/Add Download",value:He.CHANGE_DOWNLOAD,id:He.CHANGE_DOWNLOAD},{label:"Change Excavator",value:He.CHANGE_EXCAVATOR,id:He.CHANGE_EXCAVATOR}],Ve=[{label:"TAJO",value:ye.WW.TAJO.toString(),id:""},{label:"STOCK",value:ye.WW.STOCK.toString(),id:""}],Xe=[{label:"DME",value:Je.TypeDownload.DME.toString(),id:""},{label:"PAD",value:Je.TypeDownload.PAD.toString(),id:""},{label:"STOCK",value:Je.TypeDownload.STOCK.toString(),id:""}],Be=({open:e,operation:t,setOpen:i})=>{const[a,r]=(0,T.useState)([]),{excavatorInfoList:l}=(0,L.C)(he.kW),d=(0,T.useRef)(),{dmeCellList:c,padCellList:g,stockCellList:h,polygonList:j}=(0,L.C)(Fe.WD),[x,b]=(0,T.useState)(He.CHANGE_NOTHING),[O,f]=(0,T.useState)(ye.WW.DESCONOCIDO),[y,C]=(0,T.useState)(Je.TypeDownload.UNKNOWN),k=(0,L.T)(),{newOperation:S}=(0,L.C)(Fe.e5),E=(e,t,i)=>{const s=t.find((t=>t.id===e));s&&k((0,$e.qn)(Object.assign(Object.assign({},s),{type:i})))},N=(e,t,i)=>{const s=t.find((t=>t.id===e));s&&k((0,$e.Ru)(Object.assign(Object.assign({},s),{type:i})))},Z=(0,T.useCallback)((()=>((e,t,i,s,o,n,a,r)=>{let l=e===He.CHANGE_NOTHING?Ke:e===He.CHANGE_UPLOAD?Ve:[];switch(e){case He.CHANGE_NOTHING:l=Ke;break;case He.CHANGE_UPLOAD:l=Ve;break;case He.CHANGE_DOWNLOAD:l=Xe;break;case He.CHANGE_EXCAVATOR:l=r.map((e=>({label:e.deviceAlias,id:e.id,value:e.id})));break;default:l=Xe}switch(t){case ye.WW.TAJO:l=i.map((e=>({label:`${e.nameProject}-${e.name}-${e.material?e.material.type:""}`,value:e.id,id:e.id})));break;case ye.WW.STOCK:l=s.map((e=>({label:`${e.name}`,value:e.id,id:e.id})))}switch(o){case Je.TypeDownload.DME:l=n.map((e=>({label:`${e.name}`,value:e.id,id:e.id})));break;case Je.TypeDownload.PAD:l=a.map((e=>({label:`${e.name}`,value:e.id,id:e.id})));break;case Je.TypeDownload.STOCK:l=s.map((e=>({label:`${e.name}`,value:e.id,id:e.id})))}return l})(x,O,j,h,y,c,g,l)),[x,O,j,h,y,c,g,l]);return(0,s.jsxs)(ae.Z,Object.assign({open:e,onClose:i,title:"Migrate Operation"},{children:[(0,s.jsx)(ze.Z,Object.assign({style:{paddingTop:8,paddingBottom:0}},{children:"Update Operation Attributes"}),void 0),(0,s.jsx)(le.Z,Object.assign({style:{minHeight:320}},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0,direction:"column"},{children:[(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)(ee.Z,{children:"Upload:"},void 0),(0,s.jsx)(Ae,{operation:t,lineThrough:S.uploadList.length>0},void 0),(0,s.jsx)(_e,Object.assign({},{operation:t,newOperation:S}),void 0)]}),void 0)}),void 0),(0,s.jsx)(m.Z,{width:"100%",height:8},void 0),(0,s.jsxs)(o.Z,Object.assign({item:!0},{children:[(0,s.jsxs)(o.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)(ee.Z,{children:"Download: "},void 0),(0,s.jsx)(Ie,{operation:t,lineThrough:S.downloadList.length>0},void 0),(0,s.jsx)(Me,Object.assign({},{operation:t,newOperation:S}),void 0)]}),void 0),(0,s.jsx)(m.Z,{width:"100%",height:8},void 0),(0,s.jsx)(p.Z,{orientation:"horizontal"},void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Puede agregar hasta 2 puntos de descarga"},{children:(0,s.jsx)(ee.Z,Object.assign({style:{fontSize:11}},{children:"*You can add up to 2 download points, example 1 DME and 1 PAD or 1 STOCK"}),void 0)}),void 0),(0,s.jsx)(p.Z,{orientation:"horizontal"},void 0)]}),void 0),(0,s.jsx)(m.Z,{width:"100%",height:8},void 0),(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsxs)(o.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)(ee.Z,{children:"Excavator: "},void 0),(0,s.jsx)(we,{operation:t,lineThrough:S.excavatorList.length>0},void 0),(0,s.jsx)(Ge,Object.assign({},{operation:t,newOperation:S}),void 0)]}),void 0)}),void 0),(0,s.jsx)(m.Z,{height:8},void 0),(1!==S.excavatorList.length||2!==S.downloadList.length||1!==S.uploadList.length)&&(0,s.jsx)(o.Z,Object.assign({item:!0,style:{marginTop:8}},{children:(0,s.jsx)(Ue.ZP,{size:"small",value:a,blurOnSelect:!0,onChange:(e,t)=>{switch(r(t),t.length){case 0:b(He.CHANGE_NOTHING),f(ye.WW.DESCONOCIDO),C(Je.TypeDownload.UNKNOWN);break;case 1:b(t[0].value),f(ye.WW.DESCONOCIDO),C(Je.TypeDownload.UNKNOWN);break;case 2:switch(x){case He.CHANGE_UPLOAD:f(Number(t[1].value));break;case He.CHANGE_DOWNLOAD:C(Number(t[1].value));break;case He.CHANGE_EXCAVATOR:((e,t)=>{const i=t.find((t=>t.id===e));i&&k((0,$e.Zh)(i))})(t[1].value,l),r([]),b(He.CHANGE_NOTHING)}break;case 3:switch(x){case He.CHANGE_UPLOAD:switch(O){case ye.WW.TAJO:E(t[2].id,j,ye.WW.TAJO);break;case ye.WW.STOCK:E(t[2].id,h,ye.WW.STOCK)}break;case He.CHANGE_DOWNLOAD:switch(y){case Je.TypeDownload.DME:N(t[2].id,c,y);break;case Je.TypeDownload.PAD:N(t[2].id,g,y);break;case Je.TypeDownload.STOCK:N(t[2].id,h,y)}}f(ye.WW.DESCONOCIDO),C(Je.TypeDownload.UNKNOWN),b(He.CHANGE_NOTHING),r([])}setTimeout((()=>{var e,t;null===(e=d.current)||void 0===e||e.focus(),null===(t=d.current)||void 0===t||t.click()}),100)},options:Z(),multiple:!0,renderTags:(e,t)=>e.map(((e,i)=>(0,s.jsx)(u.Z,Object.assign({variant:"outlined",label:e.label},t({index:i})),void 0))),style:{minWidth:200},getOptionLabel:e=>e.label,openOnFocus:!0,disableClearable:!0,getOptionDisabled:e=>((e,t,i)=>{switch(e.id){case He.CHANGE_UPLOAD:return t.uploadList.length>0;case He.CHANGE_DOWNLOAD:return t.downloadList.length>1;case He.CHANGE_EXCAVATOR:return t.excavatorList.length>0}return t.downloadList.some((t=>t.type===Number(e.value)))})(e,S),filterSelectedOptions:!0,renderInput:e=>(0,s.jsx)(Pe.Z,Object.assign({},e,{autoFocus:!0,inputRef:d,label:"How can I help you?",variant:"outlined",fullWidth:!0}),void 0)},void 0)}),void 0)]}),void 0)}),void 0),(0,s.jsx)(re.Z,{children:(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(v.Z,Object.assign({onClick:i,size:"small",color:"primary"},{children:"Cancel"}),void 0),(0,s.jsx)(v.Z,Object.assign({variant:"outlined",size:"small",color:"secondary",onClick:()=>{k((0,$e.db)({oldOperation:t,newOperation:S}))}},{children:"Save"}),void 0)]},void 0)},void 0)]}),void 0)};const Ye=(0,r.Z)({rootList:{flex:1,padding:2,margin:2,overflow:"auto"},rootNoDropItem:{padding:2,margin:2,width:32,height:"92vh"},rootListOver:{flex:1,padding:2,margin:2,overflow:"auto",background:"#80808045"},rootNotDropList:{width:300,padding:2,margin:2,overflow:"auto",zIndex:1,transform:"translateX(-50%) translateY(130px) rotate(-90deg)",msTransform:"translateX(-50%) translateY(130px) rotate(-90deg)",mozTransform:"translateX(-50%) translateY(130px) rotate(-90deg)",OTransform:"translateX(-50%) translateY(130px) rotate(-90deg)",position:"absolute",left:"50%",top:"0%"},rootNotOperation:{width:36,padding:2,margin:2,background:`${f.J$}10`,borderColor:f.J$,borderWidth:2,borderStyle:"dotted"},disabledPadding:{padding:0,paddingBottom:2,flex:1},labelExcavator:{fontSize:21,borderRadius:8,borderStyle:"dotted",padding:4,margin:2,background:"#424141",color:"#fff"}}),qe=({operation:e})=>{const t=Ye(),i=e.excavatorList.length>0?e.excavatorList[0]:null;return(0,s.jsxs)(R.T5,Object.assign({container:!0,className:t.disabledPadding,alignItems:"center",justifyContent:e.id?"flex-start":"flex-end"},{children:[(0,s.jsx)(R.P4,Object.assign({item:!0},{children:(0,s.jsx)(d.Z,{secondary:(0,s.jsx)("strong",Object.assign({className:t.labelExcavator},{children:null==i?void 0:i.deviceAlias}),void 0)},void 0)}),void 0),!e.id&&(0,s.jsx)(De.rU,Object.assign({style:{textDecoration:"none"},to:`/operation/create/${i?i.deviceId:""}/${i?i.id:""}`},{children:(0,s.jsx)(n.ZP,Object.assign({title:`Assigment operation to ${i?i.deviceAlias:""}`},{children:(0,s.jsx)(a.Z,Object.assign({size:"small",color:"secondary"},{children:(0,s.jsx)(X.Z,{fontSize:"small"},void 0)}),void 0)}),void 0)}),void 0)]}),void 0)},Qe=({operation:e,loading:t,setLoading:i,setRefresh:r})=>{const l=Ye(),[d,g]=(0,T.useState)(!1),[h,p]=(0,T.useState)(!1),m=()=>{p((e=>!e))},j=(0,L.T)(),{state:x}=(0,L.C)(Fe.e5);(0,T.useEffect)((()=>{switch(x){case $e.m4.SAVING:i(!0);break;case $e.m4.ERROR:i(!1);break;case $e.m4.DONE:i(!1),p(!1)}}),[x]);const b=()=>g((e=>!e));return e.id?(0,s.jsxs)(c.Z,Object.assign({disableGutters:!0,className:l.disabledPadding},{children:[(0,s.jsx)(ce.a,Object.assign({open:d,handleClose:b,handleConfirm:()=>{return t=void 0,s=void 0,n=function*(){i(!0);const t=yield(0,Re.wg)(e.id);j(t?(0,ge.L8)({open:!0,msg:t,severity:"error"}):(0,ge.Ui)()),i(!1),r((e=>!e)),g(!1)},new((o=void 0)||(o=Promise))((function(e,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function r(e){try{l(n.throw(e))}catch(e){i(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(a,r)}l((n=n.apply(t,s||[])).next())}));var t,s,o,n},title:"Esta seguro?"},{children:(0,s.jsxs)(Le.Z,Object.assign({severity:"warning"},{children:["Esta intentando finalizar la operacion"," ",e.excavatorList[0].deviceAlias,", si ocurre algun error se le informará"]}),void 0)}),void 0),(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(qe,Object.assign({},{operation:e}),void 0),(0,s.jsxs)(o.Z,{children:[(0,s.jsx)(n.ZP,Object.assign({title:"Cambiar Carga/Descarga/Cambiones/Excavadora"},{children:(0,s.jsx)(a.Z,Object.assign({color:"secondary",size:"small",onClick:m},{children:(0,s.jsx)(B.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Finalizar Operación"},{children:(0,s.jsx)(a.Z,Object.assign({color:"secondary",onClick:b,size:"small"},{children:(0,s.jsx)(Y.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Detalle Operación"},{children:(0,s.jsx)(De.rU,Object.assign({target:"_blank",to:`/operation/detail/${e.excavatorList?e.excavatorList[0].deviceId:""}`},{children:(0,s.jsx)(a.Z,Object.assign({color:"secondary",size:"small"},{children:(0,s.jsx)(q.Z,{fontSize:"small"},void 0)}),void 0)}),void 0)}),void 0)]},void 0)]}),void 0),(0,s.jsxs)(o.Z,Object.assign({item:!0,md:12},{children:[(0,s.jsx)(Ae,{operation:e},void 0),(0,s.jsx)(Ie,{operation:e},void 0),e.truckList.length>0?(0,s.jsx)(u.Z,{size:"small",label:`${e.truckList.length} camiones`},void 0):(0,s.jsx)(s.Fragment,{},void 0)]}),void 0),(0,s.jsx)(o.Z,Object.assign({item:!0},{children:e.truckTemporalList&&e.truckTemporalList.length>0&&!t&&(0,s.jsx)(n.ZP,Object.assign({title:"Guardar cambios"},{children:(0,s.jsx)(v.Z,Object.assign({size:"small",variant:"outlined",color:"secondary",startIcon:(0,s.jsx)(Q.Z,{color:"secondary",fontSize:"small"},void 0),onClick:()=>{j((0,y.hK)({operationId:e.id})),Ce(e.id,e.truckTemporalList,i,r)}},{children:"GUARDAR"}),void 0)}),void 0)}),void 0),(0,s.jsx)(Be,{open:h,operation:e,setOpen:m},void 0)]}),void 0)]}),void 0):(0,s.jsx)(qe,Object.assign({},{operation:e}),void 0)},et=({operation:e,filterList:t})=>{const i=(0,T.useMemo)((()=>{var i;return null===(i=e.truckTemporalList)||void 0===i?void 0:i.map(((i,o)=>(0,s.jsx)(D,{operation:e,truck:i,temporal:!0,isFilter:t.some((e=>e.deviceId===i.deviceId))},o)))}),[e.truckTemporalList]);return(0,s.jsx)(s.Fragment,{children:i},void 0)},tt=({operation:e,filterList:t})=>{const[i,o]=(0,T.useState)(e.truckList);(0,T.useEffect)((()=>{o((t=>{if(e.truckList&&e.truckList.length!==i.length)return e.truckList;const s=i.some((t=>e.truckList.some((e=>e.deviceId==t.deviceId&&(t.sensor&&e.sensor?t.cycleNumber!==e.cycleNumber||t.state!==e.state||t.eventState!==e.eventState||t.sensor.latitude!=e.sensor.latitude:t.cycleNumber!==e.cycleNumber||t.state!==e.state||t.eventState!==e.eventState)))));return s?(console.log("changeFlagTruck",s,e.excavatorList[0].deviceAlias),e.truckList):t}))}),[e.truckList]);const n=(0,T.useMemo)((()=>e.truckList.map(((i,o)=>{var n;return(0,s.jsx)(D,{operation:e,isFilter:t.some((e=>e.deviceId===i.deviceId)),truck:i,temporalRemove:null===(n=e.truckTemporalRemoveList)||void 0===n?void 0:n.some((e=>e.deviceId===i.deviceId))},o)}))),[i,t]);return(0,s.jsx)(s.Fragment,{children:n},void 0)},it=({operation:e,setRefresh:t,filterList:i})=>{const[n,a]=(0,T.useState)(!1),[r,d]=(0,T.useState)(P.kM);(0,T.useEffect)((()=>{e&&e.truckList&&e.truckList.length>0?d((t=>r.deviceId!==e.excavatorList[0].deviceId?e.excavatorList[0]:t)):d(P.kM)}),[e]);const[{canDrop:c,isOver:u},v]=(0,l.L)((()=>({accept:b,drop:()=>({operation:e}),collect:t=>({isOver:t.isOver(),canDrop:!!e.id})})),[e]),j=Ye(),O=(0,T.useCallback)((()=>u&&c?j.rootListOver:u&&!c?j.rootNotDropList:j.rootList),[u,c]),f=(0,T.useMemo)((()=>(0,s.jsx)(s.Fragment,{children:r&&(0,s.jsx)(V,{truckList:[],operation:e},void 0)},void 0)),[r,e]),L=(0,T.useMemo)((()=>(0,s.jsxs)(o.Z,Object.assign({container:!0},{children:[(0,s.jsx)(tt,{operation:e,filterList:i},void 0),(0,s.jsx)(et,{operation:e,filterList:i},void 0)]}),void 0)),[e,i]);return c?(0,s.jsxs)(g.Z,Object.assign({ref:v,disablePadding:!0,component:h.Z,style:{display:"flex",flexDirection:"column"},className:O()},{children:[(0,s.jsxs)(R.P4,Object.assign({item:!0,style:{flex:1}},{children:[(0,s.jsx)(Qe,Object.assign({},{operation:e,setLoading:a,loading:n,setRefresh:t}),void 0),(0,s.jsx)(p.Z,{orientation:"horizontal"},void 0),(0,s.jsx)(x,{loading:n},void 0),(0,s.jsx)(m.Z,{height:4},void 0),L]}),void 0),(0,s.jsx)(R.P4,Object.assign({item:!0},{children:f}),void 0)]}),void 0):(0,s.jsx)(g.Z,Object.assign({disablePadding:!0,component:h.Z,className:j.rootNotOperation},{children:(0,s.jsx)("div",Object.assign({className:j.rootNotDropList},{children:(0,s.jsx)(Qe,Object.assign({},{operation:e,setLoading:a,loading:n,setRefresh:t}),void 0)}),void 0)}),void 0)};var st=i(43192),ot=i(57865);const nt=e=>{if(!e)return"";const t=ye.PW[e.type];switch(e.type){case 1:return e.pit&&e.pit.projectList&&e.pit.projectList.length>0&&e.pit.projectList[0].polygonList&&e.pit.projectList[0].polygonList.length>0?`${e.pit.projectList[0].name} - ${e.pit.projectList[0].polygonList[0].name}`:"";case 3:return e[t]&&e[t].cellList&&e[t].cellList.length>0?e[t].cellList[0].name:"";default:return""}},at=e=>{if(!e&&1!==e.type)return"";const t=ye.PW[e.type];return`${"dme"===t?"Desm.":"stock"===t?"STK":"Mine."} ${e[t]&&e[t].cellList&&e[t].cellList.length>0?e[t].cellList[0].name:""}`},rt=()=>(0,s.jsx)(o.Z,Object.assign({container:!0,justifyContent:"center",alignItems:"center"},{children:(0,s.jsx)(o.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{children:"No data found"},void 0)}),void 0)}),void 0);var lt=i(58365);const dt=({height:e,width:t})=>(0,s.jsx)(o.Z,Object.assign({container:!0,justifyContent:"center",alignItems:"center"},{children:(0,s.jsx)(lt.Z,{height:e,width:t,variant:"rect"},void 0)}),void 0);var ct=i(14741),ut=i(17215),vt=i(59693);const gt=(0,pe.Z)((e=>({search:{position:"relative",marginRight:2,borderRadius:e.shape.borderRadius,backgroundColor:(0,vt.Fq)(e.palette.common.white,.15),"&:hover":{backgroundColor:(0,vt.Fq)(e.palette.common.white,.25)},marginLeft:0,width:"100%",[e.breakpoints.up("sm")]:{width:"auto"}},searchIcon:{padding:e.spacing(0,0),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},cancelIcon:{padding:e.spacing(0,0),height:"100%",alignItems:"center",justifyContent:"center",display:"flex"},inputRoot:{color:"inherit"},inputInput:{padding:e.spacing(1,1,1,0),paddingLeft:`calc(1em + ${e.spacing(1)}px)`,paddingRight:`calc(1em + ${e.spacing(1)}px)`,transition:e.transitions.create("width"),width:"100%",[e.breakpoints.up("sm")]:{width:"40ch","&:focus":{width:"50ch"}}}}))),ht=({search:e,setSearch:t})=>{const i=gt(),a=(0,T.useRef)();(0,T.useEffect)((()=>{document.onkeydown=r}),[]);const r=(0,T.useCallback)((e=>{"Escape"===e.key&&(d(),setTimeout((()=>{var e;console.log("Escape",a.current),null===(e=a.current)||void 0===e||e.focus()}),300))}),[]),l=(0,T.useCallback)((e=>{t(e.target.value)}),[]),d=(0,T.useCallback)((()=>{t("")}),[]);return(0,s.jsx)(h.Z,Object.assign({style:{marginTop:2,marginRight:2}},{children:(0,s.jsx)(o.Z,Object.assign({container:!0,alignItems:"center"},{children:(0,s.jsxs)("div",Object.assign({className:i.search},{children:[(0,s.jsx)("div",Object.assign({className:i.searchIcon},{children:(0,s.jsx)(ut.Z,{color:"primary",fontSize:"small"},void 0)}),void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Buscar Camiones: Device Alias"},{children:(0,s.jsx)(ct.Z,{color:"primary",value:e,autoFocus:!0,inputRef:a,onKeyDown:r,onChange:l,placeholder:"Buscar...",classes:{root:i.inputRoot,input:i.inputInput},inputProps:{"aria-label":"search"}},void 0)}),void 0)]}),void 0)}),void 0)}),void 0)};var pt=i(49032),mt=i(31125),jt=i(73099);const xt=(0,pe.Z)({root:{padding:2},rootList:{marginBottom:4},ListItem:{padding:0,margin:0},itemHeaderList:{flex:1,paddingLeft:2},textHeaderList:{margin:0},iconTextList:{padding:0,margin:0},chipText:{height:12,color:"#fff",fontWeight:"bold"}}),bt=({items:e,filterList:t,title:i,useVisibleList:o,keyState:n})=>{const a=xt(),[r,l]=o,v=(0,T.useMemo)((()=>e.map((e=>(0,s.jsx)(D,{disabledDrag:n!==pt.EnumEvent.OPERATIONAL,truck:e,isFilter:t.some((t=>t.deviceId===e.deviceId))},e.deviceId)))),[e,t]),p=(0,T.useCallback)((()=>{const e=r.find((e=>e.value===n));return e&&e.visible}),[r]),m=(0,T.useCallback)((()=>{const e=r.findIndex((e=>e.value===n));if(e>-1){const t=JSON.parse(JSON.stringify(r));t[e].visible=!t[e].visible,l(t)}}),[r]),j=p();return console.log("rerenderrr"),(0,s.jsxs)(g.Z,Object.assign({component:h.Z,disablePadding:!0,className:a.rootList},{children:[(0,s.jsx)(c.Z,Object.assign({button:!0,disableGutters:!0,className:a.ListItem,onClick:m},{children:(0,s.jsxs)(R.T5,Object.assign({container:!0,justifyContent:"space-between",alignItems:"center"},{children:[(0,s.jsxs)(R.P4,Object.assign({className:a.itemHeaderList,container:!0,direction:"column",justifyContent:"center",alignContent:"flex-start"},{children:[(0,s.jsx)(d.Z,{className:a.textHeaderList,secondary:i},void 0),(0,s.jsx)(u.Z,{size:"small",className:a.chipText,color:"primary",label:`(${e.length}) trucks`},void 0)]}),void 0),e.length?(0,s.jsx)(R.hU,Object.assign({size:"small",className:a.iconTextList},{children:j?(0,s.jsx)(mt.Z,{fontSize:"small"},void 0):(0,s.jsx)(jt.Z,{fontSize:"small"},void 0)}),void 0):(0,s.jsx)(s.Fragment,{},void 0)]}),void 0)}),void 0),(0,s.jsx)(R.iz,{orientation:"horizontal"},void 0),(0,s.jsx)(R.Mi,Object.assign({direction:"left",in:j,mountOnEnter:!0,unmountOnExit:!0},{children:(0,s.jsx)(R.T5,Object.assign({container:!0,justifyContent:"center"},{children:v}),void 0)}),void 0)]}),void 0)},Ot=({truckAvailable:e,filterList:t})=>{const[i,o]=(0,T.useState)([]),[n,a]=(0,T.useState)([]),[r,l]=(0,T.useState)([]),[d,c]=(0,T.useState)([]),u=xt(),v=(0,U._)("VISIBLE_STATES_TABS",Object.keys(pt.EnumEvent).map(((e,t)=>({value:pt.EnumEvent[e],label:e,visible:!1}))));(0,T.useEffect)((()=>{o((t=>{const i=e.filter((e=>e.state===pt.EnumEvent.UNKNOWN_STATE_EVENT&&e.eventState&&e.eventState.event.event===pt.EnumEvent.UNKNOWN_STATE_EVENT||e.eventState&&e.eventState.event.event===pt.EnumEvent.OPERATIONAL));return t.length===i.length?(console.log("REEENDER",JSON.stringify(t.map((e=>e.deviceId)))===JSON.stringify(i.map((e=>e.deviceId)))),JSON.stringify(t.map((e=>e.deviceId)))===JSON.stringify(i.map((e=>e.deviceId)))?t:i):i})),a((t=>{const i=e.filter((e=>e.eventState&&e.eventState.event.event===pt.EnumEvent.MAINTENANCE));return t.length===i.length&&JSON.stringify(t)===JSON.stringify(i)?t:i})),l((t=>{const i=e.filter((e=>e.eventState&&e.eventState.event.event===pt.EnumEvent.OPERATIONAL_DELAY));return t.length===i.length&&JSON.stringify(t)===JSON.stringify(i)?t:i})),c((t=>{const i=e.filter((e=>e.eventState&&e.eventState.event.event===pt.EnumEvent.NO_OPERATIONAL));return t.length===i.length&&JSON.stringify(t)===JSON.stringify(i)?t:i}))}),[e]),console.log("filterList",t);const g=(0,T.useMemo)((()=>(console.log("availableListavailableListavailableList",t),(0,s.jsx)(R.T5,Object.assign({className:u.root},{children:(0,s.jsx)(bt,{items:i,filterList:t,title:"Disponibles",useVisibleList:v,keyState:pt.EnumEvent.OPERATIONAL},void 0)}),void 0))),[i,t,v]),h=(0,T.useMemo)((()=>(0,s.jsx)(R.T5,Object.assign({className:u.root},{children:(0,s.jsx)(bt,{items:n,filterList:t,title:"MANTO",useVisibleList:v,keyState:pt.EnumEvent.OPERATIONAL},void 0)}),void 0)),[n,t,v]),p=(0,T.useMemo)((()=>(0,s.jsx)(R.T5,Object.assign({className:u.root},{children:(0,s.jsx)(bt,{items:r,filterList:t,title:"DOPERATIVO",useVisibleList:v,keyState:pt.EnumEvent.OPERATIONAL},void 0)}),void 0)),[r,t,v]),m=(0,T.useMemo)((()=>(0,s.jsx)(R.T5,Object.assign({className:u.root},{children:(0,s.jsx)(bt,{items:d,filterList:t,title:"NOPERATIVO",useVisibleList:v,keyState:pt.EnumEvent.OPERATIONAL},void 0)}),void 0)),[d,t,v]);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(R.T5,Object.assign({className:u.root},{children:[g,h,p,m]}),void 0)},void 0)},ft="92vh",Lt=(0,pe.Z)((e=>({rootOperation:{display:"block",position:"relative",flexGrow:1,height:"96vh",margin:e.spacing(1,1,1,1)},rootAbsolute:{position:"absolute",top:0,bottom:0,right:0,left:0},operation:{overflow:"overlay",flex:11},containerOperation:{width:"100%",display:"flex",maxHeight:ft,minHeight:ft,alignContent:"center",justifyContent:"flex-start"},containerTrucks:{width:"100%",maxHeight:ft,minHeight:ft,margin:2,padding:2},rootTruck:{overflow:"auto",maxHeight:ft},rootIconResize:{height:ft,display:"flex",position:"relative",width:16,backgroundColor:f.Jx,paddingRight:7,paddingLeft:7,backgroundClip:"content-box",cursor:"col-resize"},rootLabel:{width:8,height:8,background:"green",borderRadius:4,padding:0,margin:0}})));var yt,Ct,kt;const St=()=>{const{operationsAll:e,status:t,truckAvailable:i}=(()=>{const{operationList:e,status:t,truckAvailable:i}=(0,L.C)(y.YL),{truckInfoList:s}=(0,L.C)(ve.ej),{initial:o}=(0,L.C)(he.kW),n=(0,L.T)(),[a,r]=(0,T.useState)([]);return(0,T.useEffect)((()=>{if(console.log("status === FETCH_ENUM.DONE initialExcavator",o,W.Vj.LOADING),t===$.JD.DONE&&o!==W.Vj.LOADING){const t=e.map((e=>{var t,i,s;return Object.assign(Object.assign({},e),{excavator:e.excavatorList.length>0?e.excavatorList[0]:{},typeUpload:ye.WW[null===(t=e.upload)||void 0===t?void 0:t.type],labelUpload:`${ye.WW[null===(i=e.upload)||void 0===i?void 0:i.type]} ${e.upload?nt(e.upload):""}`,labelDownload:e.download?`${at(e.download)}`:"",typeDownload:ye.WW[null===(s=e.download)||void 0===s?void 0:s.type],labelstate:ye.J8[e.state],cycles:e.cycleList.length,truckList:e.truckList.map((e=>{var t;return Object.assign(Object.assign({},e),{deviceAliasNumber:Number(null===(t=e.deviceAlias.match(/\d/g))||void 0===t?void 0:t.join(""))})})).sort(((e,t)=>e.deviceAliasNumber-t.deviceAliasNumber))})}));r(t)}else r([])}),[e]),(0,T.useEffect)((()=>{e.length>0&&s.length>0&&n((0,y.Vb)({truckList:s}))}),[s,t]),{operationsAll:a,status:t,truckAvailable:i}})(),{truckInfoList:r}=(0,L.C)(ve.ej),l=(0,T.useRef)(),d=(0,T.useRef)(),c=(0,T.useRef)(),[u,v]=(0,T.useState)(!1),[g,h]=(0,T.useState)(!1),[p,m]=(0,T.useState)(!1),[j,x]=(0,T.useState)(""),[b,O]=(0,T.useState)([]);(({search:e,setSearch:t,items:i,setFilterList:s})=>{const[]=(0,T.useState)([]);(0,T.useEffect)((()=>{if(console.log("LiminadodsReducer",e),!e||0===i.length)return s((e=>0===e.length?e:[])),void console.log("Liminadods",i.length,e);const t=i.filter((t=>{var i;return null===(i=t.deviceAlias)||void 0===i?void 0:i.toUpperCase().includes(e.toUpperCase())}));s((e=>JSON.stringify(e.map((e=>e.deviceId)))===JSON.stringify(t.map((e=>e.deviceId)))?(console.log("LiminadodPrev",e),e):(console.log("LiminadodChange",t),t)))}),[e,i])})({search:j,setSearch:x,items:r,setFilterList:O});const C=(0,L.T)(),k=Lt();(0,T.useEffect)((()=>{}),[]),(0,T.useEffect)((()=>{yt=document.querySelector("#wrapper"),Ct=null==yt?void 0:yt.querySelector("#listTruck"),kt=null==yt?void 0:yt.querySelector("#listOperation");const e=localStorage.getItem("localStorajeTruck"),t=localStorage.getItem("localStorajeOperation");e&&(Ct.style.flex=Number(e)),t&&(kt.style.flex=Number(t))}),[]),(0,T.useEffect)((()=>{C((0,ve.RK)()),C((0,y.hS)())}),[p]);const S=(0,T.useMemo)((()=>e.map(((e,t)=>(0,s.jsx)(it,{operation:e,setRefresh:m,filterList:b},t)))),[e,b]),{state:E}=(0,L.C)(Fe.e5);(0,T.useEffect)((()=>{E===$e.m4.DONE&&m((e=>!e))}),[E]);const N=()=>h((e=>!e)),Z=(0,T.useCallback)((e=>{var t;if(!(u&&yt&&Ct&&kt))return;const i=12*(e.clientX-yt.offsetLeft-46)/(null===(t=l.current)||void 0===t?void 0:t.clientWidth),s=Number(d.current.style.flex)>0?d.current.style.flex:0,o=Math.abs(s-i)>.05?Math.max(i,1):s;Ct.style.flex=o,kt.style.flex=12-o,localStorage.setItem("localStorajeTruck",`${o}`),localStorage.setItem("localStorajeOperation",""+(12-o))}),[u]),A=(0,T.useMemo)((()=>(0,s.jsx)(o.Z,Object.assign({item:!0,id:"listTruck",style:{margin:0,padding:0,flex:1},className:k.rootTruck,innerRef:d},{children:(0,s.jsx)(Ot,{truckAvailable:i,filterList:b},void 0)}),void 0)),[i,b]),I=(0,T.useMemo)((()=>(0,s.jsxs)(o.Z,Object.assign({container:!0,justifyContent:"flex-end",alignItems:"center"},{children:[(0,s.jsx)(n.ZP,Object.assign({title:"Nueva Operación"},{children:(0,s.jsx)(De.rU,Object.assign({to:"/operation/create/0/0"},{children:(0,s.jsx)(a.Z,Object.assign({color:"secondary",size:"small"},{children:(0,s.jsx)(X.Z,{fontSize:"small"},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(n.ZP,Object.assign({title:"Reasignación global de Camiones"},{children:(0,s.jsx)(a.Z,Object.assign({onClick:N,color:"secondary",size:"small"},{children:(0,s.jsx)(B.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,s.jsx)(ht,{search:j,setSearch:x},void 0)]}),void 0)),[j]);return(0,s.jsx)(st.W,Object.assign({backend:ot.PD},{children:(0,s.jsxs)("div",Object.assign({className:k.rootOperation},{children:[(0,s.jsxs)("div",Object.assign({className:k.rootAbsolute},{children:[(0,s.jsx)(o.Z,Object.assign({item:!0,innerRef:d},{children:I}),void 0),(0,s.jsxs)(o.Z,Object.assign({container:!0,innerRef:l,id:"wrapper",onMouseUp:()=>v(!1),onMouseMove:Z,onMouseDown:e=>{e.target===c.current&&v(!0)}},{children:[A,(0,s.jsx)(R.P4,{className:k.rootIconResize,id:"handler",innerRef:c},void 0),(0,s.jsx)(o.Z,Object.assign({item:!0,className:k.operation,id:"listOperation"},{children:(0,s.jsx)(o.Z,Object.assign({container:!0,direction:"column"},{children:(0,s.jsxs)(o.Z,Object.assign({item:!0},{children:[(0,s.jsx)("div",Object.assign({className:k.containerOperation},{children:t!==$.JD.DONE?(0,s.jsx)(o.Z,Object.assign({container:!0,alignItems:"stretch",justifyContent:"center"},{children:(0,s.jsx)(dt,{height:"100%",width:"100%"},void 0)}),void 0):e.length>0?S:(0,s.jsx)(rt,{},void 0)}),void 0),(0,s.jsxs)(R.T5,Object.assign({container:!0,direction:"row",style:{gap:8}},{children:[(0,s.jsx)(R.P4,{children:(0,s.jsxs)(R.T5,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)("p",{className:k.rootLabel},void 0),(0,s.jsx)("p",Object.assign({style:{padding:0,margin:0}},{children:"Asignados"}),void 0)]}),void 0)},void 0),(0,s.jsx)(R.P4,{children:(0,s.jsxs)(R.T5,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)("p",{style:{background:f.J$},className:k.rootLabel},void 0),(0,s.jsx)("p",Object.assign({style:{padding:0,margin:0}},{children:"No asignados"}),void 0)]}),void 0)},void 0),(0,s.jsx)(R.P4,{children:(0,s.jsxs)(R.T5,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)("p",{style:{background:f.sb},className:k.rootLabel},void 0),(0,s.jsx)("p",Object.assign({style:{padding:0,margin:0}},{children:"Excavadora"}),void 0)]}),void 0)},void 0),(0,s.jsx)(R.P4,{children:(0,s.jsxs)(R.T5,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,s.jsx)("p",{style:{borderColor:f.J$,background:"#00000000",borderStyle:"solid",borderWidth:2},className:k.rootLabel},void 0),(0,s.jsxs)("p",Object.assign({style:{padding:0,margin:0}},{children:["Área de carguío (",J.Xb,"mts)"]}),void 0)]}),void 0)},void 0)]}),void 0)]}),void 0)}),void 0)}),void 0)]}),void 0)]}),void 0),(0,s.jsx)(ke,{open:g,setOpen:h,setRefresh:m,operations:e},void 0)]}),void 0)}),void 0)};function Et(){return(0,s.jsx)(St,{},void 0)}}}]);