(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[362],{5158:(e,t,s)=>{e.exports=s.p+"fcc811ae2297d46be106267335e25c28.svg"},6361:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>N});var i=s(5893),o=s(1120),a=s(7623),n=s(1749),c=s(46),r=s(7294),d=s(8463),l=s(4697),h=s(3901),m=s(9912);const g=({title:e,icon:t,subheader:s,children:o})=>(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(l.Z,{style:{color:"#0069AA"},avatar:(0,i.jsx)(h.Z,{variant:"square",src:t},void 0),title:e,subheader:s},void 0),(0,i.jsx)(m.Z,{children:o},void 0)]},void 0);var u=s(7229),v=s(3855),j=s(4430),p=s(7785);const x=()=>{const{status:e,excavatorName:t,dtpad:s,dtdme:o}=(()=>{const{truckReportList:e,status:t}=(0,v.C)(j.Gn),{excavatorCycleList:s}=e,[i,o]=(0,r.useState)([]),[a,n]=(0,r.useState)([]),[c,d]=(0,r.useState)([]);return(0,r.useEffect)((()=>{o([]),n([]),d([]),null==s||s.forEach((e=>{o((t=>t.concat(e.excavator.deviceAlias))),n((t=>t.concat(e.lenPad))),d((t=>t.concat(e.lenDme)))}))}),[e]),{status:t,excavatorName:i,dtpad:a,dtdme:c}})(),{reportPerformancePerHour:a}=(0,v.C)(p.hF),[n,c]=(0,r.useState)([]),[d,l]=(0,r.useState)([]),[h,m]=(0,r.useState)([]),[g,x]=(0,r.useState)([]),[y,b]=(0,r.useState)([]);(0,r.useEffect)((()=>{const e=(new Date).getHours();e>=7&&e<19?(c(a.day.hourList),l(a.day.padList),m(a.day.stockList),x(a.day.dmeList),b(a.day.lenTruckList)):(c(a.night.hourList),l(a.night.padList),m(a.night.stockList),x(a.night.dmeList),b(a.night.lenTruckList))}),[a]);const{options:C,series:O}=(e=>{const{categorie:t,pad:s,stock:i,dme:o,trucks:a,op:n}=e,{id:c,padName:r,stockName:d,dmeName:l,trucksName:h}=n,m={series:[{name:r,type:"column",data:s},{name:d,type:"column",data:i},{name:l,type:"column",data:o},{name:h,type:"line",data:a}],options:{colors:["#FF0808","#F1C012","#069B15","#191970"],dataLabels:{enabled:!0},chart:{id:"bar-"+c,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},labels:t,xaxis:{title:{text:"Horas"}},yaxis:[{title:{text:"Toneladas"}}],noData:{text:"No hay datos",style:{color:"#0B4B88",fontSize:"24px"}}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}},{options:g,series:u}=m;return{options:g,series:u}})({categorie:n,pad:d,stock:h,dme:g,trucks:y,op:{id:"Toneladas",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE",trucksName:"CAMIONES"}});return(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{options:C,series:O,type:"line",height:"413"},void 0)},void 0)},y=()=>{const{reportPerformancePerHour:e}=(0,v.C)(p.hF),[t,s]=(0,r.useState)([]),[o,a]=(0,r.useState)([]);(0,r.useEffect)((()=>{const t=(new Date).getHours();t>=7&&t<19?(s(e.day.hourList),a(e.day.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList}))))):(s(e.night.hourList),a(e.night.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList})))))}),[e]);const n=(e=>{const{categorie:t,op:s,seriesEx:i}=e,{id:o}=s,a={series:i,options:{chart:{id:"bar-"+o,height:350},plotOptions:{bar:{horizontal:!1,endingShape:"rounded"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:t},fill:{opacity:1}}},{options:n,series:c}=a;return{options:n,series:c}})({categorie:t,seriesEx:o,op:{id:"excavator"}});return(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{options:n.options,series:n.series,type:"bar",height:"413"},void 0)},void 0)},b=()=>{const{reportPerformancePerHour:e}=(0,v.C)(p.hF),{tonnePerTruck:t}=e.day,s=(e=>{const{pad:t,stock:s,dme:i,goalPad:o,goalStock:a,goalDme:n,op:c}=e,{id:r,padName:d,stockName:l,dmeName:h}=c,m={series:[{name:"Actual",data:[{x:d,y:t,goals:[{name:l,value:o,strokeWidth:5,strokeColor:"#008000"}]},{x:l,y:s,goals:[{name:"META",value:a,strokeWidth:5,strokeColor:"#008000"}]},{x:h,y:i,goals:[{name:"META",value:n,strokeWidth:5,strokeColor:"#008000"}]}]}],options:{chart:{id:"bar-"+r,height:350},plotOptions:{bar:{columnWidth:"60%",horizontal:!0}},colors:["#000"],dataLabels:{enabled:!0,formatter:function(e,t){const s=t.w.config.series[t.seriesIndex].data[t.dataPointIndex].goals;return s&&s.length?`${e} / ${s[0].value}`:e}},legend:{show:!0,showForSingleSeries:!0,customLegendItems:["PRODUCCION","META"],markers:{fillColors:["#000","#008000"]}}}},{options:g,series:u}=m;return{options:g,series:u}})({pad:e.day.lenCyclePad*t+e.night.lenCyclePad*t,stock:e.day.lenCycleStock*t+e.night.lenCycleStock*t,dme:e.day.lenCycleDme*t+e.night.lenCycleDme*t,goalPad:0,goalStock:0,goalDme:543,op:{id:"producction",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE"}});return(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{options:s.options,series:s.series,type:"bar",height:"282"},void 0)},void 0)};var C=s(2318);const O=({shift:e,lenCycleDme:t,lenCyclePad:s,lenCycleStock:o,label:a})=>{const[c,l]=(0,r.useState)("");return(0,r.useEffect)((()=>{}),[]),(0,i.jsx)(d.Z,Object.assign({style:{flex:"auto",background:c}},{children:(0,i.jsxs)(n.Z,Object.assign({container:!0,direction:"column",alignItems:"center"},{children:[(0,i.jsx)(n.Z,Object.assign({item:!0},{children:(0,i.jsx)(C.Z,Object.assign({style:{color:"#0069AA"},gutterBottom:!0,variant:"h6",component:"h2"},{children:a}),void 0)}),void 0),(0,i.jsxs)(n.Z,Object.assign({container:!0,item:!0,spacing:2,justifyContent:"space-around"},{children:[(0,i.jsxs)(n.Z,Object.assign({item:!0},{children:[(0,i.jsx)(C.Z,Object.assign({style:{color:"#069B15"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Desmonte"}),void 0),(0,i.jsx)(C.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:t}),void 0)]}),void 0),(0,i.jsxs)(n.Z,Object.assign({item:!0},{children:[(0,i.jsx)(C.Z,Object.assign({style:{color:"#F1C012"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Stock"}),void 0),(0,i.jsx)(C.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:o}),void 0)]}),void 0),(0,i.jsxs)(n.Z,Object.assign({item:!0},{children:[(0,i.jsx)(C.Z,Object.assign({style:{color:"#FF0808"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Mineral"}),void 0),(0,i.jsx)(C.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:s}),void 0)]}),void 0)]}),void 0)]}),void 0)}),void 0)},k=s(6593),f=s(5158),Z=((0,o.Z)((e=>(0,a.Z)({formControl:{margin:e.spacing(1),minWidth:120},fontFa:{fontFamily:"sans-serif",fontWeight:400}}))),()=>{const e=(0,v.T)(),t=new Date,s=(new Date).getHours(),{reportPerformancePerHour:o}=(0,v.C)(p.hF),[a,d]=(0,r.useState)(0),{lenCycleDme:l,lenCyclePad:h,lenCycleStock:m,tonnePerTruck:u}=o.day,j=`${t.getFullYear()}-${`0${t.getMonth()+1}`.substr(-2)}-${t.getDate()}`;return(0,r.useEffect)((()=>{const t={dateStart:`${j}T00:00`,dateEnd:`${j}T00:00`};e((0,p.D2)(t)),d(s>=7&&s<19?2:1)}),[]),(0,i.jsx)(r.Fragment,{children:(0,i.jsxs)(n.Z,Object.assign({container:!0,direction:"row"},{children:[(0,i.jsx)(n.Z,Object.assign({item:!0,lg:6},{children:(0,i.jsx)(c.Z,Object.assign({p:3},{children:(0,i.jsx)(g,Object.assign({title:"TONELAJE POR HORA (Tn/Hr)",icon:f},{children:(0,i.jsx)(x,{},void 0)}),void 0)}),void 0)}),void 0),(0,i.jsx)(n.Z,Object.assign({item:!0,lg:6},{children:(0,i.jsx)(c.Z,Object.assign({p:3},{children:(0,i.jsxs)(n.Z,Object.assign({container:!0,spacing:2},{children:[(0,i.jsxs)(n.Z,Object.assign({item:!0,container:!0,spacing:2,justifyContent:"space-between"},{children:[(0,i.jsx)(n.Z,Object.assign({item:!0,lg:6},{children:(0,i.jsx)(O,{shift:a,label:"DIA",lenCycleDme:l*u,lenCyclePad:h*u,lenCycleStock:m*u},void 0)}),void 0),(0,i.jsx)(n.Z,Object.assign({item:!0,lg:6},{children:(0,i.jsx)(O,{shift:a,label:"NOCHE",lenCycleDme:o.night.lenCycleDme*u,lenCyclePad:o.night.lenCyclePad*u,lenCycleStock:o.night.lenCycleStock*u},void 0)}),void 0)]}),void 0),(0,i.jsx)(n.Z,Object.assign({item:!0,lg:12},{children:(0,i.jsx)(g,Object.assign({title:"PRODUCCIÃ“N TOTAL POR DIA",icon:""},{children:(0,i.jsx)(b,{},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}),void 0),(0,i.jsx)(n.Z,Object.assign({item:!0,lg:12},{children:(0,i.jsx)(c.Z,Object.assign({p:3},{children:(0,i.jsx)(g,Object.assign({title:"RENDIMIENTO POR EXCAVADORA (Tn/Hr)",icon:k},{children:(0,i.jsx)(y,{},void 0)}),void 0)}),void 0)}),void 0)]}),void 0)},void 0)});var S=s(8850);function N(){return(0,i.jsxs)("div",{children:[(0,i.jsx)(S.h,{title:"Dashboard"},void 0),(0,i.jsx)(Z,{},void 0)]},void 0)}},8850:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var i=s(5893),o=s(5258),a=s(8358),n=s(282),c=s(2318),r=s(3471),d=s(5977);const l=({title:e})=>{const t=(0,d.k6)();return(0,i.jsx)(o.Z,Object.assign({position:"sticky",color:"secondary"},{children:(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(n.Z,{size:"small",startIcon:(0,i.jsx)(r.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{t.goBack()}},void 0),(0,i.jsx)(c.Z,Object.assign({variant:"h6"},{children:e}),void 0)]},void 0)}),void 0)}}}]);