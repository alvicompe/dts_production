(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[362],{5158:(e,t,s)=>{e.exports=s.p+"fcc811ae2297d46be106267335e25c28.svg"},7277:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>Z});var a=s(5893),i=s(1749),o=s(46),n=s(7294),r=s(8463),c=s(4697),d=s(3901),l=s(9912);const h=({title:e,icon:t,subheader:s,children:i})=>(0,a.jsxs)(r.Z,{children:[(0,a.jsx)(c.Z,{style:{color:"#0069AA"},avatar:(0,a.jsx)(d.Z,{variant:"square",src:t},void 0),title:e,subheader:s},void 0),(0,a.jsx)(l.Z,{children:i},void 0)]},void 0);var g=s(7229),m=s(3855),u=s(7785);const j=()=>{const{reportPerformancePerHour:e}=(0,m.C)(u.hF),[t,s]=(0,n.useState)([]),[i,o]=(0,n.useState)([]),[r,c]=(0,n.useState)([]),[d,l]=(0,n.useState)([]),[h,j]=(0,n.useState)([]);(0,n.useEffect)((()=>{const t=(new Date).getHours();t>=7&&t<19?(s(e.day.hourList),o(e.day.padList),c(e.day.stockList),l(e.day.dmeList),j(e.day.lenTruckList)):(s(e.night.hourList),o(e.night.padList),c(e.night.stockList),l(e.night.dmeList),j(e.night.lenTruckList))}),[e]);const v=(e=>{const{categorie:t,pad:s,stock:a,dme:i,trucks:o,op:n}=e,{id:r,padName:c,stockName:d,dmeName:l,trucksName:h}=n;return{stateChart:{series:[{name:c,type:"column",data:s},{name:d,type:"column",data:a},{name:l,type:"column",data:i},{name:h,type:"line",data:o}],options:{colors:["#FF0808","#F1C012","#069B15","#191970"],dataLabels:{enabled:!0},chart:{id:"bar-"+r,stacked:!0,toolbar:{show:!0},zoom:{enabled:!0}},labels:t,xaxis:{title:{text:"Horas"}},yaxis:[{title:{text:"Toneladas"}}],legend:{position:"top",offsetY:10}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}})({categorie:t,pad:i,stock:r,dme:d,trucks:h,op:{id:"Toneladas",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE",trucksName:"CAMIONES"}});return(0,a.jsx)("div",{children:(0,a.jsx)(g.Z,{options:v.stateChart.options,series:v.stateChart.series,type:"line",height:"413"},void 0)},void 0)},v=()=>{const{reportPerformancePerHour:e}=(0,m.C)(u.hF),[t,s]=(0,n.useState)([]),[i,o]=(0,n.useState)([]);(0,n.useEffect)((()=>{const t=(new Date).getHours();t>=7&&t<19?(s(e.day.hourList),o(e.day.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList}))))):(s(e.night.hourList),o(e.night.excavatorValueCycleList.map((e=>({name:e.deviceAlias,data:e.valueList})))))}),[e]);const r=(e=>{const{categorie:t,op:s,seriesEx:a}=e,{id:i}=s;return{stateChart:{series:a,options:{colors:["#34707F","#B27A00","#1BD2FF","#FFAF00","#00667F","#EE9721","#68E1FF","#754B10","#53B4CC","#FFA700","#003F63","#F2B138"],chart:{id:"bar-"+i,height:350},plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:t,title:{text:"Horas"}},yaxis:[{title:{text:"Toneladas"}}],tooltip:{shared:!1,y:{formatter:function(e){return e+" Toneladas"}}},fill:{opacity:1},legend:{position:"top",offsetY:10}},animations:{enabled:!0,easing:"easeinout",speed:800,animateGradually:{enabled:!0,delay:150},dynamicAnimation:{enabled:!0,speed:350}}}}})({categorie:t,seriesEx:i,op:{id:"excavator"}});return(0,a.jsx)("div",{children:(0,a.jsx)(g.Z,{options:r.stateChart.options,series:r.stateChart.series,type:"bar",height:"413"},void 0)},void 0)},p=()=>{const{reportPerformancePerHour:e}=(0,m.C)(u.hF),{tonnePerTruck:t}=e.day,s=(e=>{const{pad:t,stock:s,dme:a,goalPad:i,goalStock:o,goalDme:n,op:r}=e,{id:c,padName:d,stockName:l,dmeName:h}=r;return{stateChart:{series:[{name:"Actual",data:[{x:d,y:t,goals:[{name:l,value:i,strokeWidth:5,strokeColor:"#008000"}]},{x:l,y:s,goals:[{name:"META",value:o,strokeWidth:5,strokeColor:"#008000"}]},{x:h,y:a,goals:[{name:"META",value:n,strokeWidth:5,strokeColor:"#008000"}]}]}],options:{chart:{id:"bar-"+c,height:350},plotOptions:{bar:{columnWidth:"60%",horizontal:!0}},colors:["#000"],dataLabels:{enabled:!0,formatter:function(e,t){const s=t.w.config.series[t.seriesIndex].data[t.dataPointIndex].goals;return s&&s.length?`${e} / ${s[0].value}`:e}},legend:{show:!0,showForSingleSeries:!0,customLegendItems:["PRODUCCION","META"],markers:{fillColors:["#000","#008000"]}}}}}})({pad:e.day.lenCyclePad*t+e.night.lenCyclePad*t,stock:e.day.lenCycleStock*t+e.night.lenCycleStock*t,dme:e.day.lenCycleDme*t+e.night.lenCycleDme*t,goalPad:0,goalStock:0,goalDme:0,op:{id:"producction",padName:"MINERAL",stockName:"STOCK",dmeName:"DESMONTE"}});return(0,a.jsx)("div",{children:(0,a.jsx)(g.Z,{options:s.stateChart.options,series:s.stateChart.series,type:"bar",height:"282"},void 0)},void 0)};var x=s(2318);const y=({shift:e,lenCycleDme:t,lenCyclePad:s,lenCycleStock:o,label:c})=>{const[d,l]=(0,n.useState)(""),[h,g]=(0,n.useState)(0),m=(new Date).getHours();return(0,n.useEffect)((()=>{2!=e&&m>=7&&m<19&&l("rgb(75 75 75 / 20%)"),1!=e&&m>=18&&l("rgb(75 75 75 / 20%)"),2===e&&m>=7&&m<19&&g(5),1===e&&m>=18&&g(5)}),[]),(0,a.jsx)(r.Z,Object.assign({style:{flex:"auto",background:d},elevation:h},{children:(0,a.jsxs)(i.Z,Object.assign({container:!0,direction:"column",alignItems:"center"},{children:[(0,a.jsx)(i.Z,Object.assign({item:!0},{children:(0,a.jsx)(x.Z,Object.assign({style:{color:"#0069AA"},gutterBottom:!0,variant:"h6",component:"h2"},{children:c}),void 0)}),void 0),(0,a.jsxs)(i.Z,Object.assign({container:!0,item:!0,spacing:2,justifyContent:"space-around"},{children:[(0,a.jsxs)(i.Z,Object.assign({item:!0},{children:[(0,a.jsx)(x.Z,Object.assign({style:{color:"#069B15"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Desmonte"}),void 0),(0,a.jsx)(x.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:t}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({item:!0},{children:[(0,a.jsx)(x.Z,Object.assign({style:{color:"#F1C012"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Stock"}),void 0),(0,a.jsx)(x.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:o}),void 0)]}),void 0),(0,a.jsxs)(i.Z,Object.assign({item:!0},{children:[(0,a.jsx)(x.Z,Object.assign({style:{color:"#FF0808"},gutterBottom:!0,variant:"h6",component:"h2"},{children:"Mineral"}),void 0),(0,a.jsx)(x.Z,Object.assign({gutterBottom:!0,variant:"h6",component:"h2"},{children:s}),void 0)]}),void 0)]}),void 0)]}),void 0)}),void 0)},b=s(6593),C=s(5158),O=()=>{const e=(0,m.T)(),t=new Date,s=(new Date).getHours(),{reportPerformancePerHour:r}=(0,m.C)(u.hF),[c,d]=(0,n.useState)(0),{lenCycleDme:l,lenCyclePad:g,lenCycleStock:x,tonnePerTruck:O}=r.day,k=`${t.getFullYear()}-${`0${t.getMonth()+1}`.substr(-2)}-${t.getDate()}`;return(0,n.useEffect)((()=>{const t={dateStart:`${k}T00:00`,dateEnd:`${k}T00:00`};e((0,u.D2)(t)),d(s>=7&&s<19?2:1)}),[]),(0,a.jsx)(n.Fragment,{children:(0,a.jsxs)(i.Z,Object.assign({container:!0,direction:"row"},{children:[(0,a.jsx)(i.Z,Object.assign({item:!0,lg:6},{children:(0,a.jsx)(o.Z,Object.assign({p:3},{children:(0,a.jsx)(h,Object.assign({title:"TONELAJE POR HORA (Tn/Hr)",icon:C},{children:(0,a.jsx)(j,{},void 0)}),void 0)}),void 0)}),void 0),(0,a.jsx)(i.Z,Object.assign({item:!0,lg:6},{children:(0,a.jsx)(o.Z,Object.assign({p:3},{children:(0,a.jsxs)(i.Z,Object.assign({container:!0,spacing:2},{children:[(0,a.jsxs)(i.Z,Object.assign({item:!0,container:!0,spacing:2,justifyContent:"space-between"},{children:[(0,a.jsx)(i.Z,Object.assign({item:!0,lg:6},{children:(0,a.jsx)(y,{shift:2,label:"DIA",lenCycleDme:l*O,lenCyclePad:g*O,lenCycleStock:x*O},void 0)}),void 0),(0,a.jsx)(i.Z,Object.assign({item:!0,lg:6},{children:(0,a.jsx)(y,{shift:1,label:"NOCHE",lenCycleDme:r.night.lenCycleDme*O,lenCyclePad:r.night.lenCyclePad*O,lenCycleStock:r.night.lenCycleStock*O},void 0)}),void 0)]}),void 0),(0,a.jsx)(i.Z,Object.assign({item:!0,lg:12},{children:(0,a.jsx)(h,Object.assign({title:"PRODUCCIÃ“N TOTAL POR DIA",icon:""},{children:(0,a.jsx)(p,{},void 0)}),void 0)}),void 0)]}),void 0)}),void 0)}),void 0),(0,a.jsx)(i.Z,Object.assign({item:!0,lg:12},{children:(0,a.jsx)(o.Z,Object.assign({p:3},{children:(0,a.jsx)(h,Object.assign({title:"RENDIMIENTO POR EXCAVADORA (Tn/Hr)",icon:b},{children:(0,a.jsx)(v,{},void 0)}),void 0)}),void 0)}),void 0)]}),void 0)},void 0)};var k=s(8850);function Z(){return(0,a.jsxs)("div",{children:[(0,a.jsx)(k.h,{title:"Dashboard"},void 0),(0,a.jsx)(O,{},void 0)]},void 0)}},8850:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var a=s(5893),i=s(5258),o=s(8358),n=s(282),r=s(2318),c=s(3471),d=s(5977);const l=({title:e})=>{const t=(0,d.k6)();return(0,a.jsx)(i.Z,Object.assign({position:"sticky",color:"secondary"},{children:(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(n.Z,{size:"small",startIcon:(0,a.jsx)(c.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{t.goBack()}},void 0),(0,a.jsx)(r.Z,Object.assign({variant:"h6"},{children:e}),void 0)]},void 0)}),void 0)}}}]);