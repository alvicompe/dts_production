"use strict";(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[704],{62704:(e,t,o)=>{o.r(t),o.d(t,{ListPolygons:()=>b,default:()=>x});var a=o(85893),s=o(79895),i=o(10046),r=o(50998),n=o(95757),c=o(81860),l=o(17812),d=o(62822),p=o(41749),u=o(67294);const y=(0,o(63786).Z)(u.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");var g=o(71211),m=o(10465),v=o(73855),j=o(18973),h=o(35573);const f=({feature:e,map:t})=>{const{name:o,color:d,tonnes:p,pointList:m,nameProject:v,material:j,onzas:f,volume:b}=e,x=(0,u.useCallback)((()=>{const e=[m.map((e=>[e.longitude,e.latitude,e.altitude]))],o="POLYGON_SELECT_DIS_LAYER",a="POLYGON_SELECT_DIS_SOURCE";g.T.getLayer(t,o)&&g.T.removeFeature(t,o,a),g.T.addSourceToMap(t,a,e[0]),g.T.addLayerToMap(t,o,a,"line","#C6FF00")}),[t]);return(0,a.jsxs)(s.Z,Object.assign({elevation:4,style:{marginBottom:8,width:"100%",marginTop:8,display:"flex",flexDirection:"row"}},{children:[(0,a.jsx)(i.Z,{borderLeft:6,color:h.O[d].hex,borderRadius:2},void 0),(0,a.jsx)("div",Object.assign({style:{flex:1}},{children:(0,a.jsxs)(r.Z,Object.assign({button:!0,dense:!0},{children:[(0,a.jsx)(n.Z,{primary:`Proyecto: ${v} Polígono: ${o}`,secondary:`${p}tons, ${f||0}onz, ${b}vol`},void 0),(0,a.jsx)(c.Z,{children:(0,a.jsx)(l.Z,Object.assign({size:"small",onClick:x},{children:(0,a.jsx)(y,{fontSize:"small"},void 0)}),void 0)},void 0)]}),void 0)}),void 0)]}),void 0)},b=({map:e})=>{const[t,o]=(0,u.useState)([]),{polygonList:s}=(0,v.C)(j.WD);(0,u.useEffect)((()=>{s.length>0&&o(s.filter((e=>3!==e.state)))}),[s]);const r=(0,u.useCallback)((e=>{if(e){const t=e.target?e.target.value.toUpperCase():"";o(s.filter((e=>e.name.toUpperCase().includes(t)||e.nameProject&&e.nameProject.toUpperCase().includes(t))))}}),[s]),n=(0,u.useCallback)((()=>{o(s)}),[s]),c=(0,u.useMemo)((()=>t.map(((t,o)=>(0,a.jsx)(f,{feature:t,map:e},o)))),[t,e]);return(0,a.jsxs)(d.Z,Object.assign({disablePadding:!0},{children:[(0,a.jsx)(i.Z,{height:8},void 0),(0,a.jsx)(p.Z,Object.assign({style:{position:"sticky",zIndex:1,top:0,background:"#f6f6f6",padding:2}},{children:(0,a.jsx)(m.V,{functionFilter:r,functionCancel:n,placeholder:"Buscar por proyecto o polígon o mineral"},void 0)}),void 0),c]}),void 0)},x=b},71211:(e,t,o)=>{o.d(t,{T:()=>a});class a{static addLayerToMap(e,t,o,a,s){e.addLayer({id:t,type:a,source:o,layout:{visibility:"visible"},paint:{"line-color":s,"line-width":4}})}static addSourceToMap(e,t,o){e.addSource(t,{type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:o}}})}static removeFeature(e,t,o){this.getLayer(e,t)&&(e.removeLayer(t),e.removeSource(o))}static getLayer(e,t){return e.getLayer(t)}}}}]);