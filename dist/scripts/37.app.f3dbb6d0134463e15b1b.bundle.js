(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[37],{8101:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});var o=i(5893),r=i(7294),a=i(4880);const s=i(6158);s.accessToken=a.c3;const n=({dragRotate:e,map:t,pitch:i,bearing:a,mapContainer:n,lng:d,lat:l,zoom:p,setLoad:c,style:u,height:g})=>((0,r.useEffect)((()=>{console.log("map.current",t.current,a),t.current||(n&&(t.current=new s.Map({container:n.current,style:u,center:[d,l],pitch:i,bearing:a,zoom:p,maxBounds:[[-78.2747922,-7.6626779],[-78.1305246,-7.5534415]],antialias:!0,dragRotate:e})),console.log("inianco"))}),[t,n]),(0,r.useEffect)((()=>{t.current&&(t.current.addControl(new s.FullscreenControl,"bottom-left"),t.current.addControl(new s.NavigationControl,"bottom-left"),t.current.on("move",(()=>{})),t.current.on("load",(()=>{t.current&&c(!0)})))}),[t]),(0,r.useEffect)((()=>{t.current&&t.current.setBearing(a)}),[a]),(0,o.jsx)("div",{ref:n,style:{flex:1,height:g||"100vh",width:"100%"},className:"map-container"},void 0))},3570:(e,t,i)=>{"use strict";i.d(t,{v:()=>l});var o=i(5893),r=i(7812),a=i(6837),s=i(9544),n=i(7215);const d=(0,i(3914).Z)((()=>({subHeader:{lineHeight:0,background:"#fff",paddingLeft:0,display:"flex",marginTop:8,borderRadius:4,borderBottomStyle:"groove"}}))),l=({useOpen:e,title:t})=>{const i=d(),[l,p]=e,c=(0,o.jsx)(r.Z,Object.assign({onClick:()=>{p((e=>!e))},size:"small"},{children:l?(0,o.jsx)(s.Z,{fontSize:"small"},void 0):(0,o.jsx)(n.Z,{fontSize:"small"},void 0)}),void 0);return(0,o.jsx)(a.Z,Object.assign({disableGutters:!0,component:"span",className:i.subHeader},{children:(0,o.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center"}},{children:[(0,o.jsx)("span",Object.assign({style:{marginLeft:4}},{children:t}),void 0),(0,o.jsx)("div",Object.assign({style:{marginLeft:8}},{children:c}),void 0)]}),void 0)}),void 0)}},2573:(e,t,i)=>{"use strict";i.d(t,{z:()=>r});var o=i(5573);class r{constructor(e,t,i,o,r,a,s,n){this.polygonList=e,this.map=t,this.idSource=i,this.idLayer=o,this.idSourceCentroid=r,this.idLayerCentroid=a,this.fontSize=9,this.onClickElement=s,this.haveCentroid=n}getInMap(){return this.map.getSource(this.idSource)}getCenterInMap(){return this.map.getSource(this.idSourceCentroid)}generateCentroids(){return this.polygonList.map((e=>{var t,i,o;const{latitude:r,longitude:a}=e.centroid;return{type:"Feature",geometry:{type:"Point",coordinates:[a,r]},properties:{name:`${e.name}${e.material?`-${e.material.type}`:""}`,points_polygonTajo:e.pointList.map((e=>[e.longitude,e.latitude])),name_polygon:e.name,name_material:null===(t=e.material)||void 0===t?void 0:t.type,id_polygonTajo:e.id,agTajo:e.ag,agcnTajo:e.agcn,alteTajo:e.alte,asTajo:e.as,auTajo:e.au,auchTajo:e.auch,altitudeTajo:e.altitude,descripcionTajo:"",heightTajo:e.height,litoTajo:e.litio,materialTajo:null===(i=e.material)||void 0===i?void 0:i.type,namePolTajo:e.name,nameProjectTajo:e.nameProject,onzasTajo:e.onzas,orezonetTajo:e.orezonet,ptaucnTajo:e.ptaucn,sTajo:e.s,tonnesTajo:e.tonnes,volumeTajo:e.volume,nameDme:`${e.name}`,points_polygonDme:e.pointList.map((e=>[e.longitude,e.latitude])),id_polygonDme:e.id,tonnesDme:e.tonnes,volumeDme:e.volume,namePad:`${e.name}`,id_Pad:`${e.id}_pad`,points_Pad:e.pointList.map((e=>[e.longitude,e.latitude])),tonnesPad:e.tonnes,volumePad:e.volume,nameStock:`${e.name}`,id_polygonStock:e.id,points_polygonStock:e.pointList.map((e=>[e.longitude,e.latitude])),materialStock:null===(o=e.material)||void 0===o?void 0:o.type,altitudeStock:e.altitude,volumeStock:e.volume}}}))}generateFeatures(){return this.polygonList.map((e=>({type:"Feature",properties:{color:o.O[e.color]?o.O[e.color].hex:e.color,out_color:"blue",opacity:this.haveCentroid?1:.2,opacity_border:1},geometry:{type:"Polygon",coordinates:[e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))]}})))}addToMap(){!this.getInMap()&&this.polygonList.length>0?(console.log("this.generateFeatures()",this.generateFeatures()),this.map.getSource(this.idSource)||this.map.addSource(this.idSource,{type:"geojson",data:{type:"FeatureCollection",features:this.generateFeatures()}}),this.map.getLayer(this.idLayer)||this.map.addLayer({id:this.idLayer,type:"fill",source:this.idSource,paint:{"fill-color":["get","color"],"fill-outline-color":["get","out_color"],"fill-opacity":["get","opacity"]}}),this.map.getLayer(`BORDER_${this.idLayer}`)||this.map.addLayer({id:`BORDER_${this.idLayer}`,type:"line",source:this.idSource,paint:{"line-color":["get","out_color"],"line-width":2,"line-opacity":["get","opacity_border"]},filter:["==","$type","Polygon"]}),this.haveCentroid&&(this.map.getSource(this.idSourceCentroid)||this.map.addSource(this.idSourceCentroid,{type:"geojson",data:{type:"FeatureCollection",features:this.generateCentroids()}}),this.map.getLayer(this.idLayerCentroid)||this.map.addLayer({id:this.idLayerCentroid,type:"symbol",source:this.idSourceCentroid,layout:{"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":this.fontSize},paint:{"text-color":"#00296b","text-halo-color":"#f8f7ff","text-halo-width":2}})),this.map.on("click",this.idLayerCentroid,(e=>{this.onClickElement&&this.onClickElement(e)})),this.map.on("mouseenter",this.idLayerCentroid,(()=>{this.map.getCanvas().style.cursor="pointer"})),this.map.on("mouseleave",this.idLayerCentroid,(()=>{this.map.getCanvas().style.cursor=""}))):this.getInMap()&&this.updateInMap()}updateInMap(){const e=this.getInMap();e?e.setData({type:"FeatureCollection",features:this.generateFeatures()}):this.addToMap()}removeOfMap(){this.getInMap()&&(this.map.removeLayer(this.idLayer),this.map.removeLayer(`BORDER_${this.idLayer}`),this.map.removeSource(this.idSource),this.getCenterInMap()&&(this.map.removeLayer(this.idLayerCentroid),this.map.removeSource(this.idSourceCentroid)))}}},3641:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>ye});var o=i(5893),r=i(1749),a=i(7294),s=i(1120),n=i(5258),d=i(4096),l=i(1423),p=i(46),c=i(7623),u=i(5875),g=i(1201),b=i(743),h=i(2318),j=i(4566),y=i(2285),m=i(8463),v=i(282),f=i(2663),x=i(6083),S=i(9525),O=i(7212),L=i(6856),R=i(3681),T=i(4880),C=i(3040),M=i(5376);const G=new class{constructor(e,t,i){this.methodInfoCreateGrid=new C.AbstractClientBase.MethodInfo(M.GridResponse,(e=>e.serializeBinary()),M.GridResponse.deserializeBinary),i||(i={}),t||(t={}),i.format="text",this.client_=new C.GrpcWebClientBase(i),this.hostname_=e,this.credentials_=t,this.options_=i}createGrid(e,t,i){return void 0!==i?this.client_.rpcCall(this.hostname_+"/pb.GridService/CreateGrid",e,t||{},this.methodInfoCreateGrid,i):this.client_.unaryCall(this.hostname_+"/pb.GridService/CreateGrid",e,t||{},this.methodInfoCreateGrid)}}(`${T.$s}:${T.Vs}`,null,null);var F=i(8715);const E=(0,s.Z)((e=>(0,c.Z)({root:{width:"90vh%"},heading:{fontSize:e.typography.pxToRem(15),flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}))),Z=a.forwardRef((function(e,t){return(0,o.jsx)(y.Z,Object.assign({direction:"up",ref:t},e),void 0)}));function P(){const e=E(),[t,i]=a.useState(!1),[s,n]=(0,a.useState)(!1),[d,l]=(0,a.useState)(""),[c,y]=a.useState(!1),T=()=>{y(!1)};return(0,o.jsx)(m.Z,Object.assign({className:e.root},{children:(0,o.jsxs)(u.Z,Object.assign({expanded:"panel1"===t,onChange:("panel1",(e,t)=>{i(!!t&&"panel1")})},{children:[(0,o.jsx)(b.Z,Object.assign({expandIcon:(0,o.jsx)(j.Z,{},void 0),"aria-controls":"panel1bh-content",id:"panel1bh-header"},{children:(0,o.jsx)(h.Z,Object.assign({className:e.secondaryHeading},{children:"Actualización de Grid DTS hytera"}),void 0)}),void 0),(0,o.jsx)(g.Z,{children:(0,o.jsxs)(r.Z,Object.assign({container:!0,justifyContent:"center"},{children:[(0,o.jsx)(v.Z,Object.assign({variant:"contained",color:"primary",disabled:s,style:{margin:"40px",textAlign:"center"},onClick:()=>{y(!0)}},{children:"Actualizar Data"}),void 0),(0,o.jsxs)(f.Z,Object.assign({open:c,TransitionComponent:Z,keepMounted:!0,onClose:T},{children:[(0,o.jsx)(x.Z,{children:(0,o.jsx)(h.Z,Object.assign({align:"center",style:{fontSize:16}},{children:"¿Está seguro?"}),void 0)},void 0),(0,o.jsx)(S.Z,{children:(0,o.jsxs)(O.Z,{children:[(0,o.jsx)("strong",{children:"Tenga en consideración lo siguiente:"},void 0),"- Las unidades(volquetes y excavadoras)"," ",(0,o.jsx)("strong",{children:" no deben estar en operación."},void 0)," ",(0,o.jsx)("br",{},void 0),"- La generación de Grillas solo se debe realizar cuando hay actualización de archivos como: polígonos en TAJO, celdas en DME, PAD, Stocks, o en rutas. ",(0,o.jsx)("br",{},void 0),"- Esta operación puede durar varios minutos. Se recomienda consultar con soporte de DTS si es conveniente realizar esta operación."]},void 0)},void 0),(0,o.jsxs)(L.Z,{children:[(0,o.jsx)(v.Z,Object.assign({variant:"contained",onClick:T},{children:"Cancelar"}),void 0),(0,o.jsx)(v.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{((e,t)=>{const i={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},o=new M.GridRequest;o.setRead(!0),e(!0),new Promise(((r,a)=>{G.createGrid(o,i,((i,o)=>{e(!1),null!==i?(console.log("err",i),t(i.message)):(console.log("createGrid",o),console.log(o.getDone()),o.getDone()?t(""):t("Error al Generar Grids"))}))}))})(n,l),y(!1)}},{children:"Actualizar"}),void 0)]},void 0)]}),void 0),d&&(0,o.jsx)(F.Z,Object.assign({severity:"error"},{children:d}),void 0),s&&(0,o.jsx)(p.Z,{children:(0,o.jsx)(R.Z,{},void 0)},void 0)]}),void 0)},void 0)]}),void 0)}),void 0)}var q=i(9895),z=i(3855),w=i(8479),k=i(3054),B=i(2822),D=i(998),I=i(5757),_=i(7812),W=i(3570),N=i(1211),A=i(1270),$=i(6945);const U=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),J=({map:e})=>{const{dmeCellList:t}=(0,z.C)(k.WD),[i,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{r([...t])}),[]);const s=U(),n=(0,a.useState)(!1);return(0,o.jsx)(q.Z,Object.assign({style:{height:"750px",overflow:"auto"}},{children:(0,o.jsx)(B.Z,Object.assign({className:s.listItem,dense:!0,subheader:(0,o.jsx)(W.v,{title:"polygono",useOpen:n},void 0)},{children:i.map((t=>(0,o.jsx)(D.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{console.log("Show POL"),((e,t)=>{const i="POL_LAYER",o="POL_SOURCE";console.log("Map: ",t),N.T.getLayer(t,i)&&N.T.removeFeature(t,i,o),setTimeout((()=>{N.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),N.T.addLayerToMap(t,i,o,"line","#EAF772")}),10)})(t,e)}},{children:(0,o.jsxs)(m.Z,Object.assign({elevation:1,style:{display:"flex",padding:"3px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(I.Z,{primary:`Name: ${t.name}`},void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{console.log("Ocultando Poligono: ",t)}},{children:(0,o.jsx)(A.Z,{fontSize:"small"},void 0)}),void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{console.log("Eliminando...",t)}},{children:(0,o.jsx)($.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),t.id)))}),void 0)}),void 0)},Y=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),H=({map:e})=>{const{padCellList:t}=(0,z.C)(k.WD),[i,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{r([...t])}),[]);const s=Y(),n=(0,a.useState)(!1);return(0,o.jsx)(q.Z,Object.assign({style:{height:"750px",overflow:"auto"}},{children:(0,o.jsx)(B.Z,Object.assign({className:s.listItem,dense:!0,subheader:(0,o.jsx)(W.v,{title:"polygono",useOpen:n},void 0)},{children:i.map((t=>(0,o.jsx)(D.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{((e,t)=>{const i="POL_LAYER",o="POL_SOURCE";console.log("Map: ",t),N.T.getLayer(t,i)&&N.T.removeFeature(t,i,o),setTimeout((()=>{N.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),N.T.addLayerToMap(t,i,o,"line","#EAF772")}),10)})(t,e)}},{children:(0,o.jsxs)(m.Z,Object.assign({elevation:1,style:{display:"flex",padding:"3px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(I.Z,{primary:`Name: ${t.name}`},void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)(A.Z,{fontSize:"small"},void 0)}),void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)($.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),t.id)))}),void 0)}),void 0)},K=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),V=({map:e})=>{const{stockCellList:t}=(0,z.C)(k.WD),[i,r]=(0,a.useState)([]);(0,a.useEffect)((()=>{r([...t])}),[]);const s=K(),n=(0,a.useState)(!1);return(0,o.jsx)(q.Z,Object.assign({style:{height:"750px",overflow:"auto"}},{children:(0,o.jsx)(B.Z,Object.assign({className:s.listItem,dense:!0,subheader:(0,o.jsx)(W.v,{title:"polygono",useOpen:n},void 0)},{children:i.map((t=>(0,o.jsx)(D.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{((e,t)=>{const i="POL_LAYER",o="POL_SOURCE";N.T.getLayer(t,i)&&N.T.removeFeature(t,i,o),setTimeout((()=>{N.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),N.T.addLayerToMap(t,i,o,"line","#EAF772")}),10)})(t,e)}},{children:(0,o.jsxs)(m.Z,Object.assign({elevation:1,style:{display:"flex",padding:"3px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(I.Z,{primary:`${t.name}`},void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)(A.Z,{fontSize:"small"},void 0)}),void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)($.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),t.id)))}),void 0)}),void 0)},Q=(0,s.Z)((e=>({listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}}))),X=({polygons:e,map:t})=>{const i=Q(),r=(0,a.useState)(!1);return(0,o.jsx)(q.Z,Object.assign({style:{height:"750px",overflow:"auto"}},{children:(0,o.jsx)(B.Z,Object.assign({className:i.listItem,dense:!0,subheader:(0,o.jsx)(W.v,{title:"polygono",useOpen:r},void 0)},{children:e.map((e=>(0,o.jsx)(D.Z,Object.assign({selected:!0,dense:!0,button:!0,onClick:()=>{((e,t)=>{const i="POL_LAYER",o="POL_SOURCE";N.T.getLayer(t,i)&&N.T.removeFeature(t,i,o),setTimeout((()=>{N.T.addSourceToMap(t,o,e.pointList.map((e=>[e.longitude,e.latitude,e.altitude]))),N.T.addLayerToMap(t,i,o,"line","#EAF772")}),10)})(e,t)}},{children:(0,o.jsxs)(m.Z,Object.assign({elevation:1,style:{display:"flex",padding:"3px",height:"100%",width:"100%"}},{children:[(0,o.jsx)(I.Z,{primary:`Project: ${e.nameProject}`,secondary:`Name: ${e.name}`},void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)(A.Z,{fontSize:"small"},void 0)}),void 0),(0,o.jsx)(_.Z,Object.assign({onClick:()=>{}},{children:(0,o.jsx)($.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0)}),e.id)))}),void 0)}),void 0)};const ee=(0,s.Z)((e=>({root:{flex:1,backgroundColor:"#FDF8EF",display:"flex",height:"800px",width:"100%",minWidth:"1300px"},itemGrid:{},paper:{height:"800px",width:"100%",textAlign:"center",justifyContent:"center",minWidth:"250px"},tittle:{textAlign:"center"},paperMap:{backgroundColor:"#FDF8EF",width:"100%",height:"800px",padding:"10px",textAlign:"center",minWidth:"900px"},tabs:{borderRight:`1px solid ${e.palette.divider}`,width:"100%"},tab:{minWidth:10,padding:1,paddingTop:8,paddingBottom:8,width:"100%"},buttonTab:{writingMode:"vertical-rl"},listItem:{"& .MuiListItem-gutters":{paddingLeft:"7px",paddingRight:"7px"}}})));function te(e){const{children:t,value:i,index:r}=e,a=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,style:{flex:1}},a,{children:i===r&&t}),void 0)}function ie(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const oe=({map:e})=>{const{polygonList:t}=(0,z.C)(k.WD),[i,s]=(0,a.useState)([]);(0,a.useEffect)((()=>{s([...t])}),[]);const n=ee(),[p,c]=(0,w._)("index_tab_settind_polygon",0),[u,g]=(0,a.useState)();return(0,a.useState)(!1),(0,o.jsx)("div",{children:(0,o.jsxs)(q.Z,Object.assign({elevation:1,className:n.paper},{children:[(0,o.jsx)(h.Z,Object.assign({className:n.tittle},{children:"Selected Polygon"}),void 0),(0,o.jsxs)(r.Z,Object.assign({container:!0,justifyContent:"space-between",alignItems:"flex-start",wrap:"nowrap"},{children:[(0,o.jsx)(r.Z,Object.assign({item:!0},{children:(0,o.jsxs)(d.Z,Object.assign({orientation:"vertical",variant:"scrollable",value:p,indicatorColor:"primary",textColor:"primary",onChange:(e,t)=>{c(t)},"aria-label":"horizontal tabs",className:n.tabs},{children:[(0,o.jsx)(l.Z,Object.assign({className:n.tab,label:(0,o.jsx)(h.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"TAJO"}),void 0)},ie(0)),void 0),(0,o.jsx)(l.Z,Object.assign({className:n.tab,label:(0,o.jsx)(h.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"DME"}),void 0)},ie(1)),void 0),(0,o.jsx)(l.Z,Object.assign({className:n.tab,label:(0,o.jsx)(h.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"PAD"}),void 0)},ie(2)),void 0),(0,o.jsx)(l.Z,Object.assign({className:n.tab,label:(0,o.jsx)(h.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"STOCKs"}),void 0)},ie(3)),void 0)]}),void 0)}),void 0),(0,o.jsxs)(r.Z,Object.assign({item:!0,container:!0,style:{padding:8}},{children:[(0,o.jsx)(te,Object.assign({value:p,index:0},{children:(0,o.jsx)(X,{polygons:i,map:e.current},void 0)}),void 0),(0,o.jsx)(te,Object.assign({value:p,index:1},{children:(0,o.jsx)(J,{map:e.current},void 0)}),void 0),(0,o.jsx)(te,Object.assign({value:p,index:2},{children:(0,o.jsx)(H,{map:e.current},void 0)}),void 0),(0,o.jsx)(te,Object.assign({value:p,index:3},{children:(0,o.jsx)(V,{map:e.current},void 0)}),void 0)]}),void 0)]}),void 0)]}),void 0)},void 0)};var re=i(2573),ae=i(8101);(0,a.createContext)(null);const se=({polygonList:e,idSource:t,idLayer:i,idSourceCentroid:o,idLayerCentroid:r,map:s,haveCentroid:n,onClickFeature:d})=>((0,a.useEffect)((()=>{const a=new re.z(e,s,t,i,o,r,d,n);return a.addToMap(),()=>{a.removeOfMap()}}),[e]),null),ne=({mapRef:e})=>{const t=(0,a.useRef)(null),[i,s]=(0,a.useState)(!1),{polygonList:n,padCellList:d,dmeCellList:l,stockCellList:p,geofenceList:c}=(0,z.C)(k.WD);return(0,o.jsxs)(o.Fragment,{children:[i&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(se,Object.assign({},{polygonList:n,map:e.current,idSource:"TAJOSETTING_SOURCE",idLayer:"TAJOSETTING_LAYER",idSourceCentroid:"CENTROID_TAJOSETTING_SOURCE",idLayerCentroid:"CENTROID_TAJOSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(se,Object.assign({},{polygonList:l,map:e.current,idSource:"DMESETTING_SOURCE",idLayer:"DMESETTING_LAYER",idSourceCentroid:"CENTROID_DMESETTING_SOURCE",idLayerCentroid:"CENTROID_DMESETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(se,Object.assign({},{polygonList:d,map:e.current,idSource:"PADSETTING_SOURCE",idLayer:"PADSETTING_LAYER",idSourceCentroid:"CENTROID_PADSETTING_SOURCE",idLayerCentroid:"CENTROID_PADSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0),(0,o.jsx)(se,Object.assign({},{polygonList:p,map:e.current,idSource:"STOCKSETTING_SOURCE",idLayer:"STOCKSETTING_LAYER",idSourceCentroid:"CENTROID_STOCKSETTING_SOURCE",idLayerCentroid:"CENTROID_STOCKSETTING_LAYER",haveCentroid:!0,onClickFeature:()=>{}}),void 0)]},void 0),(0,o.jsx)(r.Z,Object.assign({container:!0},{children:(0,o.jsx)(ae.Z,Object.assign({map:e,dragRotate:!1,style:"mapbox://styles/dispatchgat/ckqqsfc2y46bo17sf1y29zwnj",mapContainer:t,bearing:0,pitch:15},{lat:-7.6163,lng:-78.196,zoom:14.81,setLoad:s}),"map3")}),void 0)]},void 0)};function de(e){const{children:t,value:i,index:r}=e,a=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`},a,{children:i===r&&(0,o.jsx)(p.Z,Object.assign({p:3},{children:(0,o.jsx)(o.Fragment,{children:t},void 0)}),void 0)}),void 0)}function le(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}(0,a.createContext)(null);const pe=(0,s.Z)((e=>({root:{backgroundColor:e.palette.background.paper,display:"flex",height:"90vh"},tabs:{borderRight:`1px solid ${e.palette.divider}`,"& .MuiTab-wrapper":{flexDirection:"row",justifyContent:"flex-start"}},detail:{width:"100%",padding:1}})));function ce(){const e=pe(),[t,i]=a.useState(0),r=(0,a.useRef)(null);return(0,o.jsxs)("div",Object.assign({className:e.root},{children:[(0,o.jsxs)(d.Z,Object.assign({orientation:"vertical",value:t,onChange:(e,t)=>{i(t)},className:e.tabs},{children:[(0,o.jsx)(l.Z,Object.assign({label:"Generar Grid"},le(0)),void 0),(0,o.jsx)(l.Z,Object.assign({label:"Poligonos"},le(1)),void 0)]}),void 0),(0,o.jsxs)(m.Z,Object.assign({className:e.detail},{children:[(0,o.jsx)("div",Object.assign({style:{textAlign:"center"}},{children:(0,o.jsx)(de,Object.assign({value:t,index:0},{children:(0,o.jsx)(P,{},void 0)}),void 0)}),void 0),(0,o.jsx)(de,Object.assign({value:t,index:1},{children:(0,o.jsxs)("div",Object.assign({style:{display:"flex"}},{children:[(0,o.jsx)("div",Object.assign({style:{width:"20%"}},{children:(0,o.jsx)(oe,Object.assign({},{map:r}),void 0)}),void 0),(0,o.jsx)("div",Object.assign({style:{width:"80%"}},{children:(0,o.jsx)(ne,{mapRef:r},void 0)}),void 0)]}),void 0)}),void 0)]}),void 0)]}),void 0)}function ue(e){const{children:t,value:i,index:r}=e,a=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(i[o[r]]=e[o[r]])}return i}(e,["children","value","index"]);return(0,o.jsx)("div",Object.assign({role:"tabpanel",hidden:i!==r,id:`scrollable-auto-tabpanel-${r}`,"aria-labelledby":`scrollable-auto-tab-${r}`},a,{children:i===r&&(0,o.jsx)(p.Z,Object.assign({p:1},{children:(0,o.jsx)(o.Fragment,{children:t},void 0)}),void 0)}),void 0)}const ge=(0,s.Z)((e=>({roottab:{flexGrow:1,width:"100%",height:"90vh",backgroundColor:e.palette.background.paper}})));function be(){const e=ge(),[t,i]=a.useState(0);return(0,o.jsxs)("div",Object.assign({className:e.roottab},{children:[(0,o.jsx)(n.Z,Object.assign({position:"relative",color:"default"},{children:(0,o.jsx)(d.Z,Object.assign({value:t,onChange:(e,t)=>{i(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},{children:(0,o.jsx)(l.Z,Object.assign({label:"Generales"},(0,{id:"scrollable-auto-tab-0","aria-controls":"scrollable-auto-tabpanel-0"})),void 0)}),void 0)}),void 0),(0,o.jsx)(ue,Object.assign({value:t,index:0},{children:(0,o.jsx)(ce,{},void 0)}),void 0)]}),void 0)}const he=()=>(0,o.jsx)(r.Z,Object.assign({container:!0,direction:"column"},{children:(0,o.jsx)(be,{},void 0)}),void 0);var je=i(8850);const ye=()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(je.h,{title:"Configuraciones DTS"},void 0),(0,o.jsx)(he,{},void 0)]},void 0)},8850:(e,t,i)=>{"use strict";i.d(t,{h:()=>p});var o=i(5893),r=i(5258),a=i(8358),s=i(282),n=i(2318),d=i(3471),l=i(5977);const p=({title:e})=>{const t=(0,l.k6)();return(0,o.jsx)(r.Z,Object.assign({position:"sticky",color:"secondary"},{children:(0,o.jsxs)(a.Z,{children:[(0,o.jsx)(s.Z,{size:"small",startIcon:(0,o.jsx)(d.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{t.goBack()}},void 0),(0,o.jsx)(n.Z,Object.assign({variant:"h6"},{children:e}),void 0)]},void 0)}),void 0)}},5376:(e,t,i)=>{var o=i(3019),r=o,a=Function("return this")(),s=i(3362);r.object.extend(proto,s);var n=i(4016);r.object.extend(proto,n);var d=i(3112);r.object.extend(proto,d);var l=i(6617);r.object.extend(proto,l);var p=i(8060);r.object.extend(proto,p);var c=i(6928);r.object.extend(proto,c);var u=i(5631);r.object.extend(proto,u),r.exportSymbol("proto.pb.Grid",null,a),r.exportSymbol("proto.pb.GridRequest",null,a),r.exportSymbol("proto.pb.GridResponse",null,a),r.exportSymbol("proto.pb.Square",null,a),proto.pb.Square=function(e){o.Message.initialize(this,e,0,-1,proto.pb.Square.repeatedFields_,null)},r.inherits(proto.pb.Square,o.Message),r.DEBUG&&!COMPILED&&(proto.pb.Square.displayName="proto.pb.Square"),proto.pb.Grid=function(e){o.Message.initialize(this,e,0,-1,proto.pb.Grid.repeatedFields_,null)},r.inherits(proto.pb.Grid,o.Message),r.DEBUG&&!COMPILED&&(proto.pb.Grid.displayName="proto.pb.Grid"),proto.pb.GridRequest=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.GridRequest,o.Message),r.DEBUG&&!COMPILED&&(proto.pb.GridRequest.displayName="proto.pb.GridRequest"),proto.pb.GridResponse=function(e){o.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.GridResponse,o.Message),r.DEBUG&&!COMPILED&&(proto.pb.GridResponse.displayName="proto.pb.GridResponse"),proto.pb.Square.repeatedFields_=[4,5,6,7,8,9,10,11],o.Message.GENERATE_TO_OBJECT&&(proto.pb.Square.prototype.toObject=function(e){return proto.pb.Square.toObject(e,this)},proto.pb.Square.toObject=function(e,t){var i={id:o.Message.getFieldWithDefault(t,1,""),name:o.Message.getFieldWithDefault(t,2,""),altitude:o.Message.getFloatingPointFieldWithDefault(t,3,0),segmentList:o.Message.toObjectList(t.getSegmentList(),s.Point.toObject,e),pointList:o.Message.toObjectList(t.getPointList(),s.Point.toObject,e),geofenceList:o.Message.toObjectList(t.getGeofenceList(),n.Geofence.toObject,e),roadList:o.Message.toObjectList(t.getRoadList(),d.Road.toObject,e),pitList:o.Message.toObjectList(t.getPitList(),l.Pit.toObject,e),padList:o.Message.toObjectList(t.getPadList(),p.Pad.toObject,e),stockList:o.Message.toObjectList(t.getStockList(),c.Stock.toObject,e),dmeList:o.Message.toObjectList(t.getDmeList(),u.Dme.toObject,e)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.Square.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.Square;return proto.pb.Square.deserializeBinaryFromReader(i,t)},proto.pb.Square.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=t.readString();e.setId(i);break;case 2:i=t.readString(),e.setName(i);break;case 3:i=t.readDouble(),e.setAltitude(i);break;case 4:i=new s.Point,t.readMessage(i,s.Point.deserializeBinaryFromReader),e.addSegment(i);break;case 5:i=new s.Point,t.readMessage(i,s.Point.deserializeBinaryFromReader),e.addPoint(i);break;case 6:i=new n.Geofence,t.readMessage(i,n.Geofence.deserializeBinaryFromReader),e.addGeofence(i);break;case 7:i=new d.Road,t.readMessage(i,d.Road.deserializeBinaryFromReader),e.addRoad(i);break;case 8:i=new l.Pit,t.readMessage(i,l.Pit.deserializeBinaryFromReader),e.addPit(i);break;case 9:i=new p.Pad,t.readMessage(i,p.Pad.deserializeBinaryFromReader),e.addPad(i);break;case 10:i=new c.Stock,t.readMessage(i,c.Stock.deserializeBinaryFromReader),e.addStock(i);break;case 11:i=new u.Dme,t.readMessage(i,u.Dme.deserializeBinaryFromReader),e.addDme(i);break;default:t.skipField()}return e},proto.pb.Square.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.Square.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Square.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getId()).length>0&&t.writeString(1,i),(i=e.getName()).length>0&&t.writeString(2,i),0!==(i=e.getAltitude())&&t.writeDouble(3,i),(i=e.getSegmentList()).length>0&&t.writeRepeatedMessage(4,i,s.Point.serializeBinaryToWriter),(i=e.getPointList()).length>0&&t.writeRepeatedMessage(5,i,s.Point.serializeBinaryToWriter),(i=e.getGeofenceList()).length>0&&t.writeRepeatedMessage(6,i,n.Geofence.serializeBinaryToWriter),(i=e.getRoadList()).length>0&&t.writeRepeatedMessage(7,i,d.Road.serializeBinaryToWriter),(i=e.getPitList()).length>0&&t.writeRepeatedMessage(8,i,l.Pit.serializeBinaryToWriter),(i=e.getPadList()).length>0&&t.writeRepeatedMessage(9,i,p.Pad.serializeBinaryToWriter),(i=e.getStockList()).length>0&&t.writeRepeatedMessage(10,i,c.Stock.serializeBinaryToWriter),(i=e.getDmeList()).length>0&&t.writeRepeatedMessage(11,i,u.Dme.serializeBinaryToWriter)},proto.pb.Square.prototype.getId=function(){return o.Message.getFieldWithDefault(this,1,"")},proto.pb.Square.prototype.setId=function(e){return o.Message.setProto3StringField(this,1,e)},proto.pb.Square.prototype.getName=function(){return o.Message.getFieldWithDefault(this,2,"")},proto.pb.Square.prototype.setName=function(e){return o.Message.setProto3StringField(this,2,e)},proto.pb.Square.prototype.getAltitude=function(){return o.Message.getFloatingPointFieldWithDefault(this,3,0)},proto.pb.Square.prototype.setAltitude=function(e){return o.Message.setProto3FloatField(this,3,e)},proto.pb.Square.prototype.getSegmentList=function(){return o.Message.getRepeatedWrapperField(this,s.Point,4)},proto.pb.Square.prototype.setSegmentList=function(e){return o.Message.setRepeatedWrapperField(this,4,e)},proto.pb.Square.prototype.addSegment=function(e,t){return o.Message.addToRepeatedWrapperField(this,4,e,proto.pb.Point,t)},proto.pb.Square.prototype.clearSegmentList=function(){return this.setSegmentList([])},proto.pb.Square.prototype.getPointList=function(){return o.Message.getRepeatedWrapperField(this,s.Point,5)},proto.pb.Square.prototype.setPointList=function(e){return o.Message.setRepeatedWrapperField(this,5,e)},proto.pb.Square.prototype.addPoint=function(e,t){return o.Message.addToRepeatedWrapperField(this,5,e,proto.pb.Point,t)},proto.pb.Square.prototype.clearPointList=function(){return this.setPointList([])},proto.pb.Square.prototype.getGeofenceList=function(){return o.Message.getRepeatedWrapperField(this,n.Geofence,6)},proto.pb.Square.prototype.setGeofenceList=function(e){return o.Message.setRepeatedWrapperField(this,6,e)},proto.pb.Square.prototype.addGeofence=function(e,t){return o.Message.addToRepeatedWrapperField(this,6,e,proto.pb.Geofence,t)},proto.pb.Square.prototype.clearGeofenceList=function(){return this.setGeofenceList([])},proto.pb.Square.prototype.getRoadList=function(){return o.Message.getRepeatedWrapperField(this,d.Road,7)},proto.pb.Square.prototype.setRoadList=function(e){return o.Message.setRepeatedWrapperField(this,7,e)},proto.pb.Square.prototype.addRoad=function(e,t){return o.Message.addToRepeatedWrapperField(this,7,e,proto.pb.Road,t)},proto.pb.Square.prototype.clearRoadList=function(){return this.setRoadList([])},proto.pb.Square.prototype.getPitList=function(){return o.Message.getRepeatedWrapperField(this,l.Pit,8)},proto.pb.Square.prototype.setPitList=function(e){return o.Message.setRepeatedWrapperField(this,8,e)},proto.pb.Square.prototype.addPit=function(e,t){return o.Message.addToRepeatedWrapperField(this,8,e,proto.pb.Pit,t)},proto.pb.Square.prototype.clearPitList=function(){return this.setPitList([])},proto.pb.Square.prototype.getPadList=function(){return o.Message.getRepeatedWrapperField(this,p.Pad,9)},proto.pb.Square.prototype.setPadList=function(e){return o.Message.setRepeatedWrapperField(this,9,e)},proto.pb.Square.prototype.addPad=function(e,t){return o.Message.addToRepeatedWrapperField(this,9,e,proto.pb.Pad,t)},proto.pb.Square.prototype.clearPadList=function(){return this.setPadList([])},proto.pb.Square.prototype.getStockList=function(){return o.Message.getRepeatedWrapperField(this,c.Stock,10)},proto.pb.Square.prototype.setStockList=function(e){return o.Message.setRepeatedWrapperField(this,10,e)},proto.pb.Square.prototype.addStock=function(e,t){return o.Message.addToRepeatedWrapperField(this,10,e,proto.pb.Stock,t)},proto.pb.Square.prototype.clearStockList=function(){return this.setStockList([])},proto.pb.Square.prototype.getDmeList=function(){return o.Message.getRepeatedWrapperField(this,u.Dme,11)},proto.pb.Square.prototype.setDmeList=function(e){return o.Message.setRepeatedWrapperField(this,11,e)},proto.pb.Square.prototype.addDme=function(e,t){return o.Message.addToRepeatedWrapperField(this,11,e,proto.pb.Dme,t)},proto.pb.Square.prototype.clearDmeList=function(){return this.setDmeList([])},proto.pb.Grid.repeatedFields_=[1],o.Message.GENERATE_TO_OBJECT&&(proto.pb.Grid.prototype.toObject=function(e){return proto.pb.Grid.toObject(e,this)},proto.pb.Grid.toObject=function(e,t){var i={squareList:o.Message.toObjectList(t.getSquareList(),proto.pb.Square.toObject,e),color:o.Message.getFieldWithDefault(t,2,0)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.Grid.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.Grid;return proto.pb.Grid.deserializeBinaryFromReader(i,t)},proto.pb.Grid.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var i=new proto.pb.Square;t.readMessage(i,proto.pb.Square.deserializeBinaryFromReader),e.addSquare(i);break;case 2:i=t.readInt32(),e.setColor(i);break;default:t.skipField()}return e},proto.pb.Grid.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.Grid.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Grid.serializeBinaryToWriter=function(e,t){var i=void 0;(i=e.getSquareList()).length>0&&t.writeRepeatedMessage(1,i,proto.pb.Square.serializeBinaryToWriter),0!==(i=e.getColor())&&t.writeInt32(2,i)},proto.pb.Grid.prototype.getSquareList=function(){return o.Message.getRepeatedWrapperField(this,proto.pb.Square,1)},proto.pb.Grid.prototype.setSquareList=function(e){return o.Message.setRepeatedWrapperField(this,1,e)},proto.pb.Grid.prototype.addSquare=function(e,t){return o.Message.addToRepeatedWrapperField(this,1,e,proto.pb.Square,t)},proto.pb.Grid.prototype.clearSquareList=function(){return this.setSquareList([])},proto.pb.Grid.prototype.getColor=function(){return o.Message.getFieldWithDefault(this,2,0)},proto.pb.Grid.prototype.setColor=function(e){return o.Message.setProto3IntField(this,2,e)},o.Message.GENERATE_TO_OBJECT&&(proto.pb.GridRequest.prototype.toObject=function(e){return proto.pb.GridRequest.toObject(e,this)},proto.pb.GridRequest.toObject=function(e,t){var i={read:o.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.GridRequest.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.GridRequest;return proto.pb.GridRequest.deserializeBinaryFromReader(i,t)},proto.pb.GridRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var i=t.readBool();e.setRead(i)}else t.skipField();return e},proto.pb.GridRequest.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.GridRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.GridRequest.serializeBinaryToWriter=function(e,t){var i;(i=e.getRead())&&t.writeBool(1,i)},proto.pb.GridRequest.prototype.getRead=function(){return o.Message.getBooleanFieldWithDefault(this,1,!1)},proto.pb.GridRequest.prototype.setRead=function(e){return o.Message.setProto3BooleanField(this,1,e)},o.Message.GENERATE_TO_OBJECT&&(proto.pb.GridResponse.prototype.toObject=function(e){return proto.pb.GridResponse.toObject(e,this)},proto.pb.GridResponse.toObject=function(e,t){var i={done:o.Message.getBooleanFieldWithDefault(t,1,!1)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.GridResponse.deserializeBinary=function(e){var t=new o.BinaryReader(e),i=new proto.pb.GridResponse;return proto.pb.GridResponse.deserializeBinaryFromReader(i,t)},proto.pb.GridResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)if(1===t.getFieldNumber()){var i=t.readBool();e.setDone(i)}else t.skipField();return e},proto.pb.GridResponse.prototype.serializeBinary=function(){var e=new o.BinaryWriter;return proto.pb.GridResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.GridResponse.serializeBinaryToWriter=function(e,t){var i;(i=e.getDone())&&t.writeBool(1,i)},proto.pb.GridResponse.prototype.getDone=function(){return o.Message.getBooleanFieldWithDefault(this,1,!1)},proto.pb.GridResponse.prototype.setDone=function(e){return o.Message.setProto3BooleanField(this,1,e)},r.object.extend(t,proto.pb)}}]);