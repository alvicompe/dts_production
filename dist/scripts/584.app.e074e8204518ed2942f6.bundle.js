(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[584],{9584:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>Gt});var i=o(5893),r=o(9895),s=o(1749),n=o(7812),a=o(7661),p=o(1594),l=o(7221),c=o(282),d=o(1120),u=o(1423),g=o(2318),b=o(4096),O=o(7294),y=o(2822),h=o(6837),v=o(9544),m=o(7215),f=o(3914);const j=(0,f.Z)((()=>({subHeader:{lineHeight:0,background:"#fff",paddingLeft:0,display:"flex"}}))),x=({useOpen:e,title:t})=>{const o=j(),[r,s]=e,a=(0,i.jsx)(n.Z,Object.assign({onClick:()=>{s((e=>!e))},size:"small"},{children:r?(0,i.jsx)(v.Z,{fontSize:"small"},void 0):(0,i.jsx)(m.Z,{fontSize:"small"},void 0)}),void 0);return(0,i.jsx)(h.Z,Object.assign({component:"span",className:o.subHeader},{children:(0,i.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center"}},{children:[(0,i.jsx)("span",{children:t},void 0),(0,i.jsx)("div",Object.assign({style:{marginLeft:8}},{children:a}),void 0)]}),void 0)}),void 0)};var R=o(998),C=o(5757);const S=(0,d.Z)((e=>({disablePadding:{padding:0,margin:0,flex:1},nested:{margin:0,padding:0,marginLeft:e.spacing(2.5),flex:1}}))),M=({primary:e,Icon:t,isSubItem:o,isSelect:r,onClick:s})=>{(0,O.useEffect)((()=>()=>{}),[]);const n=S();return(0,i.jsxs)(R.Z,Object.assign({selected:r,onClick:s,dense:!0,button:!0,className:o?n.nested:n.disablePadding},{children:[t&&(0,i.jsx)(t,{fontSize:"small"},void 0),(0,i.jsx)(C.Z,{className:n.disablePadding,primary:e},void 0)]}),void 0)};var T=o(465);const k=({p:e,map:t,addUnload:o,isSelect:r})=>(0,i.jsx)(M,{primary:`Celda - ${e.name?e.name:"SIN NOM"}`,onClick:()=>{o(e,t,`Celda: ${e.name?e.name:"SIN NOM"}`)},isSelect:r},void 0),F=({addUnload:e,map:t,unloadSelect:o,padCells:r})=>{const s=(0,O.useState)(!1),[n]=s,a=r.map((r=>(0,i.jsx)(k,Object.assign({},{p:r,map:t,addUnload:e},{isSelect:o&&o.value.id===r.id}),r.id)));return(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,maxHeight:"75vh",overflowY:"scroll"},subheader:(0,i.jsx)(x,{title:"Descarga",useOpen:s},void 0)},{children:[n&&(0,i.jsx)(T.V,{setItems:()=>{},items:[],functionFilter:()=>{}},void 0),a]}),void 0)};var D=o(4376);const w=(e,t,o)=>{const i=e.getSource(t);e.getLayer(o)&&e.removeLayer(o),i&&e.removeSource(t)},E=(e,t,o)=>{e&&(w(e,`${t}_centroid`,`${o}_centroid`),w(e,t,o))},z=(e,t,o,i,r)=>{const{points:s,color:n}=t,a={type:"FeatureCollection",features:[{type:"Feature",properties:{color:n||"green",out_color:"blue",opacity:1,opacity_border:1},geometry:{type:"Polygon",coordinates:[s]}}]},p=(0,D.uHA)(a,1.5),l=(0,D.MqI)({type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[s]}},{properties:{color:"white",opacity:1,name:r}});e.addSource(`${o}_centroid`,{type:"geojson",data:{type:"FeatureCollection",features:[l]}}),e.addSource(o,{type:"geojson",data:p}),e.addLayer({id:i,type:"fill",source:o,layout:{},paint:{"fill-color":["get","color"],"fill-outline-color":["get","out_color"],"fill-opacity":1}}),e.addLayer({id:`${i}_centroid`,type:"symbol",source:`${o}_centroid`,layout:{"text-field":["get","name"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#00296b","text-halo-color":"#f8f7ff","text-halo-width":2}}),console.log("center",l),l&&l.geometry&&l.geometry.coordinates&&Ge(e,l.geometry.coordinates)},Z=(e,t,o,i,r,s,n,a)=>{console.log(t);const p=t.map((e=>({type:"Feature",properties:{color:n?a:e.color,out_color:"red",opacity:s,opacity_border:0,id:e.id},geometry:{type:"LineString",coordinates:e.points}})));console.log("!map.getSource(idSource)",!e.getSource(i)),e.getSource(i)||e.addSource(i,{type:"geojson",data:{type:"FeatureCollection",features:p}}),console.log("!map.getLayer(idSource)",!e.getLayer(r)),e.getLayer(r)?e.getSource(i).setData({type:"FeatureCollection",features:p}):(e.addLayer({id:r,type:"line",source:i,paint:{"line-width":10,"line-color":["get","color"],"line-opacity":s},layout:{"line-join":"round","line-cap":"round"},filter:["==","$type","LineString"]}),n||(console.log("agregando"),e.on("click",r,(e=>{if(console.log("eeee",e.features),e.features.length>0){const i=e.features[0],{id:r}=i.properties,s=r?t.find((e=>e.id===r)):null;r&&s&&o((e=>{const t=e.findIndex((e=>e.id===r));return-1===t?e.push(s):e.splice(t,1),console.log("indexFind",t,r),JSON.parse(JSON.stringify(e))}))}})),e.on("mouseenter",r,(function(){e.getCanvas().style.cursor="pointer"})),e.on("mouseleave",r,(function(){e.getCanvas().style.cursor=""}))))};var L=o(8479);const I=({p:e,map:t,addUnload:o,isSelect:r})=>(0,i.jsx)(M,{primary:`${e.name?e.name:"SIN NOM"}`,onClick:()=>{o(e,t,`${e.name?e.name:"SIN NOM"}`)},isSelect:r},void 0),B=({addUnload:e,map:t,unloadSelect:o,dmeCells:r})=>{const s=(0,O.useState)(!1),[n]=s,a=r.map((r=>(0,i.jsx)(I,Object.assign({},{p:r,map:t,addUnload:e},{isSelect:o&&o.value.id===r.id}),r.id)));return(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,maxHeight:"75vh",overflowY:"scroll"},subheader:(0,i.jsx)(x,{title:"Descarga",useOpen:s},void 0)},{children:[n&&(0,i.jsx)(T.V,{setItems:()=>{},items:[],functionFilter:()=>{}},void 0),a]}),void 0)};const _=(0,d.Z)((e=>({nested:{marginLeft:e.spacing(1),marginBottom:0},root_unload:{flexGrow:1,display:"flex",height:"100%"},tabs:{borderRight:`1px solid ${e.palette.divider}`},tab:{minWidth:10,padding:1,paddingTop:8,paddingBottom:8},buttonTab:{writingMode:"vertical-rl"}})));function W(e){const{children:t,value:o,index:r}=e,s=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]])}return o}(e,["children","value","index"]);return(0,i.jsx)("div",Object.assign({role:"tabpanel",hidden:o!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,style:{flex:1}},s,{children:o===r&&t}),void 0)}function N(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const A=({value:e,handleChange:t})=>{const o=_();return(0,i.jsxs)(b.Z,Object.assign({orientation:"vertical",variant:"scrollable",value:e,indicatorColor:"primary",textColor:"primary",onChange:t,"aria-label":"Vertical tabs",className:o.tabs},{children:[(0,i.jsx)(u.Z,Object.assign({className:o.tab,label:(0,i.jsx)(g.Z,Object.assign({variant:"caption",className:o.buttonTab},{children:"PAD"}),void 0)},N(0)),void 0),(0,i.jsx)(u.Z,Object.assign({className:o.tab,label:(0,i.jsx)(g.Z,Object.assign({variant:"caption",className:o.buttonTab},{children:"DME"}),void 0)},N(1)),void 0),(0,i.jsx)(u.Z,Object.assign({className:o.tab,label:(0,i.jsx)(g.Z,Object.assign({variant:"caption",className:o.buttonTab},{children:"STOCKs"}),void 0)},N(2)),void 0)]}),void 0)},P=({padCells:e,useUnloadSelect:t,dmeCells:o})=>{const n=_(),[a,p]=t,l=(e,t,o)=>{E(t,"ID_LAYER_UNLOAD_DME","ID_LAYER_UNLOAD_DME"),a&&a.value.id===e.id?(E(t,"ID_SOURCE_UNLOAD_PAD","ID_LAYER_UNLOAD_PAD"),p(void 0)):(E(t,"ID_SOURCE_UNLOAD_PAD","ID_LAYER_UNLOAD_PAD"),p({type:1,value:e}),setTimeout((()=>{t&&z(t,e,"ID_SOURCE_UNLOAD_PAD","ID_LAYER_UNLOAD_PAD",o)}),10))},c=(e,t,o)=>{E(t,"ID_SOURCE_UNLOAD_PAD","ID_LAYER_UNLOAD_PAD"),a&&a.value.id===e.id?(E(t,"ID_SOURCE_UNLOAD_DME","ID_LAYER_UNLOAD_DME"),p(void 0)):(E(t,"ID_SOURCE_UNLOAD_DME","ID_LAYER_UNLOAD_DME"),p({type:2,value:e}),setTimeout((()=>{t&&z(t,e,"ID_SOURCE_UNLOAD_DME","ID_LAYER_UNLOAD_DME",o)}),10))},[d,u]=(0,L._)("index_tab_unload_operation",0),g=(e,t)=>{u(t)};return(0,i.jsx)(Ut.Consumer,{children:t=>(0,i.jsx)(r.Z,Object.assign({elevation:4,style:{flex:1,marginLeft:8}},{children:(0,i.jsxs)(s.Z,Object.assign({container:!0,className:n.root_unload},{children:[(0,i.jsx)(A,Object.assign({},{value:d,handleChange:g}),void 0),(0,i.jsx)(W,Object.assign({value:d,index:0},{children:(0,i.jsx)(F,{padCells:e,addUnload:l,map:t,unloadSelect:a},void 0)}),void 0),(0,i.jsx)(W,Object.assign({value:d,index:1},{children:(0,i.jsx)(B,{dmeCells:o,addUnload:c,map:t,unloadSelect:a},void 0)}),void 0)]}),void 0)}),void 0)},void 0)};var U=o(6037),$=o(7129),G=o(4610),q=o(1125),J=o(3099);const Y=(0,d.Z)((e=>({disabledPadding:{padding:0},disabledMargin:{padding:0,minWidth:0}}))),V=({p:e,addLoad:t,map:o,isSelect:r,idProject:s})=>(0,i.jsx)(M,{onClick:()=>t(e,o,`Polígono: ${e.name?e.name:"SIN NOM"} - ${e.material?e.material.type:""}`,s),primary:`Polígono ${e.name}${e.material?` - ${e.material.type}`:""}`,isSubItem:!0,isSelect:r},void 0),K=({map:e,project:t,addLoad:o,idProject:r,loadSelect:a})=>{const[p,l]=(0,O.useState)(!1),c=Y(),d=t.polygons.map((function(t){return t?(0,i.jsx)(V,Object.assign({},{p:t,addLoad:o,map:e,idProject:r},{isSelect:a&&a.value.id===t.id}),t.id):null}));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(R.Z,Object.assign({className:c.disabledPadding,dense:!0,onClick:()=>l((e=>!e))},{children:[(0,i.jsx)(C.Z,{className:c.disabledMargin,primary:(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[(0,i.jsxs)(g.Z,Object.assign({variant:"caption",style:{alignItems:"center",display:"flex",fontSize:12}},{children:[p?(0,i.jsx)($.Z,{fontSize:"small"},void 0):(0,i.jsx)(G.Z,{fontSize:"small"},void 0),t.name]}),void 0),(0,i.jsx)(g.Z,Object.assign({color:"primary",style:{fontSize:11,marginLeft:4}},{children:`${t.polygons.length}▰s`}),void 0)]}),void 0)},void 0),(0,i.jsx)(n.Z,Object.assign({size:"small"},{children:p?(0,i.jsx)(q.Z,{fontSize:"small"},void 0):(0,i.jsx)(J.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0),(0,i.jsx)(U.Z,Object.assign({in:p},{children:(0,i.jsx)(y.Z,Object.assign({dense:!0,disablePadding:!0},{children:d}),void 0)}),void 0)]},void 0)};const H=(0,d.Z)((e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{marginLeft:e.spacing(1),marginBottom:0},root_unload:{flexGrow:1,display:"flex",height:"100%"},tabs:{borderRight:`1px solid ${e.palette.divider}`},tab:{minWidth:10,padding:1,paddingTop:8,paddingBottom:8},buttonTab:{writingMode:"vertical-rl"}})));function X(e){const{children:t,value:o,index:r}=e,s=function(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]])}return o}(e,["children","value","index"]);return(0,i.jsx)("div",Object.assign({role:"tabpanel",hidden:o!==r,id:`vertical-tabpanel-${r}`,"aria-labelledby":`vertical-tab-${r}`,style:{flex:1}},s,{children:o===r&&t}),void 0)}function Q(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const ee=({benchs:e,useLoadSelect:t,stockCells:o})=>{const n=H(),[a,p]=t,[l,c]=(0,O.useState)([]),[d,h]=(0,L._)("index_tab_load_operation",0),v=(0,O.useState)(!1),[m,f]=(0,O.useState)([]);(0,O.useEffect)((()=>{let t=[];e.forEach((e=>{t=[...t,...e.projects]})),c(t),f(t)}),[e]);const j=(e,t,o,i)=>{E(t,"ID_SOURCE_LOAD_STOCK","ID_LAYER_LOAD_STOCK"),a&&a.value.id===e.id?(E(t,"ID_SOURCE_LOAD","ID_LAYER_LOAD"),p(void 0)):(E(t,"ID_SOURCE_LOAD","ID_LAYER_LOAD"),p({type:1,value:e,idProject:i}),setTimeout((()=>{t&&z(t,e,"ID_SOURCE_LOAD","ID_LAYER_LOAD",o)}),10))},S=(e,t)=>{h(t)},M=e=>m.filter((t=>t.name.toUpperCase().includes(e.toUpperCase())));return(0,i.jsx)(Ut.Consumer,{children:e=>(0,i.jsx)(r.Z,Object.assign({elevation:4,style:{flex:1}},{children:(0,i.jsxs)(s.Z,Object.assign({container:!0,style:{height:"100%"}},{children:[(0,i.jsxs)(b.Z,Object.assign({orientation:"vertical",variant:"scrollable",value:d,indicatorColor:"primary",textColor:"primary",onChange:S,"aria-label":"Vertical tabs",className:n.tabs},{children:[(0,i.jsx)(u.Z,Object.assign({className:n.tab,label:(0,i.jsx)(g.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"TAJO"}),void 0)},Q(0)),void 0),(0,i.jsx)(u.Z,Object.assign({className:n.tab,label:(0,i.jsx)(g.Z,Object.assign({variant:"caption",className:n.buttonTab},{children:"STOCKs"}),void 0)},Q(1)),void 0)]}),void 0),(0,i.jsx)(X,Object.assign({value:d,index:0},{children:(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,maxHeight:"75vh",overflowY:"scroll"},subheader:(0,i.jsx)(x,{title:"Carguío",useOpen:v},void 0)},{children:[v[0]&&(0,i.jsx)(T.V,{functionFilter:M,setItems:c,items:m,placeholder:"Buscar por proyecto"},void 0),l.map((t=>function(e,t){return(0,i.jsx)(K,Object.assign({project:e},{map:t,addLoad:j,loadSelect:a},{idProject:e.id}),e.id)}(t,e)))]}),void 0)}),void 0),(0,i.jsx)(X,Object.assign({value:d,index:1},{children:(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,maxHeight:"75vh",overflowY:"scroll"},subheader:(0,i.jsx)(x,{title:"Carguío",useOpen:v},void 0)},{children:[v[0]&&(0,i.jsx)(T.V,{functionFilter:()=>{},setItems:()=>{},items:[]},void 0),o.map((t=>(0,i.jsx)(R.Z,Object.assign({selected:a&&a.value.id===t.id,button:!0,dense:!0,onClick:()=>{((e,t,o)=>{E(t,"ID_SOURCE_LOAD","ID_LAYER_LOAD"),a&&a.value.id===e.id?(E(t,"ID_SOURCE_LOAD_STOCK","ID_LAYER_LOAD_STOCK"),p(void 0)):(E(t,"ID_SOURCE_LOAD_STOCK","ID_LAYER_LOAD_STOCK"),p({type:2,value:e}),setTimeout((()=>{t&&z(t,e,"ID_SOURCE_LOAD_STOCK","ID_LAYER_LOAD_STOCK",o)}),10))})(t,e,t.name)}},{children:(0,i.jsx)(C.Z,{primary:t.name},void 0)}),t.id)))]}),void 0)}),void 0)]}),void 0)}),void 0)},void 0)};var te=o(5517),oe=o(6072),ie=o(3960);const re=(0,d.Z)((e=>({disabledMargin:{margin:0},centerListItem:{justifyContent:"center"},root:{flex:1,overflowY:"scroll",marginBottom:8,marginLeft:e.spacing(1)}}))),se=({routes:e,map:t,addRoutes:o,useSelect:r})=>{const[s,n]=r;return(0,O.useEffect)((()=>(e.length>0&&o(t,e,n,"source_routes_all_assigment","layer_routes_all_assigment",.2,!1),()=>{})),[e]),(0,O.useEffect)((()=>(console.log("routesSelect",s),o(t,s,n,"id_source_routes_select","id_layer_routes_select",1,!0,"red"),()=>{})),[s]),(0,i.jsx)(i.Fragment,{},void 0)},ne=({routes:e,useSelect:t})=>{const[o,a]=(0,O.useState)(e),[p,l]=t,c=(0,O.useState)(!1),[d]=c,u=re();return(0,O.useEffect)((()=>{a(e)}),[e]),(0,i.jsx)(r.Z,Object.assign({elevation:4,className:u.root},{children:(0,i.jsx)(Ut.Consumer,{children:e=>e?(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[(0,i.jsx)(se,{routes:o,map:e,addRoutes:Z,useSelect:t},void 0),(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{padding:4},subheader:(0,i.jsx)(x,{title:"Ruta",useOpen:c},void 0)},{children:[d&&(0,i.jsx)(T.V,{functionFilter:()=>{},setItems:()=>{},items:[]},void 0),(0,i.jsxs)(R.Z,Object.assign({dense:!0,className:u.centerListItem},{children:[(0,i.jsxs)(g.Z,Object.assign({variant:"inherit"},{children:["Seleccione los tramos en el mapa"," "]}),void 0),(0,i.jsx)(oe.Z,{fontSize:"small"},void 0)]}),void 0),p.map((e=>(0,i.jsxs)(O.Fragment,{children:[(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[(0,i.jsx)(M,{primary:` Tramo: ${e.name?e.name:"Sin Nomb."}`,Icon:ie.Z},void 0),(0,i.jsx)(n.Z,Object.assign({size:"small",onClick:()=>{return t=e,void l((e=>{const o=e.findIndex((e=>e.id===t.id));return-1===o||e.splice(o,1),JSON.parse(JSON.stringify(e))}));var t}},{children:(0,i.jsx)(v.Z,{fontSize:"small"},void 0)}),void 0)]}),void 0),(0,i.jsx)(te.Z,{},void 0)]},e.id)))]}),void 0)]}),void 0):null},void 0)}),void 0)};var ae=o(4436),pe=o(2541),le=o(553),ce=o(74),de=o(3258),ue=o(5090);const ge=(0,d.Z)((e=>({disabledSpacing:{margin:0,padding:0,width:"100%"},checkbox:{"& .MuiCheckbox-root":{margin:0,padding:0,paddingLeft:8}}}))),be=({truck:e,checked:t,useTrucksSelect:o,streamTruck:r})=>{const s=ge(),[n,a]=o,[p,l]=(0,O.useState)(r.streamTruck);return(0,O.useEffect)((()=>()=>{console.log("desmondandop")}),[]),(0,O.useEffect)((()=>{l(r.streamTruck)}),[r]),(0,i.jsxs)(R.Z,Object.assign({button:!0,dense:!0,className:s.disabledSpacing},{children:[(0,i.jsx)(le.Z,{className:s.checkbox,onChange:()=>{const t=n.findIndex((t=>e.deviceId===t.deviceId));-1===t?n.push(e):n.splice(t,1),a(JSON.parse(JSON.stringify(n)))},control:(0,i.jsx)(de.Z,{size:"small",checked:t,inputProps:{style:{padding:0}}},void 0),label:`${e.deviceAlias} ${p&&e.deviceId===p.deviceId?ue.S[p.state]:""}`},void 0),p?(0,i.jsx)(C.Z,{secondary:` ${p.operationList.length>0&&e.deviceId===p.deviceId?p.operationList[0].excavator.deviceAlias:""}`},void 0):null]}),void 0)};var Oe=o(3513);const ye=(0,d.Z)((e=>({root:{flex:1},list:{flex:1,maxHeight:"75vh",paddingLeft:e.spacing(1),marginLeft:e.spacing(1),overflowY:"scroll",marginBottom:e.spacing(2)}}))),he=({trucks:e,excavators:t,useExcasSelect:o,useTrucksSelect:n})=>{const[a,p]=o,[l,c]=n,d=(0,O.useState)(),u=ye(),[g,b]=(0,O.useState)(e),[h,v]=(0,O.useState)(e),m=e=>!!l.find((t=>e.id===t.id)),f=e=>h.filter((t=>t.deviceAlias.includes(e)));return(0,i.jsx)(r.Z,Object.assign({className:u.root,elevation:4},{children:(0,i.jsxs)(s.Z,Object.assign({container:!0,direction:"row"},{children:[(0,i.jsxs)(y.Z,Object.assign({className:u.list,dense:!0,subheader:(0,i.jsx)(x,{title:"Palas",useOpen:d},void 0)},{children:[(0,i.jsx)(ae.Z,Object.assign({component:"fieldset"},{children:(0,i.jsx)(pe.Z,Object.assign({"aria-label":"gender",name:"radio-buttons-group"},{children:t.map((e=>(0,i.jsx)(O.Fragment,{children:(0,i.jsx)(le.Z,{value:e.id,control:(0,i.jsx)(ce.Z,{},void 0),onClick:()=>(e=>{a.pop(),a.push(e),p(JSON.parse(JSON.stringify(a)))})(e),label:`${e.deviceAlias}`},void 0)},e.id)))}),void 0)}),void 0),(0,i.jsx)(te.Z,{},void 0)]}),void 0),(0,i.jsx)(Oe.a.Consumer,{children:e=>(0,i.jsxs)(y.Z,Object.assign({className:u.list,dense:!0,subheader:(0,i.jsx)(x,{title:"Camiones",useOpen:d},void 0)},{children:[d[0]&&(0,i.jsx)(T.V,{functionFilter:f,setItems:b,items:h},void 0),g.map((t=>(0,i.jsx)(be,{checked:m(t),useTrucksSelect:n,truck:t,streamTruck:e},t.id)))]}),void 0)},void 0)]}),void 0)}),void 0)};var ve=o(724),me=o(3471),fe=o(9813),je=o(94),xe=o(9038),Re=o(4880);const{OperationServiceClient:Ce}=o(7872),{Operation:Se,OperationRequest:Me,OperationReassigmentRequest:Te}=o(2799),{Upload:ke,Download:Fe}=o(1783),{Polygon:De}=o(7461),{Cell:we}=o(3068),{Dme:Ee}=o(5631),{Pit:ze}=o(2733),{Pad:Ze}=o(8060),{Project:Le}=o(3423),{Road:Ie}=o(3112),{Truck:Be}=o(3779),{Stock:_e}=o(6928),{Excavator:We}=o(6034),Ne=new Ce(`${Re.$s}:${Re.Vs}`,null,null),Ae=(e,t)=>{console.log("RESSIGMENT_DATA_SEND: ",e,t);const o={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},i=new Se,r=new Te;return i.setId(e),r.setOperationDestination(i),console.log("idDest",e),console.log("trucks",t),t.map((e=>{const t=new Be;t.setId(e.id),t.setDeviceId(e.deviceId),t.setDeviceAlias(e.deviceAlias),t.setDeviceInterval(e.deviceInterval),t.setDescription(e.description),t.setPlate(e.plate),r.addTruck(t)})),new Promise(((e,t)=>{Ne.reassigmentTrucksOperation(r,o,((o,i)=>{if(o)console.log("error message operations get",o.message),t(o);else{const t=i.toObject();console.log("operationsbackend",t),e(t)}}))}))};var Pe=o(702),Ue=o(8657);const $e=({open:e,handleClose:t,msg:o,severity:r})=>(0,i.jsx)(Pe.Z,Object.assign({open:e,onClose:t},{children:(0,i.jsx)(Ue.Z,Object.assign({onClose:t,severity:r},{children:o}),void 0)}),void 0);const Ge=(e,t)=>{e.flyTo({center:t}),setTimeout((()=>{e.zoomTo(14,{duration:2e3})}),1e3)},qe=({setIsNew:e,map:t,setZoom:o})=>{const d=(0,O.useState)([]),u=(0,O.useState)([]),g=(0,O.useState)([]),b=(0,O.useState)(),y=(0,O.useState)(),[h,v]=(0,O.useState)(0),[m,f]=(0,O.useState)([]),[j,x]=(0,O.useState)([]),[R,C]=(0,O.useState)(!1),[S,M]=(0,O.useState)(""),[T,k]=(0,O.useState)(""),F=()=>{C(!1)};function D(e,t,o,r,s){switch(console.log(),h){case 0:return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(ee,Object.assign({},{useLoadSelect:b,benchs:e,stockCells:r}),void 0)," ",(0,i.jsx)(P,Object.assign({},{useUnloadSelect:y,padCells:t,dmeCells:s}),void 0)]},void 0);case 1:return(0,i.jsx)(ne,Object.assign({},{routes:o,useSelect:d}),void 0);case 2:return(0,i.jsx)(he,Object.assign({},{trucks:m,excavators:j,useTrucksSelect:u,useExcasSelect:g}),void 0)}}(0,O.useEffect)((()=>{((e,t)=>{var o,i,r,s;o=void 0,i=void 0,s=function*(){(0,je.r)().then((t=>{e(t)})).catch((t=>{e([]),console.log(t)})),(0,xe.X)().then((e=>{t(e)})).catch((e=>{console.log(e),t([])}))},new((r=void 0)||(r=Promise))((function(e,t){function n(e){try{p(s.next(e))}catch(e){t(e)}}function a(e){try{p(s.throw(e))}catch(e){t(e)}}function p(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(n,a)}p((s=s.apply(o,i||[])).next())}))})(f,x)}),[]);const w=()=>{v((e=>e-1))},E=()=>{v((e=>e+1))},z=b[0],Z=y[0],L=u[0],I=g[0],B=d[0],_=()=>{I.length<=0&&L.length<=0?(C(!0),k("Debe seleccionar una excabadora"),M("warning")):z&&Z&&L&&I&&((e,t,o,i,r)=>{console.log("unload",t);const s={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},n=new Se,a=new ke,p=new Fe,l=new De,c=new we,d=new Ee,u=new _e,g=new ze,b=new Le,O=new Me;if(console.log(e),1===e.type?(l.setId(e.value.id),a.setType(1),b.addPolygon(l),b.setId(e.idProject),g.addProject(b),a.setPit(g)):(u.setId(e.value.id),a.setType(3),a.setStock(u)),1===t.type){const e=new Ze;e.setId(t.value.idPad),c.setId(t.value.id),e.addCell(c),p.setType(2),p.setPad(e)}return 2===t.type&&(d.setId(t.value.idDme),c.setId(t.value.id),d.addCell(c),p.setType(4),p.setDme(d)),n.setShift(1),n.setState(2),n.setUpload(a),n.setDownload(p),r.forEach((e=>{const t=new Ie;t.setId(e.id),n.addRoad(t)})),o.forEach((e=>{const t=new Be;t.setId(e.id),n.addTruck(t)})),i.forEach((e=>{const t=new We;t.setId(e.id),n.addExcavator(t)})),console.log("operation",n),O.setOperation(n),new Promise(((e,t)=>{Ne.createOperation(O,s,((o,i)=>{if(o)console.log("error message",o.message),t(o);else{const t=i.getOperation().toObject();console.log("saveOperationResponse",t),e(t)}}))}))})(z,Z,L,I,B).then((t=>{e(!1)})).catch((e=>{console.log(e),C(!0),k("Error al guardar: posiblemente las unidades ya estan en otra operación"),M("warning")}))},W=e=>{switch(e){case 0:return!(!z||!Z);case 1:return B.length>0;case 2:return I.length>0}},N=()=>{e(!1),o(14.81)};return(0,i.jsx)(Oe.a.Consumer,{children:({padCells:e,benchs:t,stockCells:o,routes:d,dmeCells:u})=>(0,i.jsxs)(r.Z,Object.assign({style:{height:"100vh",minWidth:600,overflowY:"scroll",display:"flex",flexDirection:"column",alignItems:"center"}},{children:[(0,i.jsxs)(s.Z,Object.assign({container:!0,alignItems:"center",alignContent:"center"},{children:[(0,i.jsx)(n.Z,Object.assign({onClick:N},{children:(0,i.jsx)(ve.Z,{fontSize:"small"},void 0)}),void 0),(0,i.jsxs)(a.Z,Object.assign({style:{padding:8},alternativeLabel:!0,nonLinear:!0,activeStep:h},{children:[(0,i.jsx)(p.Z,Object.assign({completed:!0},{children:(0,i.jsx)(l.Z,Object.assign({completed:W(0)},{children:"Carga/Descarga"}),void 0)}),void 0),(0,i.jsx)(p.Z,Object.assign({completed:!0},{children:(0,i.jsx)(l.Z,Object.assign({completed:W(1)},{children:"Tramos/Ruta"}),void 0)}),void 0),(0,i.jsx)(p.Z,Object.assign({completed:!0},{children:(0,i.jsx)(l.Z,Object.assign({completed:W(2)},{children:"Pala/Camiones"}),void 0)}),void 0)]}),void 0)]}),void 0),(0,i.jsx)(s.Z,Object.assign({container:!0,style:{padding:4,flex:1}},{children:D(t,e,d,o,u)}),void 0),(0,i.jsxs)(s.Z,Object.assign({container:!0,style:{marginBottom:8}},{children:[(0,i.jsx)(c.Z,Object.assign({size:"small",color:"inherit",variant:"contained",onClick:w,disabled:0===h,startIcon:(0,i.jsx)(me.Z,{fontSize:"small"},void 0)},{children:"Regresar"}),void 0),(0,i.jsx)(c.Z,Object.assign({size:"small",disabled:!W(h),color:"secondary",onClick:2==h?_:E,variant:"contained",endIcon:(0,i.jsx)(fe.Z,{fontSize:"small"},void 0)},{children:2==h?"Guardar":"Siguiente"}),void 0)]}),void 0),(0,i.jsx)($e,{open:R,handleClose:F,msg:T,severity:S},void 0)]}),void 0)},void 0)};var Je,Ye,Ve,Ke,He,Xe=o(3534),Qe=o(529),et=o(6438),tt=o(5263),ot=o(2200),it=o(179),rt=o(3557),st=o(8129),nt=o(868);(He=Je||(Je={}))[He.DESCONOCIDO=0]="DESCONOCIDO",He[He.TAJO=1]="TAJO",He[He.PAD=2]="PAD",He[He.STOCK=3]="STOCK",He[He.DME=4]="DME",He[He.RUTA=5]="RUTA",(Ke=Ye||(Ye={})).PIT="pit",Ke.PAD="pad",Ke.STOCK="stock",Ke.DME="dme",Ke.ROAD="road",function(e){e[e.Desconocido=0]="Desconocido",e[e.Pendiente=1]="Pendiente",e[e.Operando=2]="Operando",e[e.Finalizado=3]="Finalizado"}(Ve||(Ve={}));const at=({setOperationSelect:e},{setReassignSelect:t})=>[{field:"startTime",headerName:"Inicio",type:"date",width:170},{field:"excavator",headerName:"Palas",width:110},{field:"trunks",headerName:"Camiones",flex:1},{field:"cycles",headerName:"Ciclos",minWidth:110},{field:"typeUpload",headerName:"Carga",minWidth:130},{field:"typeDownload",headerName:"Descarga",minWidth:130},{field:"state",headerName:"Estado",minWidth:130},{field:"Opciones",headerName:"Opc",minWidth:110,renderCell:({row:o})=>{const[r,s]=(0,O.useState)(!0);return(0,i.jsxs)(i.Fragment,{children:[o.state!==Ve[3]&&(0,i.jsx)(nt.ZP,Object.assign({title:"Reasignar"},{children:(0,i.jsx)(n.Z,Object.assign({size:"small",onClick:()=>{t(o)}},{children:(0,i.jsx)(ot.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,i.jsx)(nt.ZP,Object.assign({title:"Detalle"},{children:(0,i.jsx)(n.Z,Object.assign({size:"small",onClick:()=>{e(o),s((e=>!e))}},{children:r?(0,i.jsx)(oe.Z,{fontSize:"small"},void 0):(0,i.jsx)(me.Z,{fontSize:"small"},void 0)}),void 0)}),void 0)]},void 0)}}];var pt=o(1267);const lt=({value:e,operationSelect:t})=>{switch(e){case Ye.DME:return(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Descarga: ${Je[t.download.type]} ${t.download.dme.name}`}),void 0)}),void 0);case Ye.PAD:return(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Descarga: ${Je[t.download.type]} ${t.download.pad.name}`}),void 0)}),void 0);case Ye.STOCK:return(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Descarga: ${Je[t.download.type]}  ${t.download.pad.name}`}),void 0)}),void 0);default:return(0,i.jsx)(i.Fragment,{},void 0)}};var ct=o(2663),dt=o(6083),ut=o(9525),gt=o(6856);const bt=({open:e,handleClose:t,handleConfirm:o,title:r,message:s})=>(0,i.jsxs)(ct.Z,Object.assign({open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,i.jsx)(dt.Z,{children:r},void 0),(0,i.jsx)(ut.Z,{children:(0,i.jsx)(Ue.Z,Object.assign({severity:"warning"},{children:s}),void 0)},void 0),(0,i.jsxs)(gt.Z,{children:[(0,i.jsx)(c.Z,Object.assign({color:"primary",onClick:t},{children:"Cancelar"}),void 0),(0,i.jsx)(c.Z,Object.assign({color:"secondary",onClick:o,autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)]}),void 0);var Ot=function(e,t,o,i){return new(o||(o=Promise))((function(r,s){function n(e){try{p(i.next(e))}catch(e){s(e)}}function a(e){try{p(i.throw(e))}catch(e){s(e)}}function p(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,a)}p((i=i.apply(e,t||[])).next())}))};var yt=o(7965);const ht=e=>{const{operation:t,setOperationSelect:o,setRefresh:n}=e,[a,p]=O.useState(!1),[l,d]=O.useState(!1),[u,b]=(0,O.useState)(""),[y,h]=(0,O.useState)("success"),v=t&&t.excavatorList&&t.excavatorList.length>0?t.excavatorList[0]:{};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(g.Z,Object.assign({variant:"button",style:{paddingLeft:4,paddingTop:16}},{children:["Detalle de operación",(0,i.jsx)(pt.Z,{style:{marginLeft:4},icon:(0,i.jsx)(yt.Z,{},void 0),size:"small",label:v.deviceAlias},void 0)]}),void 0),(0,i.jsxs)(s.Z,Object.assign({container:!0,style:{paddingLeft:2},alignItems:"center"},{children:[(0,i.jsx)(s.Z,Object.assign({item:!0},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Camiones: ${t.truckList.length}`}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Palas: ${t.excavatorList.length}`}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(g.Z,Object.assign({style:{padding:5},variant:"subtitle1"},{children:`Ciclos: ${t.cycleList.length}`}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0},{children:(0,i.jsx)((()=>{let e="";return t.download.dme&&(e="dme"),t.download.pad&&(e="pad"),t.download.stock&&(e="stock"),(0,i.jsx)(lt,{value:e,operationSelect:t},void 0)}),{},void 0)}),void 0),t.state===Ve[2]&&(0,i.jsxs)(Qe.Z,Object.assign({m:.5},{children:[(0,i.jsx)(c.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{p(!0)},size:"small"},{children:"Finalizar Operación"}),void 0),(0,i.jsx)(bt,{open:a,handleClose:()=>{p(!1)},handleConfirm:()=>{((e,t,o,i)=>{Ot(void 0,void 0,void 0,(function*(){const r=yield(e=>{const t={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},o=new Se,i=new Me;return o.setId(e),i.setOperation(o),new Promise(((e,o)=>{Ne.finalizeOperation(i,t,((t,i)=>{if(t)console.log("error message operations get",t.message),o(t);else{const t=i.toObject();console.log("operationFinalize",t),e(t)}}))}))})(e);t((e=>!e));let s="";r.operation&&(o("La operacion se ha finalizado exitosamente"),i("success")),r.truckErrorList.length>0&&r.truckErrorList.forEach((e=>{const t=1===e.state?"CARGANDO":"A DESCARGA";s+=` ${e.truckError.deviceAlias} => ${t},`})),""!==s&&(o(`La operacion no ha podido finalizarse porque el camión : ${s}`),i("error"))}))})(t.id,n,b,h),p(!1),d(!0)},title:"¿Esta seguro?",message:`Esta intentando finalizar la operacion  ${t.excavatorList[0].deviceAlias}, si ocurre algun error se le informará`},void 0)]}),void 0),(0,i.jsx)($e,{open:l,handleClose:()=>{o(void 0)},msg:u,severity:y},void 0)]}),void 0)]},void 0)};var vt=o(6562),mt=o(5477);function ft({open:e,setOpen:t,handleClickConfirm:o,children:r,loading:s,handleClose:n}){return(0,i.jsxs)(ct.Z,Object.assign({fullWidth:!0,maxWidth:"lg",open:e,onClose:n||(()=>{t(!1)}),"aria-labelledby":"max-width-dialog-title"},{children:[(0,i.jsx)(ut.Z,{children:r},void 0),(0,i.jsx)(gt.Z,{children:s?(0,i.jsx)(mt.Z,{},void 0):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.Z,Object.assign({onClick:n,color:"secondary"},{children:"Cancelar"}),void 0),(0,i.jsx)(c.Z,Object.assign({onClick:o,color:"primary"},{children:"Confirmar"}),void 0)]},void 0)},void 0)]}),void 0)}const jt=({operation:e,operations:t,setOperation:o,setRefresh:n})=>{if(!e)return(0,i.jsx)(i.Fragment,{},void 0);const[a,p]=(0,O.useState)([]),[l]=(0,O.useState)(e),[c,d]=O.useState(!1),[u,b]=O.useState(!1),[v,m]=(0,O.useState)(),[f,j]=(0,O.useState)(!1),[x,S]=(0,O.useState)(""),[M,T]=(0,O.useState)(""),k=()=>{o(void 0)},F=e=>{m(e.target.value)},D=e=>!!a.find((t=>e.id===t.id)),w=l.excavatorList&&l.excavatorList.length>0?l.excavatorList[0]:{};return(0,i.jsxs)(ft,Object.assign({},{loading:u},{open:!!e,setOpen:()=>o(void 0),handleClickConfirm:()=>{a.length>0&&v&&e.id?d(!0):(j(!0),S("warning"),T("Es necesario seleccionar algún camión y una excavadora"))},handleClose:k},{children:[(0,i.jsx)(s.Z,Object.assign({container:!0},{children:(0,i.jsx)(s.Z,Object.assign({item:!0,xs:12},{children:(0,i.jsx)(g.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Reasignación de camiones"}),void 0)}),void 0)}),void 0),(0,i.jsxs)(s.Z,Object.assign({container:!0,style:{paddingLeft:4}},{children:[(0,i.jsx)(s.Z,Object.assign({item:!0,xs:6},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(y.Z,Object.assign({subheader:(0,i.jsxs)(h.Z,Object.assign({component:"div",id:"nested-list-subheader"},{children:["Camiones en ",w.deviceAlias]}),void 0)},{children:(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{children:(0,i.jsx)(vt.Z,{children:l.truckList.map((e=>(0,i.jsx)(le.Z,{checked:D(e),value:e.id,control:(0,i.jsx)(de.Z,{onClick:()=>(e=>{const t=a.findIndex((t=>t.deviceId===e.deviceId));-1===t?a.push(e):a.splice(t,1),p(JSON.parse(JSON.stringify(a)))})(e)},void 0),label:`${e.deviceAlias}`},e.id)))},void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0,xs:6},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(y.Z,Object.assign({subheader:(0,i.jsx)(h.Z,Object.assign({component:"div"},{children:"Excavadora destino"}),void 0)},{children:(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{children:(0,i.jsx)(ae.Z,Object.assign({component:"fieldset"},{children:(0,i.jsx)(pe.Z,Object.assign({"aria-label":"gender",name:"radio-buttons-group"},{children:t.map((e=>3!==e.state&&(0,i.jsx)(le.Z,{value:e.id,disabled:l.id===e.id,control:(0,i.jsx)(ce.Z,{},void 0),onChange:F,label:`${e.excavatorList[0].deviceAlias}`},e.id)))}),void 0)}),void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0),(0,i.jsx)(bt,{open:c,handleClose:k,handleConfirm:()=>{((e,t,o,i,r)=>{Ot(void 0,void 0,void 0,(function*(){o(!0);const s=yield Ae(e,t);console.log("responseAssigment",s),o(!1),i((e=>!e)),r(void 0);let n="";s.truckErrorList.length>0&&s.truckErrorList.forEach((e=>{const t=1===e.state?"CARGANDO":"A DESCARGA";n+=` ${e.truckError.deviceAlias}=> ${t},`})),""!==n&&alert(`Las siguientes unidades no han podido ser reasignadas: ${n}`)}))})(v,a,b,n,o),d(!1)},title:"¿Esta seguro?",message:"Intentaremos mover estos camiones, si ocurre algun error se le informará"},void 0),(0,i.jsx)($e,{open:f,handleClose:()=>{j(!1)},msg:M,severity:x},void 0)]}),void 0)]}),void 0)};var xt=o(1860);const Rt=({value:e,cy:t})=>{switch(e){case Ye.PAD:return(0,i.jsx)(C.Z,{primary:`Descarga: ${Je[t.download.type]} -  ${t.download.pad.cellList[0].name}`},void 0);case Ye.DME:return(0,i.jsx)(C.Z,{primary:`Descarga: ${Je[t.download.type]} -  ${t.download.dme.cellList[0].name}`},void 0);case Ye.PIT:return(0,i.jsx)(C.Z,{primary:`Descarga: ${Je[t.download.type]} -  ${t.download.pit.cellList[0].name}`},void 0);case Ye.STOCK:return(0,i.jsx)(C.Z,{primary:`Descarga: ${Je[t.download.type]} -  ${t.download.stock.cellList[0].name}`},void 0);default:return(0,i.jsx)(i.Fragment,{},void 0)}},Ct=({value:e,cy:t})=>{switch(e){case Ye.PAD:return(0,i.jsx)(C.Z,{primary:`Carga: ${Je[t.upload.type]} -  ${t.upload.pad.projectList[0].name}-${t.upload.pad.projectList[0].polygonList[0].name}`},void 0);case Ye.DME:return(0,i.jsx)(C.Z,{primary:`Carga: ${Je[t.upload.type]} -  ${t.upload.dme.projectList[0].name} - ${t.upload.dme.projectList[0].polygonList[0].name}`},void 0);case Ye.PIT:return(0,i.jsx)(C.Z,{primary:`Carga: ${Je[t.upload.type]} -  ${t.upload.pit.projectList[0].name}- ${t.upload.pit.projectList[0].polygonList[0].name}`},void 0);case Ye.STOCK:return(0,i.jsx)(C.Z,{primary:`Carga: ${Je[t.upload.type]} -  ${t.upload.stock.projectList[0].name}-${t.upload.stock.projectList[0].polygonList[0].name}`},void 0);default:return(0,i.jsx)(i.Fragment,{children:"node"},void 0)}},St=({cy:e})=>{const[t,o]=(0,O.useState)(!1),n=()=>{o(!t)},a=`${e.startTime.substring(0,19)} ${e.endTime?`--\x3e ${e.endTime.substring(0,19)}`:""}`;return(0,i.jsxs)(r.Z,Object.assign({elevation:1,style:{marginBottom:4},id:e.id},{children:[(0,i.jsxs)(R.Z,Object.assign({dense:!0,disableGutters:!0,selected:!0,button:!0,onClick:n},{children:[(0,i.jsx)(C.Z,{primary:`${e.truck.deviceAlias} `},void 0),(0,i.jsx)(xt.Z,Object.assign({onClick:n},{children:(0,i.jsxs)(s.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:[(0,i.jsx)(C.Z,{primary:a,onClick:n},void 0),t?(0,i.jsx)(q.Z,{fontSize:"small",onClick:n},void 0):(0,i.jsx)(J.Z,{fontSize:"small",onClick:n},void 0)]}),void 0)}),void 0)]}),void 0),(0,i.jsx)(U.Z,Object.assign({in:t,style:{paddingLeft:10}},{children:(0,i.jsxs)(y.Z,Object.assign({dense:!0,disablePadding:!0},{children:[(0,i.jsx)(R.Z,{children:(0,i.jsx)((()=>{let t="";return e.upload.pit&&(t="pit"),e.upload.stock&&(t="stock"),(0,i.jsx)(Ct,{value:t,cy:e},void 0)}),{},void 0)},void 0),(0,i.jsx)(R.Z,{children:(0,i.jsx)((()=>{let t="";return e.download.dme&&(t="dme"),e.download.pad&&(t="pad"),e.download.stock&&(t="stock"),(0,i.jsx)(Rt,{value:t,cy:e},void 0)}),{},void 0)},void 0),(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{primary:`Pala: ${e.excavator.deviceAlias}`},void 0)},void 0),(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{primary:`Camion: ${e.truck.deviceAlias}`},void 0)},void 0)]}),void 0)}),void 0)]}),e.id)};var Mt=o(6019),Tt=o(2930),kt=o(5639),Ft=o(2285);const Dt=(0,d.Z)((e=>({disabledSpacing:{},checkbox:{"& .MuiCheckbox-root":{margin:0,padding:0,paddingLeft:8}}}))),wt=({truck:e,checked:t,useTrucksSelect:o})=>{const r=Dt(),[s,n]=o;return console.log("truck",e),(0,i.jsx)(R.Z,Object.assign({button:!0,dense:!0,className:r.disabledSpacing},{children:(0,i.jsx)(le.Z,{className:r.checkbox,onChange:()=>{const t=s.findIndex((t=>e.deviceId===t.deviceId));-1===t?s.push(e):s.splice(t,1),n(JSON.parse(JSON.stringify(s)))},control:(0,i.jsx)(de.Z,{size:"small",checked:t,inputProps:{style:{padding:0}}},void 0),label:`${e.deviceAlias} `},void 0)}),void 0)};var Et=o(4673);function zt(e){return(0,i.jsx)(St,{cy:e},e.id)}const Zt=function({cycles:e}){const[t,o]=(0,O.useState)([]),[r,s]=(0,O.useState)([]);return(0,O.useEffect)((()=>{const t=e.map((e=>e.truck)),i=[...new Set(t.map((e=>e.deviceId)))];o(i.map((e=>t.find((t=>t.deviceId===e)))))}),[e.length]),(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{margin:"0px 8px"}},{children:[(0,i.jsx)(Mt.Z,Object.assign({id:"id-label"},{children:"Filtro por Camión"}),void 0),(0,i.jsx)(Tt.Z,Object.assign({labelId:"id-label",style:{width:"100%"},multiple:!0,value:r,onChange:e=>{const t=e.target.value;s(t)},renderValue:e=>(0,i.jsx)("div",{children:e.map((e=>(0,i.jsx)(pt.Z,{label:e,clickable:!0,deleteIcon:(0,i.jsx)(Et.Z,{onMouseDown:e=>e.stopPropagation()},void 0),onDelete:t=>(e=>{const t=r.findIndex((t=>t===e));t>=0&&r.splice(t,1),s(JSON.parse(JSON.stringify(r)))})(e)},e)))},void 0)},{children:t.map((e=>(0,i.jsxs)(kt.Z,Object.assign({value:e.deviceId},{children:[(0,i.jsx)(de.Z,{checked:!!r.find((t=>t===e.deviceId))},void 0),(0,i.jsx)(C.Z,{primary:e.deviceAlias},void 0)]}),e.deviceId)))}),void 0),(0,i.jsx)(Qe.Z,{height:4},void 0),0===r.length?e.map(zt):e.filter((e=>r.find((t=>t===e.truck.deviceId)))).map(zt)]}),void 0)},Lt=({operationSelect:e,setRefresh:t,setOperationSelect:o})=>{const n=(0,O.useState)([]),[a,p]=n,[l,d]=(0,O.useState)(!1),[u,b]=(0,O.useState)("success"),[h,v]=(0,O.useState)(""),m=e=>!!a.find((t=>e.id===t.id));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[e&&e.cycleList.length>0&&(0,i.jsx)(s.Z,Object.assign({item:!0,md:6},{children:(0,i.jsx)(Ft.Z,Object.assign({direction:"left",in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,i.jsxs)(r.Z,Object.assign({elevation:4},{children:[(0,i.jsx)(g.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Ciclos"}),void 0),(0,i.jsx)(Zt,{cycles:e.cycleList},void 0)]}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0,md:3,style:{paddingLeft:4}},{children:(0,i.jsx)(Ft.Z,Object.assign({in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,i.jsxs)(r.Z,Object.assign({elevation:4},{children:[(0,i.jsx)(g.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Camiones"}),void 0),(0,i.jsxs)(y.Z,Object.assign({dense:!0},{children:[e?e.truckList.map((e=>(0,i.jsx)(wt,{checked:m(e),useTrucksSelect:n,truck:e},e.id))):null,(0,i.jsx)(R.Z,{children:(0,i.jsx)(c.Z,Object.assign({onClick:()=>{a.length<=0&&(d(!0),v("Debe seleccionar por lo menos un camión"),b("warning")),((e,t,o,i,r,s,n)=>{Ot(void 0,void 0,void 0,(function*(){console.log("idOperation",e),console.log("eventRemoveTrucks",t);const a=yield((e,t)=>{const o={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},i=new Se,r=new Me;return i.setId(t),e.map((e=>{const t=new Be;t.setId(e.id),t.setDeviceId(e.deviceId),t.setDeviceAlias(e.deviceAlias),t.setDeviceInterval(e.deviceInterval),t.setDescription(e.description),t.setPlate(e.plate),i.addTruck(t)})),r.setOperation(i),new Promise(((e,t)=>{Ne.removeTrucksOperation(r,o,((o,i)=>{if(o)console.log("error message operations get",o.message),t(o);else{const t=i.toObject();console.log("removeTrucks",t),e(t)}}))}))})(t,e);console.log("responseRemoveTrucks",a),o((e=>!e)),i(!0),r("Camiones liberados"),s("success"),setTimeout((()=>{n(void 0)}),100),console.log("response",a)}))})(e.id,a,t,d,v,b,o)},color:"secondary",variant:"contained",size:"small"},{children:"Liberar Camiones"}),void 0)},void 0)]}),void 0)]}),void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0,md:3,style:{paddingLeft:4}},{children:(0,i.jsx)(Ft.Z,Object.assign({in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,i.jsxs)(r.Z,Object.assign({elevation:4},{children:[(0,i.jsx)(g.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Rutas"}),void 0),(0,i.jsx)(y.Z,Object.assign({dense:!0},{children:e?e.roadList.map((e=>(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{primary:`${e.name}`},void 0)},e.id))):null}),void 0)]}),void 0)}),void 0)}),void 0)]}),void 0),(0,i.jsx)($e,{open:l,handleClose:()=>{d(!1),o(void 0)},msg:h,severity:u},void 0)]},void 0)};var It=function(e,t,o,i){return new(o||(o=Promise))((function(r,s){function n(e){try{p(i.next(e))}catch(e){s(e)}}function a(e){try{p(i.throw(e))}catch(e){s(e)}}function p(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(n,a)}p((i=i.apply(e,t||[])).next())}))};const Bt=({open:e,setOpen:t,setRefresh:o,operations:n})=>{const[a,p]=(0,O.useState)([]),[l,c]=(0,O.useState)([]),[d,u]=(0,O.useState)([]),[b,v]=(0,O.useState)(""),m=(0,O.useState)([]),[f,j]=m,[x,S]=(0,O.useState)(!1),[M,k]=O.useState(!1),[F,D]=(0,O.useState)(!1),[w,E]=(0,O.useState)(""),[z,Z]=(0,O.useState)(""),L=()=>{D(!1)};(0,O.useEffect)((()=>{((e,t,o)=>{It(void 0,void 0,void 0,(function*(){(0,je.r)().then((t=>{e(t),o(t)})).catch((t=>{e([]),console.log(t)})),(0,xe.X)().then((e=>{t(e)})).catch((e=>{console.log(e),t([])}))}))})(p,u,c)}),[]);const I=e=>{v(e.target.value)},B=()=>{S(!1)},_=()=>{t(!1),j([]),v("")},W=()=>{f.length<=0||b.length<=0?(D(!0),Z("Debe seleccionar almenos una excabadora y un camion"),E("warning")):S(!0)},N=()=>{S(!1),t(!1),j([]),v(""),((e,t,o,i)=>{It(void 0,void 0,void 0,(function*(){o(!0);const r=yield Ae(e,t);console.log("responseAssigment",r),o(!1),i((e=>!e));let s="";r.truckErrorList.length>0&&r.truckErrorList.forEach((e=>{const t=1===e.state?"CARGANDO":"A DESCARGA";s+=` ${e.truckError.deviceAlias}=> ${t},`})),""!==s&&alert(`Las siguientes unidades no han podido ser reasignadas: ${s}`)}))})(b,f,k,o)},A=e=>!!f.find((t=>e.id===t.id)),P=e=>l.filter((t=>t.deviceAlias.includes(e)));return(0,i.jsx)(Oe.a.Consumer,{children:t=>(0,i.jsxs)(ft,Object.assign({},{loading:M},{open:e,handleClickConfirm:W,handleClose:_},{children:[(0,i.jsx)(s.Z,Object.assign({container:!0},{children:(0,i.jsx)(s.Z,Object.assign({item:!0,xs:12},{children:(0,i.jsx)(g.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Reasignación de camiones"}),void 0)}),void 0)}),void 0),(0,i.jsxs)(s.Z,Object.assign({container:!0,style:{paddingLeft:4}},{children:[(0,i.jsx)(s.Z,Object.assign({item:!0,xs:6},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,Object.assign({style:{position:"sticky",zIndex:1,top:0,background:"#f6f6f6",padding:2}},{children:(0,i.jsx)(T.V,{functionFilter:P,setItems:p,items:l,placeholder:"Camiones"},void 0)}),void 0),(0,i.jsxs)(y.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,maxHeight:"75vh",overflowY:"scroll"}},{children:[(0,i.jsx)(R.Z,{children:" "},void 0),(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{children:a.map((e=>(0,i.jsx)(be,{checked:A(e),useTrucksSelect:m,truck:e,streamTruck:t},e.id)))},void 0)},void 0)]}),void 0)]},void 0)}),void 0)}),void 0),(0,i.jsx)(s.Z,Object.assign({item:!0,xs:6},{children:(0,i.jsx)(r.Z,Object.assign({style:{margin:10}},{children:(0,i.jsx)(y.Z,Object.assign({subheader:(0,i.jsx)(h.Z,Object.assign({component:"div"},{children:"Excavadora destino"}),void 0)},{children:(0,i.jsx)(R.Z,{children:(0,i.jsx)(C.Z,{children:(0,i.jsx)(ae.Z,Object.assign({component:"fieldset"},{children:(0,i.jsx)(pe.Z,Object.assign({"aria-label":"gender",name:"radio-buttons-group"},{children:n.filter((e=>2===e.state)).map((e=>{var t;return(0,i.jsx)(le.Z,{value:e.id,control:(0,i.jsx)(ce.Z,{},void 0),onChange:I,label:`  ${null===(t=e.excavatorList[0])||void 0===t?void 0:t.deviceAlias}`},e.id)}))}),void 0)}),void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0)]}),void 0),(0,i.jsx)(bt,{open:x,handleClose:B,handleConfirm:N,title:"¿Esta seguro?",message:"Intentaremos mover estos camiones, si ocurre algun error se le informará"},void 0),(0,i.jsx)($e,{open:F,handleClose:L,msg:z,severity:w},void 0)]}),void 0)},void 0)};const _t=(0,st.Z)(),Wt=e=>{return t=void 0,o=void 0,r=function*(){(()=>{const e={authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2MzQzODk4MDUsInVzZXJuYW1lIjoiZGlzcGF0Y2hlciIsInJvbGUiOiJESVMifQ.IIKVGiv1ve4AST9EdQ1XjujDWDG3qCHzF57knK7A1Y8"},t=new Se,o=new Me;return o.setOperation(t),new Promise(((t,i)=>{Ne.retrieveOperations(o,e,((e,o)=>{if(e)console.log("error message operations get",e.message),i(e);else{const e=o.toObject();console.log("operations",o),t(e.operationsList?e.operationsList:[])}}))}))})().then((t=>{console.log("opers",t),e(t)})).catch((t=>{e([]),console.log(t)}))},new((i=void 0)||(i=Promise))((function(e,s){function n(e){try{p(r.next(e))}catch(e){s(e)}}function a(e){try{p(r.throw(e))}catch(e){s(e)}}function p(t){var o;t.done?e(t.value):(o=t.value,o instanceof i?o:new i((function(e){e(o)}))).then(n,a)}p((r=r.apply(t,o||[])).next())}));var t,o,i,r},Nt=(0,f.Z)((e=>({root:{flexDirection:"column","& .ant-empty-img-1":{fill:"light"===e.palette.type?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===e.palette.type?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===e.palette.type?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===e.palette.type?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===e.palette.type?"0.8":"0.08",fill:"light"===e.palette.type?"#f5f5f5":"#fff"}},label:{marginTop:e.spacing(1)}})),{defaultTheme:_t});function At(){const e=Nt();return(0,i.jsxs)(et.nik,Object.assign({className:e.root},{children:[(0,i.jsx)("svg",Object.assign({width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false"},{children:(0,i.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,i.jsxs)("g",Object.assign({transform:"translate(24 31.67)"},{children:[(0,i.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},void 0),(0,i.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},void 0),(0,i.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},void 0),(0,i.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},void 0)]}),void 0),(0,i.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},void 0),(0,i.jsxs)("g",Object.assign({className:"ant-empty-img-4",transform:"translate(149.65 15.383)"},{children:[(0,i.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},void 0),(0,i.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},void 0)]}),void 0)]}),void 0)}),void 0),(0,i.jsx)("div",Object.assign({className:e.label},{children:"Sin datos"}),void 0)]}),void 0)}const Pt=({setIsNew:e})=>{const[t,o]=(0,O.useState)([]),[a,p]=(0,O.useState)(!1),[l,d]=(0,O.useState)(null),[u,b]=(0,O.useState)(null),[y,h]=(0,O.useState)([{field:"startTime",sort:"desc"}]),v=t.map((e=>Object.assign(Object.assign({},e),{startTime:e.startTime.substring(0,19),trunks:e.truckList.map((e=>e.deviceAlias)),excavator:e.excavatorList.map((e=>e.deviceAlias)),typeUpload:Je[e.upload.type],typeDownload:Je[e.download.type],state:Ve[e.state],cycles:e.cycleList.length})));console.log("rows",v);const[m,f]=(0,O.useState)(!1);return(0,O.useEffect)((()=>{Wt(o)}),[a]),(0,i.jsx)(Qe.Z,Object.assign({m:2},{children:(0,i.jsxs)(r.Z,Object.assign({style:{height:l?"100%":"90vh",overflowY:"scroll",display:"flex",flexDirection:"column"}},{children:[l||u?null:(0,i.jsxs)(Qe.Z,Object.assign({m:.5},{children:[(0,i.jsx)(g.Z,Object.assign({variant:"h5"},{children:"Lista de operaciones"}),void 0),(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[(0,i.jsx)(c.Z,Object.assign({onClick:()=>e(!0),color:"primary",variant:"contained",size:"small",startIcon:(0,i.jsx)(tt.Z,{fontSize:"small"},void 0)},{children:"Nueva Operación"}),void 0),(0,i.jsx)(c.Z,Object.assign({onClick:()=>{f(!0)},color:"primary",variant:"contained",size:"small",startIcon:(0,i.jsx)(ot.Z,{fontSize:"small"},void 0)},{children:"Reasignacion"}),void 0),(0,i.jsx)(c.Z,Object.assign({onClick:()=>{p((e=>!e))},color:"secondary",variant:"contained",size:"small",startIcon:(0,i.jsx)(it.Z,{fontSize:"small"},void 0)},{children:"Recargar Tabla"}),void 0)]}),void 0)]}),void 0),l&&(0,i.jsxs)(n.Z,Object.assign({color:"primary",size:"small",onClick:()=>{d(void 0),b(void 0)}},{children:[(0,i.jsx)(rt.Z,{fontSize:"small"},void 0),"Regresar"]}),void 0),l?(0,i.jsx)(ht,{operation:l,setRefresh:p,setOperationSelect:d},void 0):null,(0,i.jsx)(jt,Object.assign({operations:t,operation:u,setOperation:b},{setRefresh:p}),void 0),(0,i.jsx)(s.Z,Object.assign({container:!0,style:{padding:4,flex:1}},{children:l?(0,i.jsx)(Lt,Object.assign({},{operationSelect:l,setRefresh:p,setOperationSelect:d}),void 0):(0,i.jsx)(et._$r,{rows:v,columns:at({setOperationSelect:d},{setReassignSelect:b}),components:{NoRowsOverlay:At},density:"compact",sortModel:y,onSortModelChange:e=>(e=>{console.log("sortModel",y),console.log("model",e),console.log("sortModellength",e.length),0!=e.length?e[0].field!=y[0].field||e[0].sort!=y[0].sort?h(e):console.log("else"):"desc"==y[0].sort?h([Object.assign(Object.assign({},y[0]),{sort:"asc"})]):h([Object.assign(Object.assign({},y[0]),{sort:"desc"})])})(e)},void 0)}),void 0),(0,i.jsx)(Bt,{open:m,setOpen:f,setRefresh:p,operations:t},void 0)]}),void 0)}),void 0)},Ut=(0,O.createContext)(null),$t=()=>{const[e,t]=(0,O.useState)(-78.196),[o,r]=(0,O.useState)(-7.6163),n=(0,O.useRef)(null),a=(0,O.useRef)(null),[p,l]=(0,O.useState)(14.81),[c,d]=(0,O.useState)(!1);return(0,O.useEffect)((()=>{c||(a.current=null)}),[c]),(0,i.jsx)(Ut.Provider,Object.assign({value:a.current},{children:c?(0,i.jsxs)(s.Z,Object.assign({container:!0},{children:[(0,i.jsx)(qe,{map:a,setZoom:l,setIsNew:d},void 0),(0,i.jsx)(Xe.Z,Object.assign({map:a,dragRotate:!1,style:"mapbox://styles/dispatchgat/ckqqsfc2y46bo17sf1y29zwnj",mapContainer:n,bearing:0,pitch:15},{lat:o,lng:e,zoom:p,setLat:r,setLng:t,setZoom:l,setLoad:()=>{}}),"map1")]}),void 0):(0,i.jsx)(Pt,{setIsNew:d},void 0)}),void 0)};function Gt(){return(0,i.jsx)("div",{children:(0,i.jsx)($t,{},void 0)},void 0)}},2357:(e,t,o)=>{var i=o(3019),r=i,s=Function("return this")(),n=o(3779);r.object.extend(proto,n);var a=o(6034);r.object.extend(proto,a);var p=o(4188);r.object.extend(proto,p);var l=o(7007);r.object.extend(proto,l);var c=o(1783);r.object.extend(proto,c),r.exportSymbol("proto.pb.Cycle",null,s),r.exportSymbol("proto.pb.Cycle.Mode",null,s),r.exportSymbol("proto.pb.Cycle.Shift",null,s),r.exportSymbol("proto.pb.Cycle.State",null,s),r.exportSymbol("proto.pb.CycleRequest",null,s),r.exportSymbol("proto.pb.CycleResponse",null,s),r.exportSymbol("proto.pb.CyclesResponse",null,s),proto.pb.Cycle=function(e){i.Message.initialize(this,e,0,-1,proto.pb.Cycle.repeatedFields_,null)},r.inherits(proto.pb.Cycle,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.Cycle.displayName="proto.pb.Cycle"),proto.pb.CycleRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.CycleRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.CycleRequest.displayName="proto.pb.CycleRequest"),proto.pb.CycleResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.CycleResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.CycleResponse.displayName="proto.pb.CycleResponse"),proto.pb.CyclesResponse=function(e){i.Message.initialize(this,e,0,-1,proto.pb.CyclesResponse.repeatedFields_,null)},r.inherits(proto.pb.CyclesResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.CyclesResponse.displayName="proto.pb.CyclesResponse"),proto.pb.Cycle.repeatedFields_=[19],i.Message.GENERATE_TO_OBJECT&&(proto.pb.Cycle.prototype.toObject=function(e){return proto.pb.Cycle.toObject(e,this)},proto.pb.Cycle.toObject=function(e,t){var o,r={id:i.Message.getFieldWithDefault(t,1,""),operationId:i.Message.getFieldWithDefault(t,2,""),name:i.Message.getFieldWithDefault(t,3,""),description:i.Message.getFieldWithDefault(t,4,""),arrivalTime:i.Message.getFieldWithDefault(t,5,""),startTime:i.Message.getFieldWithDefault(t,6,""),endTime:i.Message.getFieldWithDefault(t,7,""),number:i.Message.getFieldWithDefault(t,8,0),distance:i.Message.getFloatingPointFieldWithDefault(t,9,0),duration:i.Message.getFloatingPointFieldWithDefault(t,10,0),mode:i.Message.getFieldWithDefault(t,11,0),state:i.Message.getFieldWithDefault(t,12,0),shift:i.Message.getFieldWithDefault(t,13,0),upload:(o=t.getUpload())&&c.Upload.toObject(e,o),download:(o=t.getDownload())&&c.Download.toObject(e,o),material:(o=t.getMaterial())&&p.Material.toObject(e,o),truck:(o=t.getTruck())&&n.Truck.toObject(e,o),excavator:(o=t.getExcavator())&&a.Excavator.toObject(e,o),truckinfoList:i.Message.toObjectList(t.getTruckinfoList(),l.TruckInfo.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.Cycle.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.Cycle;return proto.pb.Cycle.deserializeBinaryFromReader(o,t)},proto.pb.Cycle.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=t.readString();e.setId(o);break;case 2:o=t.readString(),e.setOperationId(o);break;case 3:o=t.readString(),e.setName(o);break;case 4:o=t.readString(),e.setDescription(o);break;case 5:o=t.readString(),e.setArrivalTime(o);break;case 6:o=t.readString(),e.setStartTime(o);break;case 7:o=t.readString(),e.setEndTime(o);break;case 8:o=t.readInt64(),e.setNumber(o);break;case 9:o=t.readDouble(),e.setDistance(o);break;case 10:o=t.readDouble(),e.setDuration(o);break;case 11:o=t.readEnum(),e.setMode(o);break;case 12:o=t.readEnum(),e.setState(o);break;case 13:o=t.readEnum(),e.setShift(o);break;case 14:o=new c.Upload,t.readMessage(o,c.Upload.deserializeBinaryFromReader),e.setUpload(o);break;case 15:o=new c.Download,t.readMessage(o,c.Download.deserializeBinaryFromReader),e.setDownload(o);break;case 16:o=new p.Material,t.readMessage(o,p.Material.deserializeBinaryFromReader),e.setMaterial(o);break;case 17:o=new n.Truck,t.readMessage(o,n.Truck.deserializeBinaryFromReader),e.setTruck(o);break;case 18:o=new a.Excavator,t.readMessage(o,a.Excavator.deserializeBinaryFromReader),e.setExcavator(o);break;case 19:o=new l.TruckInfo,t.readMessage(o,l.TruckInfo.deserializeBinaryFromReader),e.addTruckinfo(o);break;default:t.skipField()}return e},proto.pb.Cycle.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.Cycle.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Cycle.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getId()).length>0&&t.writeString(1,o),(o=e.getOperationId()).length>0&&t.writeString(2,o),(o=e.getName()).length>0&&t.writeString(3,o),(o=e.getDescription()).length>0&&t.writeString(4,o),(o=e.getArrivalTime()).length>0&&t.writeString(5,o),(o=e.getStartTime()).length>0&&t.writeString(6,o),(o=e.getEndTime()).length>0&&t.writeString(7,o),0!==(o=e.getNumber())&&t.writeInt64(8,o),0!==(o=e.getDistance())&&t.writeDouble(9,o),0!==(o=e.getDuration())&&t.writeDouble(10,o),0!==(o=e.getMode())&&t.writeEnum(11,o),0!==(o=e.getState())&&t.writeEnum(12,o),0!==(o=e.getShift())&&t.writeEnum(13,o),null!=(o=e.getUpload())&&t.writeMessage(14,o,c.Upload.serializeBinaryToWriter),null!=(o=e.getDownload())&&t.writeMessage(15,o,c.Download.serializeBinaryToWriter),null!=(o=e.getMaterial())&&t.writeMessage(16,o,p.Material.serializeBinaryToWriter),null!=(o=e.getTruck())&&t.writeMessage(17,o,n.Truck.serializeBinaryToWriter),null!=(o=e.getExcavator())&&t.writeMessage(18,o,a.Excavator.serializeBinaryToWriter),(o=e.getTruckinfoList()).length>0&&t.writeRepeatedMessage(19,o,l.TruckInfo.serializeBinaryToWriter)},proto.pb.Cycle.State={UNKNOWN_STATE:0,OPENED:1,CLOSED:2},proto.pb.Cycle.Mode={UNKNOWN_MODE:0,NORMAL:1,ALTERED:2},proto.pb.Cycle.Shift={UNKNOWN_SHIFT:0,NIGHT:1,DAY:2},proto.pb.Cycle.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.pb.Cycle.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.pb.Cycle.prototype.getOperationId=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.pb.Cycle.prototype.setOperationId=function(e){return i.Message.setProto3StringField(this,2,e)},proto.pb.Cycle.prototype.getName=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.pb.Cycle.prototype.setName=function(e){return i.Message.setProto3StringField(this,3,e)},proto.pb.Cycle.prototype.getDescription=function(){return i.Message.getFieldWithDefault(this,4,"")},proto.pb.Cycle.prototype.setDescription=function(e){return i.Message.setProto3StringField(this,4,e)},proto.pb.Cycle.prototype.getArrivalTime=function(){return i.Message.getFieldWithDefault(this,5,"")},proto.pb.Cycle.prototype.setArrivalTime=function(e){return i.Message.setProto3StringField(this,5,e)},proto.pb.Cycle.prototype.getStartTime=function(){return i.Message.getFieldWithDefault(this,6,"")},proto.pb.Cycle.prototype.setStartTime=function(e){return i.Message.setProto3StringField(this,6,e)},proto.pb.Cycle.prototype.getEndTime=function(){return i.Message.getFieldWithDefault(this,7,"")},proto.pb.Cycle.prototype.setEndTime=function(e){return i.Message.setProto3StringField(this,7,e)},proto.pb.Cycle.prototype.getNumber=function(){return i.Message.getFieldWithDefault(this,8,0)},proto.pb.Cycle.prototype.setNumber=function(e){return i.Message.setProto3IntField(this,8,e)},proto.pb.Cycle.prototype.getDistance=function(){return i.Message.getFloatingPointFieldWithDefault(this,9,0)},proto.pb.Cycle.prototype.setDistance=function(e){return i.Message.setProto3FloatField(this,9,e)},proto.pb.Cycle.prototype.getDuration=function(){return i.Message.getFloatingPointFieldWithDefault(this,10,0)},proto.pb.Cycle.prototype.setDuration=function(e){return i.Message.setProto3FloatField(this,10,e)},proto.pb.Cycle.prototype.getMode=function(){return i.Message.getFieldWithDefault(this,11,0)},proto.pb.Cycle.prototype.setMode=function(e){return i.Message.setProto3EnumField(this,11,e)},proto.pb.Cycle.prototype.getState=function(){return i.Message.getFieldWithDefault(this,12,0)},proto.pb.Cycle.prototype.setState=function(e){return i.Message.setProto3EnumField(this,12,e)},proto.pb.Cycle.prototype.getShift=function(){return i.Message.getFieldWithDefault(this,13,0)},proto.pb.Cycle.prototype.setShift=function(e){return i.Message.setProto3EnumField(this,13,e)},proto.pb.Cycle.prototype.getUpload=function(){return i.Message.getWrapperField(this,c.Upload,14)},proto.pb.Cycle.prototype.setUpload=function(e){return i.Message.setWrapperField(this,14,e)},proto.pb.Cycle.prototype.clearUpload=function(){return this.setUpload(void 0)},proto.pb.Cycle.prototype.hasUpload=function(){return null!=i.Message.getField(this,14)},proto.pb.Cycle.prototype.getDownload=function(){return i.Message.getWrapperField(this,c.Download,15)},proto.pb.Cycle.prototype.setDownload=function(e){return i.Message.setWrapperField(this,15,e)},proto.pb.Cycle.prototype.clearDownload=function(){return this.setDownload(void 0)},proto.pb.Cycle.prototype.hasDownload=function(){return null!=i.Message.getField(this,15)},proto.pb.Cycle.prototype.getMaterial=function(){return i.Message.getWrapperField(this,p.Material,16)},proto.pb.Cycle.prototype.setMaterial=function(e){return i.Message.setWrapperField(this,16,e)},proto.pb.Cycle.prototype.clearMaterial=function(){return this.setMaterial(void 0)},proto.pb.Cycle.prototype.hasMaterial=function(){return null!=i.Message.getField(this,16)},proto.pb.Cycle.prototype.getTruck=function(){return i.Message.getWrapperField(this,n.Truck,17)},proto.pb.Cycle.prototype.setTruck=function(e){return i.Message.setWrapperField(this,17,e)},proto.pb.Cycle.prototype.clearTruck=function(){return this.setTruck(void 0)},proto.pb.Cycle.prototype.hasTruck=function(){return null!=i.Message.getField(this,17)},proto.pb.Cycle.prototype.getExcavator=function(){return i.Message.getWrapperField(this,a.Excavator,18)},proto.pb.Cycle.prototype.setExcavator=function(e){return i.Message.setWrapperField(this,18,e)},proto.pb.Cycle.prototype.clearExcavator=function(){return this.setExcavator(void 0)},proto.pb.Cycle.prototype.hasExcavator=function(){return null!=i.Message.getField(this,18)},proto.pb.Cycle.prototype.getTruckinfoList=function(){return i.Message.getRepeatedWrapperField(this,l.TruckInfo,19)},proto.pb.Cycle.prototype.setTruckinfoList=function(e){return i.Message.setRepeatedWrapperField(this,19,e)},proto.pb.Cycle.prototype.addTruckinfo=function(e,t){return i.Message.addToRepeatedWrapperField(this,19,e,proto.pb.TruckInfo,t)},proto.pb.Cycle.prototype.clearTruckinfoList=function(){return this.setTruckinfoList([])},i.Message.GENERATE_TO_OBJECT&&(proto.pb.CycleRequest.prototype.toObject=function(e){return proto.pb.CycleRequest.toObject(e,this)},proto.pb.CycleRequest.toObject=function(e,t){var o,i={cycle:(o=t.getCycle())&&proto.pb.Cycle.toObject(e,o)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.CycleRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.CycleRequest;return proto.pb.CycleRequest.deserializeBinaryFromReader(o,t)},proto.pb.CycleRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Cycle;t.readMessage(o,proto.pb.Cycle.deserializeBinaryFromReader),e.setCycle(o);break;default:t.skipField()}return e},proto.pb.CycleRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.CycleRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.CycleRequest.serializeBinaryToWriter=function(e,t){var o;null!=(o=e.getCycle())&&t.writeMessage(1,o,proto.pb.Cycle.serializeBinaryToWriter)},proto.pb.CycleRequest.prototype.getCycle=function(){return i.Message.getWrapperField(this,proto.pb.Cycle,1)},proto.pb.CycleRequest.prototype.setCycle=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.CycleRequest.prototype.clearCycle=function(){return this.setCycle(void 0)},proto.pb.CycleRequest.prototype.hasCycle=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.pb.CycleResponse.prototype.toObject=function(e){return proto.pb.CycleResponse.toObject(e,this)},proto.pb.CycleResponse.toObject=function(e,t){var o,i={cycle:(o=t.getCycle())&&proto.pb.Cycle.toObject(e,o)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.CycleResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.CycleResponse;return proto.pb.CycleResponse.deserializeBinaryFromReader(o,t)},proto.pb.CycleResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Cycle;t.readMessage(o,proto.pb.Cycle.deserializeBinaryFromReader),e.setCycle(o);break;default:t.skipField()}return e},proto.pb.CycleResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.CycleResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.CycleResponse.serializeBinaryToWriter=function(e,t){var o;null!=(o=e.getCycle())&&t.writeMessage(1,o,proto.pb.Cycle.serializeBinaryToWriter)},proto.pb.CycleResponse.prototype.getCycle=function(){return i.Message.getWrapperField(this,proto.pb.Cycle,1)},proto.pb.CycleResponse.prototype.setCycle=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.CycleResponse.prototype.clearCycle=function(){return this.setCycle(void 0)},proto.pb.CycleResponse.prototype.hasCycle=function(){return null!=i.Message.getField(this,1)},proto.pb.CyclesResponse.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.pb.CyclesResponse.prototype.toObject=function(e){return proto.pb.CyclesResponse.toObject(e,this)},proto.pb.CyclesResponse.toObject=function(e,t){var o={cyclesList:i.Message.toObjectList(t.getCyclesList(),proto.pb.Cycle.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.pb.CyclesResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.CyclesResponse;return proto.pb.CyclesResponse.deserializeBinaryFromReader(o,t)},proto.pb.CyclesResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Cycle;t.readMessage(o,proto.pb.Cycle.deserializeBinaryFromReader),e.addCycles(o);break;default:t.skipField()}return e},proto.pb.CyclesResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.CyclesResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.CyclesResponse.serializeBinaryToWriter=function(e,t){var o;(o=e.getCyclesList()).length>0&&t.writeRepeatedMessage(1,o,proto.pb.Cycle.serializeBinaryToWriter)},proto.pb.CyclesResponse.prototype.getCyclesList=function(){return i.Message.getRepeatedWrapperField(this,proto.pb.Cycle,1)},proto.pb.CyclesResponse.prototype.setCyclesList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.pb.CyclesResponse.prototype.addCycles=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.pb.Cycle,t)},proto.pb.CyclesResponse.prototype.clearCyclesList=function(){return this.setCyclesList([])},r.object.extend(t,proto.pb)},7872:(e,t,o)=>{const i={};i.web=o(3040),o(3779),o(6034),o(3112),o(2357),o(1783);const r={};r.pb=o(2799),r.pb.OperationServiceClient=function(e,t,o){o||(o={}),o.format="text",this.client_=new i.web.GrpcWebClientBase(o),this.hostname_=e},r.pb.OperationServicePromiseClient=function(e,t,o){o||(o={}),o.format="text",this.client_=new i.web.GrpcWebClientBase(o),this.hostname_=e};const s=new i.web.MethodDescriptor("/pb.OperationService/CreateOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.createOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/CreateOperation",e,t||{},s,o)},r.pb.OperationServicePromiseClient.prototype.createOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/CreateOperation",e,t||{},s)};const n=new i.web.MethodDescriptor("/pb.OperationService/RetrieveOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.retrieveOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/RetrieveOperation",e,t||{},n,o)},r.pb.OperationServicePromiseClient.prototype.retrieveOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/RetrieveOperation",e,t||{},n)};const a=new i.web.MethodDescriptor("/pb.OperationService/RetrieveOperations",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationsResponse,(function(e){return e.serializeBinary()}),r.pb.OperationsResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationsResponse,(function(e){return e.serializeBinary()}),r.pb.OperationsResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.retrieveOperations=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/RetrieveOperations",e,t||{},a,o)},r.pb.OperationServicePromiseClient.prototype.retrieveOperations=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/RetrieveOperations",e,t||{},a)};const p=new i.web.MethodDescriptor("/pb.OperationService/UpdateOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.updateOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/UpdateOperation",e,t||{},p,o)},r.pb.OperationServicePromiseClient.prototype.updateOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/UpdateOperation",e,t||{},p)};const l=new i.web.MethodDescriptor("/pb.OperationService/DeleteOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.deleteOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/DeleteOperation",e,t||{},l,o)},r.pb.OperationServicePromiseClient.prototype.deleteOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/DeleteOperation",e,t||{},l)};const c=new i.web.MethodDescriptor("/pb.OperationService/RemoveTrucksOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationResponse,(function(e){return e.serializeBinary()}),r.pb.OperationResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.removeTrucksOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/RemoveTrucksOperation",e,t||{},c,o)},r.pb.OperationServicePromiseClient.prototype.removeTrucksOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/RemoveTrucksOperation",e,t||{},c)};const d=new i.web.MethodDescriptor("/pb.OperationService/ReassigmentTrucksOperation",i.web.MethodType.UNARY,r.pb.OperationReassigmentRequest,r.pb.OperationReassigmentResponse,(function(e){return e.serializeBinary()}),r.pb.OperationReassigmentResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationReassigmentResponse,(function(e){return e.serializeBinary()}),r.pb.OperationReassigmentResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.reassigmentTrucksOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/ReassigmentTrucksOperation",e,t||{},d,o)},r.pb.OperationServicePromiseClient.prototype.reassigmentTrucksOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/ReassigmentTrucksOperation",e,t||{},d)};const u=new i.web.MethodDescriptor("/pb.OperationService/FinalizeOperation",i.web.MethodType.UNARY,r.pb.OperationRequest,r.pb.OperationFinalizeResponse,(function(e){return e.serializeBinary()}),r.pb.OperationFinalizeResponse.deserializeBinary);new i.web.AbstractClientBase.MethodInfo(r.pb.OperationFinalizeResponse,(function(e){return e.serializeBinary()}),r.pb.OperationFinalizeResponse.deserializeBinary),r.pb.OperationServiceClient.prototype.finalizeOperation=function(e,t,o){return this.client_.rpcCall(this.hostname_+"/pb.OperationService/FinalizeOperation",e,t||{},u,o)},r.pb.OperationServicePromiseClient.prototype.finalizeOperation=function(e,t){return this.client_.unaryCall(this.hostname_+"/pb.OperationService/FinalizeOperation",e,t||{},u)},e.exports=r.pb},2799:(e,t,o)=>{var i=o(3019),r=i,s=Function("return this")(),n=o(3779);r.object.extend(proto,n);var a=o(6034);r.object.extend(proto,a);var p=o(3112);r.object.extend(proto,p);var l=o(2357);r.object.extend(proto,l);var c=o(1783);r.object.extend(proto,c),r.exportSymbol("proto.pb.Operation",null,s),r.exportSymbol("proto.pb.Operation.Shift",null,s),r.exportSymbol("proto.pb.Operation.State",null,s),r.exportSymbol("proto.pb.OperationFinalizeResponse",null,s),r.exportSymbol("proto.pb.OperationReassigmentRequest",null,s),r.exportSymbol("proto.pb.OperationReassigmentResponse",null,s),r.exportSymbol("proto.pb.OperationRequest",null,s),r.exportSymbol("proto.pb.OperationResponse",null,s),r.exportSymbol("proto.pb.OperationsResponse",null,s),r.exportSymbol("proto.pb.TruckStateMessage",null,s),r.exportSymbol("proto.pb.TruckStateMessage.State",null,s),proto.pb.Operation=function(e){i.Message.initialize(this,e,0,-1,proto.pb.Operation.repeatedFields_,null)},r.inherits(proto.pb.Operation,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.Operation.displayName="proto.pb.Operation"),proto.pb.OperationRequest=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.OperationRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationRequest.displayName="proto.pb.OperationRequest"),proto.pb.OperationResponse=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.OperationResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationResponse.displayName="proto.pb.OperationResponse"),proto.pb.TruckStateMessage=function(e){i.Message.initialize(this,e,0,-1,null,null)},r.inherits(proto.pb.TruckStateMessage,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.TruckStateMessage.displayName="proto.pb.TruckStateMessage"),proto.pb.OperationsResponse=function(e){i.Message.initialize(this,e,0,-1,proto.pb.OperationsResponse.repeatedFields_,null)},r.inherits(proto.pb.OperationsResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationsResponse.displayName="proto.pb.OperationsResponse"),proto.pb.OperationReassigmentRequest=function(e){i.Message.initialize(this,e,0,-1,proto.pb.OperationReassigmentRequest.repeatedFields_,null)},r.inherits(proto.pb.OperationReassigmentRequest,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationReassigmentRequest.displayName="proto.pb.OperationReassigmentRequest"),proto.pb.OperationReassigmentResponse=function(e){i.Message.initialize(this,e,0,-1,proto.pb.OperationReassigmentResponse.repeatedFields_,null)},r.inherits(proto.pb.OperationReassigmentResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationReassigmentResponse.displayName="proto.pb.OperationReassigmentResponse"),proto.pb.OperationFinalizeResponse=function(e){i.Message.initialize(this,e,0,-1,proto.pb.OperationFinalizeResponse.repeatedFields_,null)},r.inherits(proto.pb.OperationFinalizeResponse,i.Message),r.DEBUG&&!COMPILED&&(proto.pb.OperationFinalizeResponse.displayName="proto.pb.OperationFinalizeResponse"),proto.pb.Operation.repeatedFields_=[12,13,14,15],i.Message.GENERATE_TO_OBJECT&&(proto.pb.Operation.prototype.toObject=function(e){return proto.pb.Operation.toObject(e,this)},proto.pb.Operation.toObject=function(e,t){var o,r={id:i.Message.getFieldWithDefault(t,1,""),name:i.Message.getFieldWithDefault(t,2,""),description:i.Message.getFieldWithDefault(t,3,""),startTime:i.Message.getFieldWithDefault(t,4,""),endTime:i.Message.getFieldWithDefault(t,5,""),distance:i.Message.getFloatingPointFieldWithDefault(t,6,0),duration:i.Message.getFloatingPointFieldWithDefault(t,7,0),shift:i.Message.getFieldWithDefault(t,8,0),state:i.Message.getFieldWithDefault(t,9,0),upload:(o=t.getUpload())&&c.Upload.toObject(e,o),download:(o=t.getDownload())&&c.Download.toObject(e,o),roadList:i.Message.toObjectList(t.getRoadList(),p.Road.toObject,e),truckList:i.Message.toObjectList(t.getTruckList(),n.Truck.toObject,e),excavatorList:i.Message.toObjectList(t.getExcavatorList(),a.Excavator.toObject,e),cycleList:i.Message.toObjectList(t.getCycleList(),l.Cycle.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.Operation.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.Operation;return proto.pb.Operation.deserializeBinaryFromReader(o,t)},proto.pb.Operation.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=t.readString();e.setId(o);break;case 2:o=t.readString(),e.setName(o);break;case 3:o=t.readString(),e.setDescription(o);break;case 4:o=t.readString(),e.setStartTime(o);break;case 5:o=t.readString(),e.setEndTime(o);break;case 6:o=t.readDouble(),e.setDistance(o);break;case 7:o=t.readDouble(),e.setDuration(o);break;case 8:o=t.readEnum(),e.setShift(o);break;case 9:o=t.readEnum(),e.setState(o);break;case 10:o=new c.Upload,t.readMessage(o,c.Upload.deserializeBinaryFromReader),e.setUpload(o);break;case 11:o=new c.Download,t.readMessage(o,c.Download.deserializeBinaryFromReader),e.setDownload(o);break;case 12:o=new p.Road,t.readMessage(o,p.Road.deserializeBinaryFromReader),e.addRoad(o);break;case 13:o=new n.Truck,t.readMessage(o,n.Truck.deserializeBinaryFromReader),e.addTruck(o);break;case 14:o=new a.Excavator,t.readMessage(o,a.Excavator.deserializeBinaryFromReader),e.addExcavator(o);break;case 15:o=new l.Cycle,t.readMessage(o,l.Cycle.deserializeBinaryFromReader),e.addCycle(o);break;default:t.skipField()}return e},proto.pb.Operation.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.Operation.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.Operation.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getId()).length>0&&t.writeString(1,o),(o=e.getName()).length>0&&t.writeString(2,o),(o=e.getDescription()).length>0&&t.writeString(3,o),(o=e.getStartTime()).length>0&&t.writeString(4,o),(o=e.getEndTime()).length>0&&t.writeString(5,o),0!==(o=e.getDistance())&&t.writeDouble(6,o),0!==(o=e.getDuration())&&t.writeDouble(7,o),0!==(o=e.getShift())&&t.writeEnum(8,o),0!==(o=e.getState())&&t.writeEnum(9,o),null!=(o=e.getUpload())&&t.writeMessage(10,o,c.Upload.serializeBinaryToWriter),null!=(o=e.getDownload())&&t.writeMessage(11,o,c.Download.serializeBinaryToWriter),(o=e.getRoadList()).length>0&&t.writeRepeatedMessage(12,o,p.Road.serializeBinaryToWriter),(o=e.getTruckList()).length>0&&t.writeRepeatedMessage(13,o,n.Truck.serializeBinaryToWriter),(o=e.getExcavatorList()).length>0&&t.writeRepeatedMessage(14,o,a.Excavator.serializeBinaryToWriter),(o=e.getCycleList()).length>0&&t.writeRepeatedMessage(15,o,l.Cycle.serializeBinaryToWriter)},proto.pb.Operation.Shift={UNKNOWN_SHIFT:0,NIGHT:1,DAY:2},proto.pb.Operation.State={UNKNOWN_STATE:0,PENDING:1,OPENED:2,CLOSED:3},proto.pb.Operation.prototype.getId=function(){return i.Message.getFieldWithDefault(this,1,"")},proto.pb.Operation.prototype.setId=function(e){return i.Message.setProto3StringField(this,1,e)},proto.pb.Operation.prototype.getName=function(){return i.Message.getFieldWithDefault(this,2,"")},proto.pb.Operation.prototype.setName=function(e){return i.Message.setProto3StringField(this,2,e)},proto.pb.Operation.prototype.getDescription=function(){return i.Message.getFieldWithDefault(this,3,"")},proto.pb.Operation.prototype.setDescription=function(e){return i.Message.setProto3StringField(this,3,e)},proto.pb.Operation.prototype.getStartTime=function(){return i.Message.getFieldWithDefault(this,4,"")},proto.pb.Operation.prototype.setStartTime=function(e){return i.Message.setProto3StringField(this,4,e)},proto.pb.Operation.prototype.getEndTime=function(){return i.Message.getFieldWithDefault(this,5,"")},proto.pb.Operation.prototype.setEndTime=function(e){return i.Message.setProto3StringField(this,5,e)},proto.pb.Operation.prototype.getDistance=function(){return i.Message.getFloatingPointFieldWithDefault(this,6,0)},proto.pb.Operation.prototype.setDistance=function(e){return i.Message.setProto3FloatField(this,6,e)},proto.pb.Operation.prototype.getDuration=function(){return i.Message.getFloatingPointFieldWithDefault(this,7,0)},proto.pb.Operation.prototype.setDuration=function(e){return i.Message.setProto3FloatField(this,7,e)},proto.pb.Operation.prototype.getShift=function(){return i.Message.getFieldWithDefault(this,8,0)},proto.pb.Operation.prototype.setShift=function(e){return i.Message.setProto3EnumField(this,8,e)},proto.pb.Operation.prototype.getState=function(){return i.Message.getFieldWithDefault(this,9,0)},proto.pb.Operation.prototype.setState=function(e){return i.Message.setProto3EnumField(this,9,e)},proto.pb.Operation.prototype.getUpload=function(){return i.Message.getWrapperField(this,c.Upload,10)},proto.pb.Operation.prototype.setUpload=function(e){return i.Message.setWrapperField(this,10,e)},proto.pb.Operation.prototype.clearUpload=function(){return this.setUpload(void 0)},proto.pb.Operation.prototype.hasUpload=function(){return null!=i.Message.getField(this,10)},proto.pb.Operation.prototype.getDownload=function(){return i.Message.getWrapperField(this,c.Download,11)},proto.pb.Operation.prototype.setDownload=function(e){return i.Message.setWrapperField(this,11,e)},proto.pb.Operation.prototype.clearDownload=function(){return this.setDownload(void 0)},proto.pb.Operation.prototype.hasDownload=function(){return null!=i.Message.getField(this,11)},proto.pb.Operation.prototype.getRoadList=function(){return i.Message.getRepeatedWrapperField(this,p.Road,12)},proto.pb.Operation.prototype.setRoadList=function(e){return i.Message.setRepeatedWrapperField(this,12,e)},proto.pb.Operation.prototype.addRoad=function(e,t){return i.Message.addToRepeatedWrapperField(this,12,e,proto.pb.Road,t)},proto.pb.Operation.prototype.clearRoadList=function(){return this.setRoadList([])},proto.pb.Operation.prototype.getTruckList=function(){return i.Message.getRepeatedWrapperField(this,n.Truck,13)},proto.pb.Operation.prototype.setTruckList=function(e){return i.Message.setRepeatedWrapperField(this,13,e)},proto.pb.Operation.prototype.addTruck=function(e,t){return i.Message.addToRepeatedWrapperField(this,13,e,proto.pb.Truck,t)},proto.pb.Operation.prototype.clearTruckList=function(){return this.setTruckList([])},proto.pb.Operation.prototype.getExcavatorList=function(){return i.Message.getRepeatedWrapperField(this,a.Excavator,14)},proto.pb.Operation.prototype.setExcavatorList=function(e){return i.Message.setRepeatedWrapperField(this,14,e)},proto.pb.Operation.prototype.addExcavator=function(e,t){return i.Message.addToRepeatedWrapperField(this,14,e,proto.pb.Excavator,t)},proto.pb.Operation.prototype.clearExcavatorList=function(){return this.setExcavatorList([])},proto.pb.Operation.prototype.getCycleList=function(){return i.Message.getRepeatedWrapperField(this,l.Cycle,15)},proto.pb.Operation.prototype.setCycleList=function(e){return i.Message.setRepeatedWrapperField(this,15,e)},proto.pb.Operation.prototype.addCycle=function(e,t){return i.Message.addToRepeatedWrapperField(this,15,e,proto.pb.Cycle,t)},proto.pb.Operation.prototype.clearCycleList=function(){return this.setCycleList([])},i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationRequest.prototype.toObject=function(e){return proto.pb.OperationRequest.toObject(e,this)},proto.pb.OperationRequest.toObject=function(e,t){var o,i={operation:(o=t.getOperation())&&proto.pb.Operation.toObject(e,o)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.OperationRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationRequest;return proto.pb.OperationRequest.deserializeBinaryFromReader(o,t)},proto.pb.OperationRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Operation;t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.setOperation(o);break;default:t.skipField()}return e},proto.pb.OperationRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationRequest.serializeBinaryToWriter=function(e,t){var o;null!=(o=e.getOperation())&&t.writeMessage(1,o,proto.pb.Operation.serializeBinaryToWriter)},proto.pb.OperationRequest.prototype.getOperation=function(){return i.Message.getWrapperField(this,proto.pb.Operation,1)},proto.pb.OperationRequest.prototype.setOperation=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.OperationRequest.prototype.clearOperation=function(){return this.setOperation(void 0)},proto.pb.OperationRequest.prototype.hasOperation=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationResponse.prototype.toObject=function(e){return proto.pb.OperationResponse.toObject(e,this)},proto.pb.OperationResponse.toObject=function(e,t){var o,i={operation:(o=t.getOperation())&&proto.pb.Operation.toObject(e,o)};return e&&(i.$jspbMessageInstance=t),i}),proto.pb.OperationResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationResponse;return proto.pb.OperationResponse.deserializeBinaryFromReader(o,t)},proto.pb.OperationResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Operation;t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.setOperation(o);break;default:t.skipField()}return e},proto.pb.OperationResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationResponse.serializeBinaryToWriter=function(e,t){var o;null!=(o=e.getOperation())&&t.writeMessage(1,o,proto.pb.Operation.serializeBinaryToWriter)},proto.pb.OperationResponse.prototype.getOperation=function(){return i.Message.getWrapperField(this,proto.pb.Operation,1)},proto.pb.OperationResponse.prototype.setOperation=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.OperationResponse.prototype.clearOperation=function(){return this.setOperation(void 0)},proto.pb.OperationResponse.prototype.hasOperation=function(){return null!=i.Message.getField(this,1)},i.Message.GENERATE_TO_OBJECT&&(proto.pb.TruckStateMessage.prototype.toObject=function(e){return proto.pb.TruckStateMessage.toObject(e,this)},proto.pb.TruckStateMessage.toObject=function(e,t){var o,r={truckError:(o=t.getTruckError())&&n.Truck.toObject(e,o),state:i.Message.getFieldWithDefault(t,2,0)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.TruckStateMessage.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.TruckStateMessage;return proto.pb.TruckStateMessage.deserializeBinaryFromReader(o,t)},proto.pb.TruckStateMessage.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new n.Truck;t.readMessage(o,n.Truck.deserializeBinaryFromReader),e.setTruckError(o);break;case 2:o=t.readEnum(),e.setState(o);break;default:t.skipField()}return e},proto.pb.TruckStateMessage.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.TruckStateMessage.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.TruckStateMessage.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getTruckError())&&t.writeMessage(1,o,n.Truck.serializeBinaryToWriter),0!==(o=e.getState())&&t.writeEnum(2,o)},proto.pb.TruckStateMessage.State={UNKNOWN_STATE:0,UPLOAD:1,DOWNLOAD:2,TO_UPLOAD:3,TO_DOWNLOAD:4,WAITING:5,QUEUE:6},proto.pb.TruckStateMessage.prototype.getTruckError=function(){return i.Message.getWrapperField(this,n.Truck,1)},proto.pb.TruckStateMessage.prototype.setTruckError=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.TruckStateMessage.prototype.clearTruckError=function(){return this.setTruckError(void 0)},proto.pb.TruckStateMessage.prototype.hasTruckError=function(){return null!=i.Message.getField(this,1)},proto.pb.TruckStateMessage.prototype.getState=function(){return i.Message.getFieldWithDefault(this,2,0)},proto.pb.TruckStateMessage.prototype.setState=function(e){return i.Message.setProto3EnumField(this,2,e)},proto.pb.OperationsResponse.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationsResponse.prototype.toObject=function(e){return proto.pb.OperationsResponse.toObject(e,this)},proto.pb.OperationsResponse.toObject=function(e,t){var o={operationsList:i.Message.toObjectList(t.getOperationsList(),proto.pb.Operation.toObject,e)};return e&&(o.$jspbMessageInstance=t),o}),proto.pb.OperationsResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationsResponse;return proto.pb.OperationsResponse.deserializeBinaryFromReader(o,t)},proto.pb.OperationsResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Operation;t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.addOperations(o);break;default:t.skipField()}return e},proto.pb.OperationsResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationsResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationsResponse.serializeBinaryToWriter=function(e,t){var o;(o=e.getOperationsList()).length>0&&t.writeRepeatedMessage(1,o,proto.pb.Operation.serializeBinaryToWriter)},proto.pb.OperationsResponse.prototype.getOperationsList=function(){return i.Message.getRepeatedWrapperField(this,proto.pb.Operation,1)},proto.pb.OperationsResponse.prototype.setOperationsList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.pb.OperationsResponse.prototype.addOperations=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.pb.Operation,t)},proto.pb.OperationsResponse.prototype.clearOperationsList=function(){return this.setOperationsList([])},proto.pb.OperationReassigmentRequest.repeatedFields_=[1],i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationReassigmentRequest.prototype.toObject=function(e){return proto.pb.OperationReassigmentRequest.toObject(e,this)},proto.pb.OperationReassigmentRequest.toObject=function(e,t){var o,r={truckList:i.Message.toObjectList(t.getTruckList(),n.Truck.toObject,e),operationDestination:(o=t.getOperationDestination())&&proto.pb.Operation.toObject(e,o)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.OperationReassigmentRequest.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationReassigmentRequest;return proto.pb.OperationReassigmentRequest.deserializeBinaryFromReader(o,t)},proto.pb.OperationReassigmentRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new n.Truck;t.readMessage(o,n.Truck.deserializeBinaryFromReader),e.addTruck(o);break;case 2:o=new proto.pb.Operation,t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.setOperationDestination(o);break;default:t.skipField()}return e},proto.pb.OperationReassigmentRequest.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationReassigmentRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationReassigmentRequest.serializeBinaryToWriter=function(e,t){var o=void 0;(o=e.getTruckList()).length>0&&t.writeRepeatedMessage(1,o,n.Truck.serializeBinaryToWriter),null!=(o=e.getOperationDestination())&&t.writeMessage(2,o,proto.pb.Operation.serializeBinaryToWriter)},proto.pb.OperationReassigmentRequest.prototype.getTruckList=function(){return i.Message.getRepeatedWrapperField(this,n.Truck,1)},proto.pb.OperationReassigmentRequest.prototype.setTruckList=function(e){return i.Message.setRepeatedWrapperField(this,1,e)},proto.pb.OperationReassigmentRequest.prototype.addTruck=function(e,t){return i.Message.addToRepeatedWrapperField(this,1,e,proto.pb.Truck,t)},proto.pb.OperationReassigmentRequest.prototype.clearTruckList=function(){return this.setTruckList([])},proto.pb.OperationReassigmentRequest.prototype.getOperationDestination=function(){return i.Message.getWrapperField(this,proto.pb.Operation,2)},proto.pb.OperationReassigmentRequest.prototype.setOperationDestination=function(e){return i.Message.setWrapperField(this,2,e)},proto.pb.OperationReassigmentRequest.prototype.clearOperationDestination=function(){return this.setOperationDestination(void 0)},proto.pb.OperationReassigmentRequest.prototype.hasOperationDestination=function(){return null!=i.Message.getField(this,2)},proto.pb.OperationReassigmentResponse.repeatedFields_=[2],i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationReassigmentResponse.prototype.toObject=function(e){return proto.pb.OperationReassigmentResponse.toObject(e,this)},proto.pb.OperationReassigmentResponse.toObject=function(e,t){var o,r={operation:(o=t.getOperation())&&proto.pb.Operation.toObject(e,o),truckErrorList:i.Message.toObjectList(t.getTruckErrorList(),proto.pb.TruckStateMessage.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.OperationReassigmentResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationReassigmentResponse;return proto.pb.OperationReassigmentResponse.deserializeBinaryFromReader(o,t)},proto.pb.OperationReassigmentResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Operation;t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.setOperation(o);break;case 2:o=new proto.pb.TruckStateMessage,t.readMessage(o,proto.pb.TruckStateMessage.deserializeBinaryFromReader),e.addTruckError(o);break;default:t.skipField()}return e},proto.pb.OperationReassigmentResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationReassigmentResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationReassigmentResponse.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getOperation())&&t.writeMessage(1,o,proto.pb.Operation.serializeBinaryToWriter),(o=e.getTruckErrorList()).length>0&&t.writeRepeatedMessage(2,o,proto.pb.TruckStateMessage.serializeBinaryToWriter)},proto.pb.OperationReassigmentResponse.prototype.getOperation=function(){return i.Message.getWrapperField(this,proto.pb.Operation,1)},proto.pb.OperationReassigmentResponse.prototype.setOperation=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.OperationReassigmentResponse.prototype.clearOperation=function(){return this.setOperation(void 0)},proto.pb.OperationReassigmentResponse.prototype.hasOperation=function(){return null!=i.Message.getField(this,1)},proto.pb.OperationReassigmentResponse.prototype.getTruckErrorList=function(){return i.Message.getRepeatedWrapperField(this,proto.pb.TruckStateMessage,2)},proto.pb.OperationReassigmentResponse.prototype.setTruckErrorList=function(e){return i.Message.setRepeatedWrapperField(this,2,e)},proto.pb.OperationReassigmentResponse.prototype.addTruckError=function(e,t){return i.Message.addToRepeatedWrapperField(this,2,e,proto.pb.TruckStateMessage,t)},proto.pb.OperationReassigmentResponse.prototype.clearTruckErrorList=function(){return this.setTruckErrorList([])},proto.pb.OperationFinalizeResponse.repeatedFields_=[2],i.Message.GENERATE_TO_OBJECT&&(proto.pb.OperationFinalizeResponse.prototype.toObject=function(e){return proto.pb.OperationFinalizeResponse.toObject(e,this)},proto.pb.OperationFinalizeResponse.toObject=function(e,t){var o,r={operation:(o=t.getOperation())&&proto.pb.Operation.toObject(e,o),truckErrorList:i.Message.toObjectList(t.getTruckErrorList(),proto.pb.TruckStateMessage.toObject,e)};return e&&(r.$jspbMessageInstance=t),r}),proto.pb.OperationFinalizeResponse.deserializeBinary=function(e){var t=new i.BinaryReader(e),o=new proto.pb.OperationFinalizeResponse;return proto.pb.OperationFinalizeResponse.deserializeBinaryFromReader(o,t)},proto.pb.OperationFinalizeResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();)switch(t.getFieldNumber()){case 1:var o=new proto.pb.Operation;t.readMessage(o,proto.pb.Operation.deserializeBinaryFromReader),e.setOperation(o);break;case 2:o=new proto.pb.TruckStateMessage,t.readMessage(o,proto.pb.TruckStateMessage.deserializeBinaryFromReader),e.addTruckError(o);break;default:t.skipField()}return e},proto.pb.OperationFinalizeResponse.prototype.serializeBinary=function(){var e=new i.BinaryWriter;return proto.pb.OperationFinalizeResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.pb.OperationFinalizeResponse.serializeBinaryToWriter=function(e,t){var o=void 0;null!=(o=e.getOperation())&&t.writeMessage(1,o,proto.pb.Operation.serializeBinaryToWriter),(o=e.getTruckErrorList()).length>0&&t.writeRepeatedMessage(2,o,proto.pb.TruckStateMessage.serializeBinaryToWriter)},proto.pb.OperationFinalizeResponse.prototype.getOperation=function(){return i.Message.getWrapperField(this,proto.pb.Operation,1)},proto.pb.OperationFinalizeResponse.prototype.setOperation=function(e){return i.Message.setWrapperField(this,1,e)},proto.pb.OperationFinalizeResponse.prototype.clearOperation=function(){return this.setOperation(void 0)},proto.pb.OperationFinalizeResponse.prototype.hasOperation=function(){return null!=i.Message.getField(this,1)},proto.pb.OperationFinalizeResponse.prototype.getTruckErrorList=function(){return i.Message.getRepeatedWrapperField(this,proto.pb.TruckStateMessage,2)},proto.pb.OperationFinalizeResponse.prototype.setTruckErrorList=function(e){return i.Message.setRepeatedWrapperField(this,2,e)},proto.pb.OperationFinalizeResponse.prototype.addTruckError=function(e,t){return i.Message.addToRepeatedWrapperField(this,2,e,proto.pb.TruckStateMessage,t)},proto.pb.OperationFinalizeResponse.prototype.clearTruckErrorList=function(){return this.setTruckErrorList([])},r.object.extend(t,proto.pb)}}]);