"use strict";(self.webpackChunkdts_hytera=self.webpackChunkdts_hytera||[]).push([[388],{3570:(e,i,t)=>{t.d(i,{v:()=>c});var s=t(5893),n=t(7812),a=t(6837),o=t(9544),d=t(7215);const r=(0,t(3914).Z)((()=>({subHeader:{lineHeight:0,background:"#fff",paddingLeft:0,display:"flex",marginTop:8,borderRadius:4,borderBottomStyle:"groove"}}))),c=({useOpen:e,title:i})=>{const t=r(),[c,l]=e,v=(0,s.jsx)(n.Z,Object.assign({onClick:()=>{l((e=>!e))},size:"small"},{children:c?(0,s.jsx)(o.Z,{fontSize:"small"},void 0):(0,s.jsx)(d.Z,{fontSize:"small"},void 0)}),void 0);return(0,s.jsx)(a.Z,Object.assign({disableGutters:!0,component:"span",className:t.subHeader},{children:(0,s.jsxs)("div",Object.assign({style:{display:"flex",alignItems:"center"}},{children:[(0,s.jsx)("span",Object.assign({style:{marginLeft:4}},{children:i}),void 0),(0,s.jsx)("div",Object.assign({style:{marginLeft:8}},{children:v}),void 0)]}),void 0)}),void 0)}},5738:(e,i,t)=>{t.d(i,{E:()=>Z,m:()=>S});var s=t(5893),n=t(7294),a=t(1120),o=t(9895),d=t(1749),r=t(1423),c=t(2318),l=t(2822),v=t(998),j=t(5757),p=t(5517),u=t(3570),g=t(4096),h=t(8479),x=t(465),m=t(3855),b=t(3054),f=t(6217),y=t(5090),O=t(9299);const Z="80vh",k=(0,a.Z)((e=>({root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{marginLeft:e.spacing(1),marginBottom:0},root_unload:{display:"flex"},tabs:{borderRight:`1px solid ${e.palette.divider}`},tab:{minWidth:10,padding:1,paddingTop:8,paddingBottom:8},buttonTab:{writingMode:"vertical-rl"}})));function C(e){const{children:i,value:t,index:n}=e,a=function(e,i){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&i.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)i.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(t[s[n]]=e[s[n]])}return t}(e,["children","value","index"]);return(0,s.jsx)("div",Object.assign({role:"tabpanel",hidden:t!==n,id:`vertical-tabpanel-${n}`,"aria-labelledby":`vertical-tab-${n}`,style:{flex:1,height:"auto",boxShadow:"inset 0px -2px 10px 0px rgb(17 16 10 / 56%)",margin:8,borderRadius:4}},a,{children:t===n&&i}),void 0)}function L(e){return{id:`vertical-tab-${e}`,"aria-controls":`vertical-tabpanel-${e}`}}const S=()=>{const{selectedUploadList:e}=(0,m.C)(b.nx),{polygonList:i,stockCellList:t,state:a}=(0,m.C)(b.WD),S=(0,m.T)(),w=k(),[$,E]=(0,n.useState)([]),[I,T]=(0,n.useState)([]),[A,N]=(0,h._)("index_tab_load_operation",0),W=(0,n.useState)(!1);(0,n.useEffect)((()=>{a===O.jR.DONE&&(E(i),T(t))}),[a]);const z=(0,n.useCallback)((e=>{if(e){const{value:t}=e.target,s=t?t.toUpperCase():"";E(i.filter((e=>{const i=e.material?e.material.type:"";return e.name.toUpperCase().includes(s)||e.nameProject.toUpperCase().includes(s)||i.includes(s)})))}}),[i]),D=(0,n.useCallback)((e=>{if(e){const{value:i}=e.target,s=i?i.toUpperCase():"";T(t.filter((e=>e.name.toUpperCase().includes(s))))}}),[t]),R=(0,n.useCallback)((()=>{E(i)}),[i]),P=(0,n.useCallback)((()=>{T(t)}),[t]),M=(0,n.useCallback)((i=>!!e.find((e=>e.id===i.id))),[e]);return(0,s.jsx)(o.Z,Object.assign({elevation:4,style:{flex:1}},{children:(0,s.jsxs)(d.Z,Object.assign({container:!0},{children:[(0,s.jsxs)(g.Z,Object.assign({orientation:"vertical",variant:"scrollable",value:A,indicatorColor:"primary",textColor:"primary",onChange:(e,i)=>{N(i)},"aria-label":"Vertical tabs",className:w.tabs},{children:[(0,s.jsx)(r.Z,Object.assign({className:w.tab,label:(0,s.jsx)(c.Z,Object.assign({variant:"caption",className:w.buttonTab},{children:"TAJO"}),void 0)},L(0)),void 0),(0,s.jsx)(r.Z,Object.assign({className:w.tab,label:(0,s.jsx)(c.Z,Object.assign({variant:"caption",className:w.buttonTab},{children:"STOCKs"}),void 0)},L(1)),void 0)]}),void 0),(0,s.jsx)(C,Object.assign({value:A,index:0},{children:(0,s.jsxs)(l.Z,Object.assign({dense:!0,disablePadding:!0,style:{width:"100%",paddingLeft:4,overflowY:"scroll",paddingBottom:32,height:Z},subheader:(0,s.jsx)(u.v,{title:"Carguío",useOpen:W},void 0)},{children:[W[0]&&(0,s.jsx)(x.V,{functionFilter:z,functionCancel:R,placeholder:"Buscar por polígono"},void 0),$.map((e=>(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(v.Z,Object.assign({selected:M(e),button:!0,dense:!0,onClick:()=>{return i=e,void S((0,f.qn)(Object.assign(Object.assign({},i),{type:y.NZ.PIT})));var i}},{children:(0,s.jsx)(j.Z,{primary:`${e.nameProject} - ${e.name} `,secondary:e.material?`Material ${e.material.type}`:"Material not found"},void 0)}),void 0),(0,s.jsx)(p.Z,{},void 0)]},e.id)))]}),void 0)}),void 0),(0,s.jsx)(C,Object.assign({value:A,index:1},{children:(0,s.jsxs)(l.Z,Object.assign({dense:!0,style:{width:"100%",paddingLeft:4,overflowY:"scroll"},subheader:(0,s.jsx)(u.v,{title:"Carguío",useOpen:W},void 0)},{children:[W[0]&&(0,s.jsx)(x.V,{functionFilter:D,functionCancel:P},void 0),I.map((e=>(0,s.jsx)(v.Z,Object.assign({selected:M(e),button:!0,dense:!0,onClick:()=>{return i=e,void S((0,f.qn)(Object.assign(Object.assign({},i),{type:y.NZ.STOCK})));var i}},{children:(0,s.jsx)(j.Z,{primary:e.name},void 0)}),e.id)))]}),void 0)}),void 0)]}),void 0)}),void 0)}},2515:(e,i,t)=>{t.d(i,{t:()=>o,m:()=>d});var s=t(5893),n=t(1920),a=t(5757);const o=({value:e,cy:i})=>{var t,o,d,r;switch(e){case n.u6.PAD:return(0,s.jsx)(a.Z,{primary:`Descarga: ${n.WW[i.download.type]} -  ${null===(t=i.download.pad.cellList[0])||void 0===t?void 0:t.name}`},void 0);case n.u6.DME:return(0,s.jsx)(a.Z,{primary:`Descarga: ${n.WW[i.download.type]} -  ${null===(o=i.download.dme.cellList[0])||void 0===o?void 0:o.name}`},void 0);case n.u6.PIT:return(0,s.jsx)(a.Z,{primary:`Descarga: ${n.WW[i.download.type]} -  ${null===(d=i.download.pit.cellList[0])||void 0===d?void 0:d.name}`},void 0);case n.u6.STOCK:return(0,s.jsx)(a.Z,{primary:`Descarga: ${n.WW[i.download.type]} -  ${null===(r=i.download.stock.cellList[0])||void 0===r?void 0:r.name}`},void 0);default:return(0,s.jsx)(s.Fragment,{},void 0)}},d=({value:e,cy:i})=>{switch(e){case n.u6.PAD:return(0,s.jsx)(a.Z,{primary:`Carga: ${n.WW[i.upload.type]} -  ${i.upload.pad.projectList[0].name}-${i.upload.pad.projectList[0].polygonList[0].name}`},void 0);case n.u6.DME:return(0,s.jsx)(a.Z,{primary:`Carga: ${i.upload.dme.projectList[0].name} - ${i.upload.dme.projectList[0].polygonList[0].name}`},void 0);case n.u6.PIT:return(0,s.jsx)(a.Z,{primary:`Carga: ${n.WW[i.upload.type]} -  ${i.upload.pit.projectList[0].name}- ${i.upload.pit.projectList[0].polygonList[0].name}`},void 0);case n.u6.STOCK:return(0,s.jsx)(a.Z,{primary:`Carga: ${n.WW[i.upload.type]} -  ${i.upload.stock.projectList[0].name}-${i.upload.stock.projectList[0].polygonList[0].name}`},void 0);default:return(0,s.jsx)(s.Fragment,{children:"node"},void 0)}}},461:(e,i,t)=>{t.d(i,{K:()=>f});var s=t(5893),n=t(5517),a=t(2822),o=t(7294),d=t(3855),r=t(8693),c=t(465),l=t(3570),v=t(1120),j=t(998),p=t(553),u=t(3258),g=t(5757),h=t(5090);const x=(0,v.Z)((e=>({disabledSpacing:{margin:0,padding:0,width:"100%"},checkbox:{"& .MuiCheckbox-root":{margin:0,padding:0,paddingLeft:8}}}))),m=o.memo((({truck:e,checked:i,trucksSelect:t,setTrucksSelect:n,disableWithOperation:a,handleonchangeTruck:o})=>{const d=x(),r=e.state>=0?h.SS[e.state]:"Sin conex...",c=e.operationList&&e.operationList.length>0?e.operationList[0].excavator.deviceAlias:"";return(0,s.jsx)(j.Z,Object.assign({button:!0,dense:!0,className:d.disabledSpacing,disabled:!!a&&!!c},{children:(0,s.jsx)(p.Z,{className:d.checkbox,onChange:()=>{const i=t.findIndex((i=>e.deviceId===i.deviceId));-1===i?t.push(e):t.splice(i,1),n(JSON.parse(JSON.stringify(t))),console.log(t)},control:(0,s.jsx)(u.Z,{onClick:()=>o(e),size:"small",checked:i,inputProps:{style:{padding:0}}},void 0),label:(0,s.jsx)(g.Z,{primary:`${e.deviceAlias} ${c?` ➜ ${c}`:""} (${r})`},void 0)},void 0)}),void 0)}));var b=t(5738);const f=o.memo((({trucksSelect:e,setTrucksSelect:i,handleonchangeTruck:t})=>{const v=(0,o.useState)(),{truckInfoList:j}=(0,d.C)(r.ej),[p,u]=(0,o.useState)([]);(0,o.useEffect)((()=>{u(j)}),[j]);const g=(0,o.useCallback)((e=>{if(e){const i=e.target?e.target.value.toUpperCase():"";u(j.filter((e=>e.deviceAlias.toUpperCase().includes(i))))}}),[j]),h=(0,o.useCallback)((()=>{u(j)}),[j]);return(0,s.jsxs)(a.Z,Object.assign({dense:!0,subheader:(0,s.jsx)(l.v,{title:"Trucks",useOpen:v},void 0),style:{width:"100%",paddingLeft:4,height:b.E,overflowY:"scroll",boxShadow:"inset 0px -2px 10px 0px rgb(17 16 10 / 56%)",margin:8,borderRadius:4}},{children:[v[0]&&(0,s.jsx)(c.V,{functionFilter:g,functionCancel:h},void 0),p.map((a=>{return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(m,{handleonchangeTruck:t,disableWithOperation:!1,checked:(d=a,!!e.find((e=>d.deviceId===e.deviceId))),trucksSelect:e,setTrucksSelect:i,truck:a},void 0),(0,s.jsx)(n.Z,{},void 0)]},a.deviceId);var d}))]}),void 0)}))},8850:(e,i,t)=>{t.d(i,{h:()=>l});var s=t(5893),n=t(5258),a=t(8358),o=t(282),d=t(2318),r=t(3471),c=t(5977);const l=({title:e})=>{const i=(0,c.k6)();return(0,s.jsx)(n.Z,Object.assign({position:"sticky",color:"secondary"},{children:(0,s.jsxs)(a.Z,{children:[(0,s.jsx)(o.Z,{size:"small",startIcon:(0,s.jsx)(r.Z,{color:"action",style:{color:"#fff"}},void 0),onClick:()=>{i.goBack()}},void 0),(0,s.jsx)(d.Z,Object.assign({variant:"h6"},{children:e}),void 0)]},void 0)}),void 0)}},2388:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ze});var s=t(5893),n=t(46),a=t(1749),o=t(9895),d=t(282),r=t(2284),c=t(5263),l=t(2200),v=t(179),j=t(3471),p=t(7294),u=t(868),g=t(7812),h=t(6072),x=t(1920);const m=({setOperationSelect:e,setReassignSelect:i})=>[{field:"startTime",headerName:"Inicio",type:"date",minWidth:170},{field:"excavator",headerName:"Palas",minWidth:110},{field:"trunks",headerName:"Camiones",flex:1},{field:"cycles",headerName:"Ciclos",minWidth:50},{field:"labelUpload",headerName:"Carga",minWidth:200},{field:"labelDownload",headerName:"Descarga",minWidth:160},{field:"labelstate",headerName:"Estado",minWidth:130},{field:"Opciones",headerName:"Opc",minWidth:110,renderCell:({row:t})=>{const[n,a]=(0,p.useState)(!0);return(0,s.jsxs)(s.Fragment,{children:[t.state!==x.J8.Finalizado&&(0,s.jsx)(u.ZP,Object.assign({title:"Reasignar"},{children:(0,s.jsx)(g.Z,Object.assign({size:"small",onClick:()=>{i(t)}},{children:(0,s.jsx)(l.Z,{fontSize:"small"},void 0)}),void 0)}),void 0),(0,s.jsx)(u.ZP,Object.assign({title:"Detalle"},{children:(0,s.jsx)(g.Z,Object.assign({size:"small",onClick:()=>{e(t),a((e=>!e))}},{children:n?(0,s.jsx)(h.Z,{fontSize:"small"},void 0):(0,s.jsx)(j.Z,{fontSize:"small"},void 0)}),void 0)}),void 0)]},void 0)}}];var b=t(2318),f=t(6837),y=t(6562),O=t(553),Z=t(3258),k=t(4436),C=t(2541),L=t(74),S=t(2822),w=t(998),$=t(5757),E=t(5477),I=t(2663),T=t(6856),A=t(9525);function N({open:e,setOpen:i,handleClickConfirm:t,children:n,loading:a,handleClose:o}){return(0,s.jsxs)(I.Z,Object.assign({fullWidth:!0,maxWidth:"lg",open:e,onClose:o||(()=>{i(!1)}),"aria-labelledby":"max-width-dialog-title"},{children:[(0,s.jsx)(A.Z,{children:n},void 0),(0,s.jsx)(T.Z,{children:a?(0,s.jsx)(E.Z,{},void 0):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.Z,Object.assign({onClick:o,color:"secondary"},{children:"Cancelar"}),void 0),(0,s.jsx)(d.Z,Object.assign({onClick:t,color:"primary"},{children:"Confirmar"}),void 0)]},void 0)},void 0)]}),void 0)}var W=t(6083),z=t(8715);const D=({open:e,handleClose:i,handleConfirm:t,title:n,message:a})=>(0,s.jsxs)(I.Z,Object.assign({open:e,onClose:i,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},{children:[(0,s.jsx)(W.Z,{children:n},void 0),(0,s.jsx)(A.Z,{children:(0,s.jsx)(z.Z,Object.assign({severity:"warning"},{children:a}),void 0)},void 0),(0,s.jsxs)(T.Z,{children:[(0,s.jsx)(d.Z,Object.assign({color:"primary",onClick:i},{children:"Cancelar"}),void 0),(0,s.jsx)(d.Z,Object.assign({color:"secondary",onClick:t,autoFocus:!0},{children:"Confirmar"}),void 0)]},void 0)]}),void 0);var R=t(5501),P=function(e,i,t,s){return new(t||(t=Promise))((function(n,a){function o(e){try{r(s.next(e))}catch(e){a(e)}}function d(e){try{r(s.throw(e))}catch(e){a(e)}}function r(e){var i;e.done?n(e.value):(i=e.value,i instanceof t?i:new t((function(e){e(i)}))).then(o,d)}r((s=s.apply(e,i||[])).next())}))};const M=(e,i,t,s,n)=>P(void 0,void 0,void 0,(function*(){t(!0);const a=yield(0,R.e1)(e,i);console.log("responseAssigment",a),t(!1),s((e=>!e)),n(void 0);let o="";a.truckErrorList.length>0&&a.truckErrorList.forEach((e=>{const i=1===e.state?"CARGANDO":"A DESCARGA";o+=` ${e.truckError.deviceAlias}=> ${i},`})),""!==o&&alert(`Las siguientes unidades no han podido ser reasignadas: ${o}`)})),F=e=>P(void 0,void 0,void 0,(function*(){const i=yield(0,R.zY)(e);console.log("finalizeOperationEvent",i);let t="";return i.truckErrorList.length>0&&i.truckErrorList.forEach((e=>{const i=1===e.state?"CARGANDO":"A DESCARGA";t+=` ${e.truckError.deviceAlias} => ${i},`})),t}));var U=t(3855),G=t(2672);const V=({operation:e,operations:i,setOperation:t,setRefresh:n})=>{if(!e)return(0,s.jsx)(s.Fragment,{},void 0);const[d,r]=(0,p.useState)([]),[c]=(0,p.useState)(e),[l,v]=p.useState(!1),j=(0,U.T)(),[u,g]=p.useState(!1),[h,x]=(0,p.useState)(),m=()=>{t(void 0)},E=e=>{x(e.target.value)},I=c.excavatorList&&c.excavatorList.length>0?c.excavatorList[0]:{};return(0,s.jsxs)(N,Object.assign({},{loading:u},{open:!!e,setOpen:()=>t(void 0),handleClickConfirm:()=>{d.length>0&&h&&e.id?v(!0):j((0,G.L8)({open:!0,severity:"warning",msg:"Es necesario seleccionar algún camión y una excavadora"}))},handleClose:m},{children:[(0,s.jsx)(a.Z,Object.assign({container:!0},{children:(0,s.jsx)(a.Z,Object.assign({item:!0,xs:12},{children:(0,s.jsx)(b.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Reasignación de camiones"}),void 0)}),void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({container:!0,style:{paddingLeft:4}},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(o.Z,Object.assign({style:{margin:10}},{children:(0,s.jsx)(S.Z,Object.assign({subheader:(0,s.jsxs)(f.Z,Object.assign({component:"div",id:"nested-list-subheader"},{children:["Camiones en ",I.deviceAlias]}),void 0)},{children:(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{children:(0,s.jsx)(y.Z,{children:c.truckList.map((e=>{return(0,s.jsx)(O.Z,{checked:(i=e,!!d.find((e=>i.id===e.id))),value:e.id,control:(0,s.jsx)(Z.Z,{onClick:()=>(e=>{const i=d.findIndex((i=>i.deviceId===e.deviceId));-1===i?d.push(e):d.splice(i,1),r(JSON.parse(JSON.stringify(d)))})(e)},void 0),label:`${e.deviceAlias}`},e.id);var i}))},void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(o.Z,Object.assign({style:{margin:10}},{children:(0,s.jsx)(S.Z,Object.assign({subheader:(0,s.jsx)(f.Z,Object.assign({component:"div"},{children:"Excavadora destino"}),void 0)},{children:(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{children:(0,s.jsx)(k.Z,Object.assign({component:"fieldset"},{children:(0,s.jsx)(C.Z,Object.assign({"aria-label":"gender",name:"radio-buttons-group"},{children:i.map((e=>3!==e.state&&(0,s.jsx)(O.Z,{value:e.id,disabled:c.id===e.id,control:(0,s.jsx)(L.Z,{},void 0),onChange:E,label:`${e.excavatorList[0].deviceAlias}`},e.id)))}),void 0)}),void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0),(0,s.jsx)(D,{open:l,handleClose:m,handleConfirm:()=>{M(h,d,g,n,t),v(!1)},title:"¿Esta seguro?",message:"Intentaremos mover estos camiones, si ocurre algun error se le informará"},void 0)]}),void 0)]}),void 0)};var J=t(1860),B=t(6037),H=t(1125),K=t(3099),_=t(2515);const Y=()=>(0,s.jsx)(o.Z,Object.assign({elevation:1,style:{marginBottom:4}},{children:(0,s.jsx)(w.Z,Object.assign({dense:!0,disableGutters:!0,selected:!0,button:!0},{children:(0,s.jsxs)(a.Z,Object.assign({justifyContent:"space-between",container:!0},{children:[(0,s.jsx)($.Z,{primary:"TRUCK"},void 0),(0,s.jsx)($.Z,{primary:"INICIO"},void 0),(0,s.jsx)($.Z,{primary:"DESCARGA"},void 0),(0,s.jsx)($.Z,{primary:"FIN"},void 0)]}),void 0)}),void 0)}),void 0),q=p.memo((({cy:e,index:i})=>{var t,n,d;const[r,c]=(0,p.useState)(!1),l=()=>{c(!r)},v=e.startTime?new Date(1e3*(null===(t=e.startTime)||void 0===t?void 0:t.seconds)).toISOString():"NO REG",j=e.downloadArrivalTime?new Date(1e3*(null===(n=e.downloadArrivalTime)||void 0===n?void 0:n.seconds)).toISOString():"NO REG. ",u=e.endTime?new Date(1e3*(null===(d=e.endTime)||void 0===d?void 0:d.seconds)).toISOString():"NO REG. ";return(0,s.jsxs)(o.Z,Object.assign({elevation:1,style:{marginBottom:4},id:e.id},{children:[(0,s.jsxs)(w.Z,Object.assign({dense:!0,disableGutters:!0,selected:!0,button:!0,onClick:l},{children:[(0,s.jsxs)(a.Z,Object.assign({justifyContent:"space-between",container:!0},{children:[(0,s.jsx)($.Z,{primary:`${i}.${e.truck.deviceAlias} `},void 0),(0,s.jsx)($.Z,{primary:v},void 0),(0,s.jsx)($.Z,{primary:j},void 0),(0,s.jsx)($.Z,{primary:u},void 0)]}),void 0),(0,s.jsx)(J.Z,Object.assign({onClick:l},{children:(0,s.jsx)(a.Z,Object.assign({container:!0,direction:"row",alignItems:"center"},{children:r?(0,s.jsx)(H.Z,{fontSize:"small",onClick:l},void 0):(0,s.jsx)(K.Z,{fontSize:"small",onClick:l},void 0)}),void 0)}),void 0)]}),void 0),(0,s.jsx)(B.Z,Object.assign({in:r,style:{paddingLeft:10}},{children:(0,s.jsxs)(S.Z,Object.assign({dense:!0,disablePadding:!0},{children:[(0,s.jsx)(w.Z,{children:(0,s.jsx)((()=>{let i="";return e.upload.pit&&(i="pit"),e.upload.stock&&(i="stock"),(0,s.jsx)(_.m,{value:i,cy:e},void 0)}),{},void 0)},void 0),(0,s.jsx)(w.Z,{children:(0,s.jsx)((()=>{let i="";return e.download.dme&&(i="dme"),e.download.pad&&(i="pad"),e.download.stock&&(i="stock"),(0,s.jsx)(_.t,{value:i,cy:e},void 0)}),{},void 0)},void 0),(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{primary:`Pala: ${e.excavator.deviceAlias} `},void 0)},void 0),(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{primary:`Camion: ${e.truck.deviceAlias} `},void 0)},void 0)]}),void 0)}),void 0)]}),e.id)}));var Q=t(6019),X=t(2930),ee=t(1267),ie=t(5639),te=t(2285),se=t(1120);const ne=(0,se.Z)((e=>({disabledSpacing:{},checkbox:{"& .MuiCheckbox-root":{margin:0,padding:0,paddingLeft:8}}}))),ae=({truck:e,checked:i,useTrucksSelect:t})=>{const n=ne(),[a,o]=t;return(0,s.jsx)(w.Z,Object.assign({button:!0,dense:!0,className:n.disabledSpacing},{children:(0,s.jsx)(O.Z,{className:n.checkbox,onChange:()=>{const i=a.findIndex((i=>e.deviceId===i.deviceId));-1===i?a.push(e):a.splice(i,1),o(JSON.parse(JSON.stringify(a)))},control:(0,s.jsx)(Z.Z,{size:"small",checked:i,inputProps:{style:{padding:0}}},void 0),label:`${e.deviceAlias} `},void 0)}),void 0)};var oe=t(4673),de=t(8561);const re=({value:e,operationSelect:i})=>(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(de.Z,{},void 0),size:"small",label:(()=>{switch(e){case x.u6.DME:return`Descarga: ${x.WW[i.download.type]} ${i.download.dme.name}`;case x.u6.PAD:return`Descarga: ${x.WW[i.download.type]} ${i.download.pad.name}`;case x.u6.STOCK:return`Descarga: ${x.WW[i.download.type]}`;default:return""}})()},void 0)}),void 0),ce=({value:e,operationSelect:i})=>(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(de.Z,{},void 0),size:"small",label:(()=>{switch(e){case x.u6.STOCK:return`Carga:  ${x.WW[i.upload.type]}  ${i.upload.stock.name}`;case x.u6.PIT:return`Carga:  ${x.WW[i.upload.type]}  ${i.upload.pit.name}`;default:return""}})()},void 0)}),void 0);var le=t(7965),ve=t(5977);const je=e=>{const{operation:i}=e,[t,o]=p.useState(!1),r=(0,U.T)(),c=(0,ve.k6)(),l=i&&i.excavatorList&&i.excavatorList.length>0?i.excavatorList[0]:{};return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,Object.assign({container:!0,style:{paddingLeft:2},alignItems:"center"},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsxs)(b.Z,Object.assign({variant:"button",style:{paddingLeft:4,paddingTop:16}},{children:["Detalle de operación",(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(le.Z,{},void 0),size:"small",label:l.deviceAlias},void 0)]}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(le.Z,{},void 0),size:"small",label:`Camiones: ${i?i.truckList.length:0}`},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(le.Z,{},void 0),size:"small",label:`Palas: ${i?i.excavatorList.length:0}`},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)(ee.Z,{style:{marginLeft:4},icon:(0,s.jsx)(le.Z,{},void 0),size:"small",label:`Ciclos: ${i?i.cycleList.length:0}`},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)((()=>{let e="";return i?(i.upload.pit&&(e="pit"),i.upload.stock&&(e="stock"),(0,s.jsx)(ce,{value:e,operationSelect:i},void 0)):(0,s.jsx)(s.Fragment,{},void 0)}),{},void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0},{children:(0,s.jsx)((()=>{let e="";return i?(i.download.dme&&(e="dme"),i.download.pad&&(e="pad"),i.download.stock&&(e="stock"),(0,s.jsx)(re,{value:e,operationSelect:i},void 0)):(0,s.jsx)(s.Fragment,{},void 0)}),{},void 0)}),void 0),i&&i.state===x.J8.Operando&&(0,s.jsxs)(n.Z,Object.assign({m:.5},{children:[(0,s.jsx)(d.Z,Object.assign({variant:"contained",color:"primary",onClick:()=>{o(!0)},size:"small"},{children:"Finalizar Operación"}),void 0),(0,s.jsx)(D,{open:t,handleClose:()=>{o(!1)},handleConfirm:()=>{return e=void 0,t=void 0,n=function*(){const e=yield F(i.id);e?r((0,G.L8)({open:!0,msg:e,severity:"error"})):(r((0,G.Ui)()),c.replace("/operation")),o(!1)},new((s=void 0)||(s=Promise))((function(i,a){function o(e){try{r(n.next(e))}catch(e){a(e)}}function d(e){try{r(n.throw(e))}catch(e){a(e)}}function r(e){var t;e.done?i(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,d)}r((n=n.apply(e,t||[])).next())}));var e,t,s,n},title:"¿Esta seguro?",message:`Esta intentando finalizar la operacion  ${i.excavatorList[0].deviceAlias}, si ocurre algun error se le informará`},void 0)]}),void 0)]}),void 0)},void 0)};function pe(e,i){return(0,s.jsx)(q,{cy:e,index:i+1},e.id)}const ue=function({cycles:e}){const[i,t]=(0,p.useState)([]),[a,o]=(0,p.useState)([]);return(0,p.useEffect)((()=>{const i=e.map((e=>e.truck)),s=[...new Set(i.map((e=>e.deviceId)))];t(s.map((e=>i.find((i=>i.deviceId===e)))))}),[e.length]),(0,s.jsxs)(S.Z,Object.assign({dense:!0,style:{margin:"0px 8px"}},{children:[(0,s.jsx)(Q.Z,Object.assign({id:"id-label"},{children:"Filtro por Camión"}),void 0),(0,s.jsx)(X.Z,Object.assign({labelId:"id-label",style:{width:"100%"},multiple:!0,value:a,onChange:e=>{const i=e.target.value;o(i)},renderValue:e=>(0,s.jsx)("div",{children:e.map((e=>(0,s.jsx)(ee.Z,{label:i.find((i=>i.deviceId===e)).deviceAlias,clickable:!0,deleteIcon:(0,s.jsx)(oe.Z,{onMouseDown:e=>e.stopPropagation()},void 0),onDelete:i=>(e=>{const i=a.findIndex((i=>i===e));i>=0&&a.splice(i,1),o(JSON.parse(JSON.stringify(a)))})(e)},e)))},void 0)},{children:i.map((e=>(0,s.jsxs)(ie.Z,Object.assign({value:e.deviceId},{children:[(0,s.jsx)(Z.Z,{checked:!!a.find((i=>i===e.deviceId))},void 0),(0,s.jsx)($.Z,{primary:e.deviceAlias},void 0)]}),e.deviceId)))}),void 0),(0,s.jsx)(n.Z,{height:4},void 0),(0,s.jsx)(Y,{},void 0),0===a.length?e.map(pe):e.filter((e=>a.find((i=>i===e.truck.deviceId)))).map(pe)]}),void 0)},ge=({operationSelect:e,setRefresh:i,setOperationSelect:t})=>{const n=(0,p.useState)([]),r=n[0],c=(0,U.T)(),l=(0,ve.k6)(),v=e&&e.cycleList;return e?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(a.Z,Object.assign({container:!0},{children:[(0,s.jsx)(je,{operation:e,setRefresh:i,setOperationSelect:t},void 0),(0,s.jsxs)(a.Z,Object.assign({container:!0},{children:[v&&(0,s.jsx)(a.Z,Object.assign({item:!0,md:6},{children:(0,s.jsx)(te.Z,Object.assign({direction:"left",in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,s.jsxs)(o.Z,Object.assign({elevation:4},{children:[(0,s.jsx)(b.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Ciclos"}),void 0),(0,s.jsx)(ue,{cycles:e.cycleList},void 0)]}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,style:{paddingLeft:4}},{children:(0,s.jsx)(te.Z,Object.assign({in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,s.jsxs)(o.Z,Object.assign({elevation:4},{children:[(0,s.jsx)(b.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Camiones"}),void 0),(0,s.jsxs)(S.Z,Object.assign({dense:!0},{children:[v&&e.truckList.map((e=>{return(0,s.jsx)(ae,{checked:(i=e,!!r.find((e=>i.id===e.id))),useTrucksSelect:n,truck:e},e.id);var i})),(0,s.jsx)(w.Z,{children:(0,s.jsx)(d.Z,Object.assign({onClick:()=>{return i=void 0,t=void 0,n=function*(){var i,t;(yield(i=e.id,t=r,P(void 0,void 0,void 0,(function*(){return yield(0,R.g$)(t,i)}))))?(c((0,G.Ui)()),l.replace("/operation")):(c((0,G.Ui)()),c((0,G.L8)({open:!0,msg:"Ocurrió un error",severity:"error"})))},new((s=void 0)||(s=Promise))((function(e,a){function o(e){try{r(n.next(e))}catch(e){a(e)}}function d(e){try{r(n.throw(e))}catch(e){a(e)}}function r(i){var t;i.done?e(i.value):(t=i.value,t instanceof s?t:new s((function(e){e(t)}))).then(o,d)}r((n=n.apply(i,t||[])).next())}));var i,t,s,n},color:"secondary",variant:"contained",size:"small",disabled:0===r.length},{children:"Liberar Camiones"}),void 0)},void 0)]}),void 0)]}),void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,md:3,style:{paddingLeft:4}},{children:(0,s.jsx)(te.Z,Object.assign({in:!!e,mountOnEnter:!0,unmountOnExit:!0},{children:(0,s.jsxs)(o.Z,Object.assign({elevation:4},{children:[(0,s.jsx)(b.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Rutas"}),void 0),(0,s.jsx)(S.Z,Object.assign({dense:!0},{children:v&&e.roadList.map((e=>(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{primary:`${e.name}`},void 0)},e.id)))}),void 0)]}),void 0)}),void 0)}),void 0)]}),void 0)]}),void 0)},void 0):(0,s.jsx)(s.Fragment,{},void 0)};var he=t(465),xe=t(8693),me=t(2198),be=t(461);const fe=({open:e,setOpen:i,setRefresh:t,operations:n})=>{const d=(0,U.T)(),[r,c]=(0,p.useState)([]),[l,v]=(0,p.useState)(""),[j,u]=(0,p.useState)([]),[g,h]=(0,p.useState)(!1),[x,m]=p.useState(!1);(0,p.useEffect)((()=>{d(xe.RK),d(me.CE)}),[]);const y=e=>{v(e.target.value)};return(0,s.jsxs)(N,Object.assign({},{loading:x},{open:e,handleClickConfirm:()=>{j.length<=0||l.length<=0?d((0,G.L8)({open:!0,msg:"Debe seleccionar almenos una excabadora y un camión",severity:"warning"})):h(!0)},handleClose:()=>{i(!1),u([]),v("")}},{children:[(0,s.jsx)(a.Z,Object.assign({container:!0},{children:(0,s.jsx)(a.Z,Object.assign({item:!0,xs:12},{children:(0,s.jsx)(b.Z,Object.assign({variant:"button",style:{paddingLeft:8,paddingTop:16}},{children:"Reasignación de camiones"}),void 0)}),void 0)}),void 0),(0,s.jsxs)(a.Z,Object.assign({container:!0,style:{paddingLeft:4}},{children:[(0,s.jsx)(a.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(o.Z,Object.assign({style:{margin:10}},{children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Z,Object.assign({style:{position:"sticky",zIndex:1,top:0,background:"#f6f6f6",padding:2}},{children:(0,s.jsx)(he.V,{functionFilter:e=>r.filter((i=>i.deviceAlias.includes(e))),functionCancel:()=>{},placeholder:"Camiones"},void 0)}),void 0),(0,s.jsx)(be.K,{handleonchangeTruck:()=>{},setTrucksSelect:u,trucksSelect:j},void 0)]},void 0)}),void 0)}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,xs:6},{children:(0,s.jsx)(o.Z,Object.assign({style:{margin:10}},{children:(0,s.jsx)(S.Z,Object.assign({subheader:(0,s.jsx)(f.Z,Object.assign({component:"div"},{children:"Excavadora destino"}),void 0)},{children:(0,s.jsx)(w.Z,{children:(0,s.jsx)($.Z,{children:(0,s.jsx)(k.Z,Object.assign({component:"fieldset"},{children:(0,s.jsx)(C.Z,Object.assign({"aria-label":"gender",name:"radio-buttons-group"},{children:n.filter((e=>2===e.state)).map((e=>{var i;return(0,s.jsx)(O.Z,{value:e.id,control:(0,s.jsx)(L.Z,{},void 0),onChange:y,label:`  ${null===(i=e.excavatorList[0])||void 0===i?void 0:i.deviceAlias}`},e.id)}))}),void 0)}),void 0)},void 0)},void 0)}),void 0)}),void 0)}),void 0)]}),void 0),(0,s.jsx)(D,{open:g,handleClose:()=>{h(!1)},handleConfirm:()=>{h(!1),i(!1),u([]),v(""),((e,i,t,s)=>{var n,a,o,d;n=void 0,a=void 0,d=function*(){t(!0);const n=yield(0,R.e1)(e,i);console.log("responseAssigment",n),t(!1),s((e=>!e));let a="";n.truckErrorList.length>0&&n.truckErrorList.forEach((e=>{const i=1===e.state?"CARGANDO":"A DESCARGA";a+=` ${e.truckError.deviceAlias}=> ${i},`})),""!==a&&alert(`Las siguientes unidades no han podido ser reasignadas: ${a}`)},new((o=void 0)||(o=Promise))((function(e,i){function t(e){try{r(d.next(e))}catch(e){i(e)}}function s(e){try{r(d.throw(e))}catch(e){i(e)}}function r(i){var n;i.done?e(i.value):(n=i.value,n instanceof o?n:new o((function(e){e(n)}))).then(t,s)}r((d=d.apply(n,a||[])).next())}))})(l,j,m,t)},title:"¿Esta seguro?",message:"Intentaremos mover estos camiones, si ocurre algun error se le informará"},void 0)]}),void 0)};var ye=t(7623),Oe=t(8920),Ze=t(6211),ke=t(3758);const Ce=(0,se.Z)((e=>(0,ye.Z)({fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:2}})));function Le({actionClick:e,Icon:i,visible:t,disabled:n,right:a,color:o,keyAction:d}){const r=Ce(),c=(0,Oe.Z)();(0,p.useEffect)((()=>{const i=i=>{console.log(i.key),i.key!==(null==d?void 0:d.toUpperCase())&&i.key!==(null==d?void 0:d.toLocaleLowerCase())&&i.key!==d||e()};return window.addEventListener("keydown",i),()=>{window.removeEventListener("keydown",i)}}),[]);const l={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen};return(0,s.jsx)(Ze.Z,Object.assign({in:t,timeout:l,unmountOnExit:!0},{children:(0,s.jsx)(ke.Z,Object.assign({disabled:n,onClick:e,className:r.fab,style:{right:a},size:"small",color:o||"primary"},{children:(0,s.jsx)(i,{},void 0)}),void 0)}),void 0)}var Se=t(3914);const we=(0,t(7850).Z)(),$e=(0,Se.Z)((e=>({root:{flexDirection:"column","& .ant-empty-img-1":{fill:"light"===e.palette.type?"#aeb8c2":"#262626"},"& .ant-empty-img-2":{fill:"light"===e.palette.type?"#f5f5f7":"#595959"},"& .ant-empty-img-3":{fill:"light"===e.palette.type?"#dce0e6":"#434343"},"& .ant-empty-img-4":{fill:"light"===e.palette.type?"#fff":"#1c1c1c"},"& .ant-empty-img-5":{fillOpacity:"light"===e.palette.type?"0.8":"0.08",fill:"light"===e.palette.type?"#f5f5f5":"#fff"}},label:{marginTop:e.spacing(1)}})),{defaultTheme:we});function Ee(){const e=$e();return(0,s.jsxs)(r.nik,Object.assign({className:e.root},{children:[(0,s.jsx)("svg",Object.assign({width:"120",height:"100",viewBox:"0 0 184 152","aria-hidden":!0,focusable:"false"},{children:(0,s.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,s.jsxs)("g",Object.assign({transform:"translate(24 31.67)"},{children:[(0,s.jsx)("ellipse",{className:"ant-empty-img-5",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},void 0),(0,s.jsx)("path",{className:"ant-empty-img-1",d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},void 0),(0,s.jsx)("path",{className:"ant-empty-img-2",d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},void 0),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},void 0)]}),void 0),(0,s.jsx)("path",{className:"ant-empty-img-3",d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},void 0),(0,s.jsxs)("g",Object.assign({className:"ant-empty-img-4",transform:"translate(149.65 15.383)"},{children:[(0,s.jsx)("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},void 0),(0,s.jsx)("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},void 0)]}),void 0)]}),void 0)}),void 0),(0,s.jsx)("div",Object.assign({className:e.label},{children:"Sin datos"}),void 0)]}),void 0)}var Ie=t(3250);const Te=e=>{if(!e)return"";const i=x.PW[e.type];switch(e.type){case 1:return e.pit&&e.pit.projectList&&e.pit.projectList.length>0&&e.pit.projectList[0].polygonList&&e.pit.projectList[0].polygonList.length>0?`${e.pit.projectList[0].name} - ${e.pit.projectList[0].polygonList[0].name}`:"";case 3:return e[i]&&e[i].cellList&&e[i].cellList.length>0?e[i].cellList[0].name:"";default:return""}},Ae=e=>{if(!e&&1!==e.type)return"";const i=x.PW[e.type];return`${"dme"===i?"Desm.":"Mine."} ${e[i]&&e[i].cellList&&e[i].cellList.length>0?e[i].cellList[0].name:""}`},Ne=()=>{const e=(0,ve.k6)(),{operationList:i,status:t}=(0,U.C)(Ie.YL),u=(0,U.T)(),{rowsData:g}=(()=>{const{operationList:e,status:i}=(0,U.C)(Ie.YL),[t,s]=(0,p.useState)([]);return(0,p.useEffect)((()=>{s("done"===i?e.map((e=>Object.assign(Object.assign({},e),{startTime:new Date(1e3*e.startTime.seconds),trunks:e.truckList.map((e=>e.deviceAlias)),excavator:e.excavatorList.map((e=>e.deviceAlias)),typeUpload:x.WW[e.upload.type],labelUpload:`${x.WW[e.upload.type]} ${Te(e.upload)}`,labelDownload:`${Ae(e.download)}`,typeDownload:x.WW[e.download.type],labelstate:x.J8[e.state],cycles:e.cycleList.length}))):[])}),[e]),{rowsData:t}})(),{sortModel:h,handleModelGrid:b}=(()=>{const[e,i]=(0,p.useState)([{field:"startTime",sort:"desc"}]);return{sortModel:e,handleModelGrid:t=>{0!=t.length?t[0].field!=e[0].field||t[0].sort!=e[0].sort?i(t):console.log("else"):"desc"==e[0].sort?i([Object.assign(Object.assign({},e[0]),{sort:"asc"})]):i([Object.assign(Object.assign({},e[0]),{sort:"desc"})])}}})(),[f,y]=(0,p.useState)([]),[O,Z]=(0,p.useState)(!1),[k,C]=(0,p.useState)(!0),[L,S]=(0,p.useState)(),[w,$]=(0,p.useState)(),[E,I]=(0,p.useState)(!1);(0,p.useEffect)((()=>{u((0,Ie.hS)())}),[]),(0,p.useEffect)((()=>{u((0,Ie.hS)())}),[O]),(0,p.useEffect)((()=>{"done"===t?(y([...i]),C(!1)):(y([]),C(!0))}),[t]),(0,p.useEffect)((()=>{const e=setInterval((()=>{T()}),3e5);return()=>{clearInterval(e)}}),[]),(0,p.useEffect)((()=>{if(L){const e=f.findIndex((e=>L.id===e.id));S(f[e])}}),[f]);const T=()=>{Z((e=>!e))};return(0,s.jsx)(n.Z,Object.assign({m:2},{children:(0,s.jsxs)(a.Z,Object.assign({style:{height:L?"100%":"90vh",overflowY:"scroll",display:"flex",flexDirection:"column"}},{children:[(0,s.jsx)(o.Z,Object.assign({elevation:2,style:{height:"100%",margin:4}},{children:(0,s.jsx)(n.Z,Object.assign({p:.5,style:{height:"100%"}},{children:(0,s.jsxs)(a.Z,Object.assign({container:!0,direction:"column",style:{height:"100%"}},{children:[(0,s.jsxs)(a.Z,Object.assign({item:!0},{children:[(0,s.jsxs)("div",Object.assign({style:{display:L||w?"none":"block"}},{children:[(0,s.jsx)(d.Z,Object.assign({onClick:()=>{e.push("/operation/create")},color:"primary",variant:"contained",size:"small",startIcon:(0,s.jsx)(c.Z,{fontSize:"small"},void 0)},{children:"Nueva"}),void 0),(0,s.jsx)(d.Z,Object.assign({onClick:()=>{I(!0)},style:{marginLeft:8},color:"secondary",variant:"outlined",size:"small",startIcon:(0,s.jsx)(l.Z,{fontSize:"small"},void 0)},{children:"Reasignacion"}),void 0)]}),void 0),(0,s.jsx)(Le,{visible:!k,actionClick:T,Icon:v.Z,disabled:k,color:"secondary",right:L?56:8,keyAction:"R"},void 0),(0,s.jsx)(Le,{visible:!!L,actionClick:()=>{S(void 0),$(void 0),Z((e=>!e))},Icon:j.Z,disabled:!1,right:8,keyAction:"Backspace"},void 0)]}),void 0),(0,s.jsx)(a.Z,Object.assign({item:!0,style:{display:L?"none":"flex",flex:1}},{children:(0,s.jsx)(r._$r,{rows:g,columns:m({setOperationSelect:S,setReassignSelect:$}),components:{NoRowsOverlay:Ee},loading:k,density:"compact",sortModel:h,onSortModelChange:e=>b(e)},void 0)}),void 0),(0,s.jsx)(ge,Object.assign({},{operationSelect:L,setRefresh:Z,setOperationSelect:S}),void 0)]}),void 0)}),void 0)}),void 0),(0,s.jsx)(fe,{open:E,setOpen:I,setRefresh:Z,operations:f},void 0),(0,s.jsx)(V,Object.assign({operations:f,operation:w,setOperation:$},{setRefresh:Z}),void 0)]}),void 0)}),void 0)};var We=t(8850);function ze(){return(0,s.jsxs)("div",{children:[(0,s.jsx)(We.h,{title:"Operations"},void 0),(0,s.jsx)(Ne,{},void 0)]},void 0)}}}]);